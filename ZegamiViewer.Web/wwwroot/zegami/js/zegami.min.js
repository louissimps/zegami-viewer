/*!
 * zegami, v1.7.3.
 * Copyright (c) Zegami Limited. A data visualisation tool for displaying large collections of images
 */
var zegami=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=394)}([function(e,t,n){"use strict";(function(e){var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===o(t)&&void 0!==e?e.exports=s():(i=s,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r))}(0,function(){function t(){return Di.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=f()),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=Ai.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}function y(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=m(t)),s(t._locale)||(e._locale=t._locale),Pi.length>0)for(n=0;n<Pi.length;n++)i=Pi[n],r=t[i],s(r)||(e[i]=r);return e}function _(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ki&&(ki=!0,t.updateOffset(this),ki=!1)}function b(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function x(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&M(e[i])!==M(t[i]))&&a++;return a+o}function S(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,n){var i=!0;return h(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,a=[],s=0;s<arguments.length;s++){if(r="","object"===o(arguments[s])){r+="\n["+s+"] ";for(var l in arguments[0])r+=l+": "+arguments[0][l]+", ";r=r.slice(0,-2)}else r=arguments[s];a.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function T(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Oi[e]||(S(n),Oi[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(e,t){var n,i=h({},e);for(n in t)d(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&r(e[n])&&(i[n]=h({},i[n]));return i}function A(e){null!=e&&this.set(e)}function P(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i}function k(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function O(){return this._invalidDate}function I(e){return this._ordinal.replace("%d",e)}function R(e,t,n,i){var r=this._relativeTime[n];return C(r)?r(e,t,n,i):r.replace(/%d/i,e)}function N(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function B(e,t){var n=e.toLowerCase();Fi[n]=Fi[n+"s"]=Fi[t]=e}function j(e){return"string"==typeof e?Fi[e]||Fi[e.toLowerCase()]:void 0}function F(e){var t,n,i={};for(n in e)d(e,n)&&(t=j(n))&&(i[t]=e[n]);return i}function Y(e,t){Yi[e]=t}function z(e){var t=[];for(var n in e)t.push({unit:n,priority:Yi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function H(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Vi[e]=r),t&&(Vi[t[0]]=function(){return U(r.apply(this,arguments),t[1],t[2])}),n&&(Vi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,i=e.match(zi);for(t=0,n=i.length;t<n;t++)Vi[i[t]]?i[t]=Vi[i[t]]:i[t]=V(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=C(i[r])?i[r].call(t,e):i[r];return o}}function W(e,t){return e.isValid()?(t=X(t,e.localeData()),Hi[t]=Hi[t]||G(t),Hi[t](e)):e.localeData().invalidDate()}function X(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ui.lastIndex=0;i>=0&&Ui.test(e);)e=e.replace(Ui,n),Ui.lastIndex=0,i-=1;return e}function q(e,t,n){lr[e]=C(t)?t:function(e,i){return e&&n?n:t}}function Q(e,t){return d(lr,e)?lr[e](t._strict,t._locale):new RegExp(Z(e))}function Z(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)ur[e[n]]=i}function $(e,t){J(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ee(e,t,n){null!=t&&d(ur,e)&&ur[e](t,n._a,n,e)}function te(e){return ne(e)?366:365}function ne(e){return e%4==0&&e%100!=0||e%400==0}function ie(){return ne(this.year())}function re(e,n){return function(i){return null!=i?(ae(this,e,i),t.updateOffset(this,n),this):oe(this,e)}}function oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ne(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ce(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function se(e){return e=j(e),C(this[e])?this[e]():this}function le(e,t){if("object"===(void 0===e?"undefined":o(e))){e=F(e);for(var n=z(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=j(e),C(this[e]))return this[e](t);return this}function ue(e,t){return(e%t+t)%t}function ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ue(t,12);return e+=(t-n)/12,1===n?ne(e)?29:28:31-n%7%2}function de(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||wr).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function he(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[wr.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function pe(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=_r.call(this._shortMonthsParse,a),-1!==r?r:null):(r=_r.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===t?-1!==(r=_r.call(this._shortMonthsParse,a))?r:(r=_r.call(this._longMonthsParse,a),-1!==r?r:null):-1!==(r=_r.call(this._longMonthsParse,a))?r:(r=_r.call(this._shortMonthsParse,a),-1!==r?r:null)}function fe(e,t,n){var i,r,o;if(this._monthsParseExact)return pe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(t=e.localeData().monthsParse(t),!l(t))return e;return n=Math.min(e.date(),ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ge(e){return null!=e?(me(this,e),t.updateOffset(this,!0),this):oe(this,"Month")}function ve(){return ce(this.year(),this.month())}function ye(e){return this._monthsParseExact?(d(this,"_monthsRegex")||be.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Sr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function _e(e){return this._monthsParseExact?(d(this,"_monthsRegex")||be.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Er),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function be(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=K(i[t]),r[t]=K(r[t]);for(t=0;t<24;t++)o[t]=K(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function we(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Me(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,n){var i=7+t-n;return-(7+Me(e,0,i).getUTCDay()-t)%7+i-1}function Se(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=xe(e,i,r),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=te(o)+u):u>te(e)?(o=e+1,a=u-te(e)):(o=e,a=u),{year:o,dayOfYear:a}}function Ee(e,t,n){var i,r,o=xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(r=e.year()-1,i=a+Te(r,t,n)):a>Te(e.year(),t,n)?(i=a-Te(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Te(e,t,n){var i=xe(e,t,n),r=xe(e+1,t,n);return(te(e)-i+r)/7}function Ce(e){return Ee(e,this._week.dow,this._week.doy).week}function Le(){return this._week.dow}function De(){return this._week.doy}function Ae(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pe(e){var t=Ee(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ke(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Oe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ie(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Be(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=_r.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===t?(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===t?-1!==(r=_r.call(this._weekdaysParse,a))?r:-1!==(r=_r.call(this._shortWeekdaysParse,a))?r:(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null):"ddd"===t?-1!==(r=_r.call(this._shortWeekdaysParse,a))?r:-1!==(r=_r.call(this._weekdaysParse,a))?r:(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null):-1!==(r=_r.call(this._minWeekdaysParse,a))?r:-1!==(r=_r.call(this._weekdaysParse,a))?r:(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:null)}function je(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Be.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ke(e,this.localeData()),this.add(e-t,"d")):t}function Ye(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Oe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ar),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ge(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=K(s[t]),l[t]=K(l[t]),u[t]=K(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function We(){return this.hours()%12||12}function Xe(){return this.hours()||24}function qe(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Qe(e,t){return t._meridiemParse}function Ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ke(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function $e(e){for(var t,n,i,r,o=0;o<e.length;){for(r=Je(e[o]).split("-"),t=r.length,n=Je(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=et(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&x(r,n,!0)>=t-1)break;t--}o++}return null}function et(t){var i=null;if(!Br[t]&&void 0!==e&&e&&e.exports)try{i=Or._abbr,n(601)("./"+t),tt(i)}catch(e){}return Br[t]}function tt(e,t){var n;return e&&(n=s(t)?rt(e):nt(e,t))&&(Or=n),Or._abbr}function nt(e,t){if(null!==t){var n=Nr;if(t.abbr=e,null!=Br[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Br[e]._config;else if(null!=t.parentLocale){if(null==Br[t.parentLocale])return jr[t.parentLocale]||(jr[t.parentLocale]=[]),jr[t.parentLocale].push({name:e,config:t}),null;n=Br[t.parentLocale]._config}return Br[e]=new A(D(n,t)),jr[e]&&jr[e].forEach(function(e){nt(e.name,e.config)}),tt(e),Br[e]}return delete Br[e],null}function it(e,t){if(null!=t){var n,i,r=Nr;i=et(e),null!=i&&(r=i._config),t=D(r,t),n=new A(t),n.parentLocale=Br[e],Br[e]=n,tt(e)}else null!=Br[e]&&(null!=Br[e].parentLocale?Br[e]=Br[e].parentLocale:null!=Br[e]&&delete Br[e]);return Br[e]}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Or;if(!i(e)){if(t=et(e))return t;e=[e]}return $e(e)}function ot(){return Ii(Br)}function at(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[dr]<0||n[dr]>11?dr:n[hr]<1||n[hr]>ce(n[cr],n[dr])?hr:n[pr]<0||n[pr]>24||24===n[pr]&&(0!==n[fr]||0!==n[mr]||0!==n[gr])?pr:n[fr]<0||n[fr]>59?fr:n[mr]<0||n[mr]>59?mr:n[gr]<0||n[gr]>999?gr:-1,m(e)._overflowDayOfYear&&(t<cr||t>hr)&&(t=hr),m(e)._overflowWeeks&&-1===t&&(t=vr),m(e)._overflowWeekday&&-1===t&&(t=yr),m(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,i,r,o=[];if(!e._d){for(i=lt(e),e._w&&null==e._a[hr]&&null==e._a[dr]&&ct(e),null!=e._dayOfYear&&(r=st(e._a[cr],i[cr]),(e._dayOfYear>te(r)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Me(r,0,e._dayOfYear),e._a[dr]=n.getUTCMonth(),e._a[hr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[pr]&&0===e._a[fr]&&0===e._a[mr]&&0===e._a[gr]&&(e._nextDay=!0,e._a[pr]=0),e._d=(e._useUTC?Me:we).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[pr]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(m(e).weekdayMismatch=!0)}}function ct(e){var t,n,i,r,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[cr],Ee(Ct(),1,4).year),i=st(t.W,1),((r=st(t.E,1))<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=Ee(Ct(),o,a);n=st(t.gg,e._a[cr],u.year),i=st(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>Te(n,o,a)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(s=Se(n,i,r,o,a),e._a[cr]=s.year,e._dayOfYear=s.dayOfYear)}function dt(e){var t,n,i,r,o,a,s=e._i,l=Fr.exec(s)||Yr.exec(s);if(l){for(m(e).iso=!0,t=0,n=Ur.length;t<n;t++)if(Ur[t][1].exec(l[1])){r=Ur[t][0],i=!1!==Ur[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Hr.length;t<n;t++)if(Hr[t][1].exec(l[3])){o=(l[2]||" ")+Hr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!zr.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),_t(e)}else e._isValid=!1}function ht(e,t,n,i,r,o){var a=[pt(e),xr.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function pt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function mt(e,t,n){return!e||Lr.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function gt(e,t,n){if(e)return Wr[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function vt(e){var t=Gr.exec(ft(e._i));if(t){var n=ht(t[4],t[3],t[2],t[5],t[6],t[7]);if(!mt(t[1],n,e))return;e._a=n,e._tzm=gt(t[8],t[9],t[10]),e._d=Me.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function yt(e){var n=Vr.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));dt(e),!1===e._isValid&&(delete e._isValid,vt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function _t(e){if(e._f===t.ISO_8601)return void dt(e);if(e._f===t.RFC_2822)return void vt(e);e._a=[],m(e).empty=!0;var n,i,r,o,a,s=""+e._i,l=s.length,u=0;for(r=X(e._f,e._locale).match(zi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(Q(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&m(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Vi[o]?(i?m(e).empty=!1:m(e).unusedTokens.push(o),ee(o,i,e)):e._strict&&!i&&m(e).unusedTokens.push(o);m(e).charsLeftOver=l-u,s.length>0&&m(e).unusedInput.push(s),e._a[pr]<=12&&!0===m(e).bigHour&&e._a[pr]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[pr]=bt(e._locale,e._a[pr],e._meridiem),ut(e),at(e)}function bt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function wt(e){var t,n,i,r,o;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],_t(t),g(t)&&(o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,(null==i||o<i)&&(i=o,n=t));h(e,n||t)}function Mt(e){if(!e._d){var t=F(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function xt(e){var t=new _(at(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||rt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new _(at(t)):(u(t)?e._d=t:i(n)?wt(e):n?_t(e):Et(e),g(e)||(e._d=null),e))}function Et(e){var n=e._i;s(n)?e._d=new Date(t.now()):u(n)?e._d=new Date(n.valueOf()):"string"==typeof n?yt(e):i(n)?(e._a=c(n.slice(0),function(e){return parseInt(e,10)}),ut(e)):r(n)?Mt(e):l(n)?e._d=new Date(n):t.createFromInputFallback(e)}function Tt(e,t,n,o,s){var l={};return!0!==n&&!1!==n||(o=n,n=void 0),(r(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=o,xt(l)}function Ct(e,t,n,i){return Tt(e,t,n,i,!1)}function Lt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ct();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Dt(){return Lt("isBefore",[].slice.call(arguments,0))}function At(){return Lt("isAfter",[].slice.call(arguments,0))}function Pt(e){for(var t in e)if(-1===_r.call(Zr,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Zr.length;++i)if(e[Zr[i]]){if(n)return!1;parseFloat(e[Zr[i]])!==M(e[Zr[i]])&&(n=!0)}return!0}function kt(){return this._isValid}function Ot(){return Jt(NaN)}function It(e){var t=F(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=rt(),this._bubble()}function Rt(e){return e instanceof It}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function jt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Kr)||["-",0,0],o=60*r[1]+M(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Ft(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(b(e)||u(e)?e.valueOf():Ct(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):Ct(e).local()}function Yt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function zt(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=jt(or,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(r=Yt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?rn(this,Jt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Yt(this)}function Ut(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ht(e){return this.utcOffset(0,e)}function Vt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yt(this),"m")),this}function Gt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=jt(rr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Wt(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Xt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=St(e),e._a){var t=e._isUTC?p(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Qt(){return!!this.isValid()&&!this._isUTC}function Zt(){return!!this.isValid()&&this._isUTC}function Kt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Jt(e,t){var n,i,r,a=e,s=null;return Rt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(a={},t?a[t]=e:a.milliseconds=e):(s=Jr.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:M(s[hr])*n,h:M(s[pr])*n,m:M(s[fr])*n,s:M(s[mr])*n,ms:M(Nt(1e3*s[gr]))*n}):(s=$r.exec(e))?(n="-"===s[1]?-1:(s[1],1),a={y:$t(s[2],n),M:$t(s[3],n),w:$t(s[4],n),d:$t(s[5],n),h:$t(s[6],n),m:$t(s[7],n),s:$t(s[8],n)}):null==a?a={}:"object"===(void 0===a?"undefined":o(a))&&("from"in a||"to"in a)&&(r=tn(Ct(a.from),Ct(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new It(a),Rt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function en(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tn(e,t){var n;return e.isValid()&&t.isValid()?(t=Ft(t,e),e.isBefore(t)?n=en(e,t):(n=en(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nn(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Jt(n,i),rn(this,r,e),this}}function rn(e,n,i,r){var o=n._milliseconds,a=Nt(n._days),s=Nt(n._months);e.isValid()&&(r=null==r||r,s&&me(e,oe(e,"Month")+s*i),a&&ae(e,"Date",oe(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&t.updateOffset(e,a||s))}function on(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function an(e,n){var i=e||Ct(),r=Ft(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,Ct(i)))}function sn(){return new _(this)}function ln(e,t){var n=b(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=j(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function un(e,t){var n=b(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=j(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function cn(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function dn(e,t){var n,i=b(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&(t=j(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function hn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function fn(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(i=Ft(e,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=j(t)){case"year":o=mn(this,i)/12;break;case"month":o=mn(this,i);break;case"quarter":o=mn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:w(o)}function mn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function gn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function _n(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=W(this,e);return this.localeData().postformat(n)}function bn(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ct(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.from(Ct(),e)}function Mn(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ct(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xn(e){return this.to(Ct(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=rt(e),null!=t&&(this._locale=t),this)}function En(){return this._locale}function Tn(e){switch(e=j(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Cn(e){return void 0===(e=j(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Ln(){return this._d.valueOf()-6e4*(this._offset||0)}function Dn(){return Math.floor(this.valueOf()/1e3)}function An(){return new Date(this.valueOf())}function Pn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function On(){return this.isValid()?this.toISOString():null}function In(){return g(this)}function Rn(){return h({},m(this))}function Nn(){return m(this).overflow}function Bn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function jn(e,t){H(0,[e,e.length],0,t)}function Fn(e){return Hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yn(e){return Hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return Te(this.year(),1,4)}function Un(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function Hn(e,t,n,i,r){var o;return null==e?Ee(this,i,r).year:(o=Te(e,i,r),t>o&&(t=o),Vn.call(this,e,t,n,i,r))}function Vn(e,t,n,i,r){var o=Se(e,t,n,i,r),a=Me(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Gn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Wn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Xn(e,t){t[gr]=M(1e3*("0."+e))}function qn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(e){return Ct(1e3*e)}function Kn(){return Ct.apply(null,arguments).parseZone()}function Jn(e){return e}function $n(e,t,n,i){var r=rt(),o=p().set(i,t);return r[n](o,e)}function ei(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return $n(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=$n(e,i,n,"month");return r}function ti(e,t,n,i){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r=rt(),o=e?r._week.dow:0;if(null!=n)return $n(t,(n+o)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=$n(t,(a+o)%7,i,"day");return s}function ni(e,t){return ei(e,t,"months")}function ii(e,t){return ei(e,t,"monthsShort")}function ri(e,t,n){return ti(e,t,n,"weekdays")}function oi(e,t,n){return ti(e,t,n,"weekdaysShort")}function ai(e,t,n){return ti(e,t,n,"weekdaysMin")}function si(){var e=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),e.milliseconds=co(e.milliseconds),e.seconds=co(e.seconds),e.minutes=co(e.minutes),e.hours=co(e.hours),e.months=co(e.months),e.years=co(e.years),this}function li(e,t,n,i){var r=Jt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function ui(e,t){return li(this,e,t,1)}function ci(e,t){return li(this,e,t,-1)}function di(e){return e<0?Math.floor(e):Math.ceil(e)}function hi(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*di(fi(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,a+=w(n/24),r=w(pi(a)),s+=r,a-=di(fi(r)),i=w(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function pi(e){return 4800*e/146097}function fi(e){return 146097*e/4800}function mi(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=j(e))||"year"===e)return t=this._days+i/864e5,n=this._months+pi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(fi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function gi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN}function vi(e){return function(){return this.as(e)}}function yi(){return Jt(this)}function _i(e){return e=j(e),this.isValid()?this[e+"s"]():NaN}function bi(e){return function(){return this.isValid()?this._data[e]:NaN}}function wi(){return w(this.days()/7)}function Mi(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function xi(e,t,n){var i=Jt(e).abs(),r=Co(i.as("s")),o=Co(i.as("m")),a=Co(i.as("h")),s=Co(i.as("d")),l=Co(i.as("M")),u=Co(i.as("y")),c=r<=Lo.ss&&["s",r]||r<Lo.s&&["ss",r]||o<=1&&["m"]||o<Lo.m&&["mm",o]||a<=1&&["h"]||a<Lo.h&&["hh",a]||s<=1&&["d"]||s<Lo.d&&["dd",s]||l<=1&&["M"]||l<Lo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Mi.apply(null,c)}function Si(e){return void 0===e?Co:"function"==typeof e&&(Co=e,!0)}function Ei(e,t){return void 0!==Lo[e]&&(void 0===t?Lo[e]:(Lo[e]=t,"s"===e&&(Lo.ss=t-1),!0))}function Ti(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=xi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ci(e){return(e>0)-(e<0)||+e}function Li(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=Do(this._milliseconds)/1e3,r=Do(this._days),o=Do(this._months);e=w(i/60),t=w(e/60),i%=60,e%=60,n=w(o/12),o%=12;var a=n,s=o,l=r,u=t,c=e,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var p=h<0?"-":"",f=Ci(this._months)!==Ci(h)?"-":"",m=Ci(this._days)!==Ci(h)?"-":"",g=Ci(this._milliseconds)!==Ci(h)?"-":"";return p+"P"+(a?f+a+"Y":"")+(s?f+s+"M":"")+(l?m+l+"D":"")+(u||c||d?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(d?g+d+"S":"")}var Di,Ai;Ai=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var Pi=t.momentProperties=[],ki=!1,Oi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Ii;Ii=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var Ri={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ni={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Bi=/\d{1,2}/,ji={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fi={},Yi={},zi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ui=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hi={},Vi={},Gi=/\d/,Wi=/\d\d/,Xi=/\d{3}/,qi=/\d{4}/,Qi=/[+-]?\d{6}/,Zi=/\d\d?/,Ki=/\d\d\d\d?/,Ji=/\d\d\d\d\d\d?/,$i=/\d{1,3}/,er=/\d{1,4}/,tr=/[+-]?\d{1,6}/,nr=/\d+/,ir=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,ar=/[+-]?\d+(\.\d{1,3})?/,sr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,lr={},ur={},cr=0,dr=1,hr=2,pr=3,fr=4,mr=5,gr=6,vr=7,yr=8;H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),B("year","y"),Y("year",1),q("Y",ir),q("YY",Zi,Wi),q("YYYY",er,qi),q("YYYYY",tr,Qi),q("YYYYYY",tr,Qi),J(["YYYYY","YYYYYY"],cr),J("YYYY",function(e,n){n[cr]=2===e.length?t.parseTwoDigitYear(e):M(e)}),J("YY",function(e,n){n[cr]=t.parseTwoDigitYear(e)}),J("Y",function(e,t){t[cr]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var _r,br=re("FullYear",!0);_r=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),B("month","M"),Y("month",8),q("M",Zi),q("MM",Zi,Wi),q("MMM",function(e,t){return t.monthsShortRegex(e)}),q("MMMM",function(e,t){return t.monthsRegex(e)}),J(["M","MM"],function(e,t){t[dr]=M(e)-1}),J(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[dr]=r:m(n).invalidMonth=e});var wr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sr=sr,Er=sr;H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),Y("week",5),Y("isoWeek",5),q("w",Zi),q("ww",Zi,Wi),q("W",Zi),q("WW",Zi,Wi),$(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=M(e)});var Tr={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),q("d",Zi),q("e",Zi),q("E",Zi),q("dd",function(e,t){return t.weekdaysMinRegex(e)}),q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),q("dddd",function(e,t){return t.weekdaysRegex(e)}),$(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:m(n).invalidWeekday=e}),$(["d","e","E"],function(e,t,n,i){t[i]=M(e)});var Cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ar=sr,Pr=sr,kr=sr;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,We),H("k",["kk",2],0,Xe),H("hmm",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)}),H("hmmss",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),qe("a",!0),qe("A",!1),B("hour","h"),Y("hour",13),q("a",Qe),q("A",Qe),q("H",Zi),q("h",Zi),q("k",Zi),q("HH",Zi,Wi),q("hh",Zi,Wi),q("kk",Zi,Wi),q("hmm",Ki),q("hmmss",Ji),q("Hmm",Ki),q("Hmmss",Ji),J(["H","HH"],pr),J(["k","kk"],function(e,t,n){var i=M(e);t[pr]=24===i?0:i}),J(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),J(["h","hh"],function(e,t,n){t[pr]=M(e),m(n).bigHour=!0}),J("hmm",function(e,t,n){var i=e.length-2;t[pr]=M(e.substr(0,i)),t[fr]=M(e.substr(i)),m(n).bigHour=!0}),J("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[pr]=M(e.substr(0,i)),t[fr]=M(e.substr(i,2)),t[mr]=M(e.substr(r)),m(n).bigHour=!0}),J("Hmm",function(e,t,n){var i=e.length-2;t[pr]=M(e.substr(0,i)),t[fr]=M(e.substr(i))}),J("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[pr]=M(e.substr(0,i)),t[fr]=M(e.substr(i,2)),t[mr]=M(e.substr(r))});var Or,Ir=/[ap]\.?m?\.?/i,Rr=re("Hours",!0),Nr={calendar:Ri,longDateFormat:Ni,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Bi,relativeTime:ji,months:Mr,monthsShort:xr,week:Tr,weekdays:Cr,weekdaysMin:Dr,weekdaysShort:Lr,meridiemParse:Ir},Br={},jr={},Fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zr=/Z|[+-]\d\d(?::?\d\d)?/,Ur=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Hr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vr=/^\/?Date\((\-?\d+)/i,Gr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Xr=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),qr=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}),Qr=function(){return Date.now?Date.now():+new Date},Zr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Bt("Z",":"),Bt("ZZ",""),q("Z",or),q("ZZ",or),J(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=jt(or,e)});var Kr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Jr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$r=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Jt.fn=It.prototype,Jt.invalid=Ot;var eo=nn(1,"add"),to=nn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),jn("gggg","weekYear"),jn("ggggg","weekYear"),jn("GGGG","isoWeekYear"),jn("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),q("G",ir),q("g",ir),q("GG",Zi,Wi),q("gg",Zi,Wi),q("GGGG",er,qi),q("gggg",er,qi),q("GGGGG",tr,Qi),q("ggggg",tr,Qi),$(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=M(e)}),$(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),B("quarter","Q"),Y("quarter",7),q("Q",Gi),J("Q",function(e,t){t[dr]=3*(M(e)-1)}),H("D",["DD",2],"Do","date"),B("date","D"),Y("date",9),q("D",Zi),q("DD",Zi,Wi),q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),J(["D","DD"],hr),J("Do",function(e,t){t[hr]=M(e.match(Zi)[0],10)});var io=re("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),Y("dayOfYear",4),q("DDD",$i),q("DDDD",Xi),J(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)}),H("m",["mm",2],0,"minute"),B("minute","m"),Y("minute",14),q("m",Zi),q("mm",Zi,Wi),J(["m","mm"],fr);var ro=re("Minutes",!1);H("s",["ss",2],0,"second"),B("second","s"),Y("second",15),q("s",Zi),q("ss",Zi,Wi),J(["s","ss"],mr);var oo=re("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),Y("millisecond",16),q("S",$i,Gi),q("SS",$i,Wi),q("SSS",$i,Xi);var ao;for(ao="SSSS";ao.length<=9;ao+="S")q(ao,nr);for(ao="S";ao.length<=9;ao+="S")J(ao,Xn);var so=re("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var lo=_.prototype;lo.add=eo,lo.calendar=an,lo.clone=sn,lo.diff=fn,lo.endOf=Cn,lo.format=_n,lo.from=bn,lo.fromNow=wn,lo.to=Mn,lo.toNow=xn,lo.get=se,lo.invalidAt=Nn,lo.isAfter=ln,lo.isBefore=un,lo.isBetween=cn,lo.isSame=dn,lo.isSameOrAfter=hn,lo.isSameOrBefore=pn,lo.isValid=In,lo.lang=no,lo.locale=Sn,lo.localeData=En,lo.max=qr,lo.min=Xr,lo.parsingFlags=Rn,lo.set=le,lo.startOf=Tn,lo.subtract=to,lo.toArray=Pn,lo.toObject=kn,lo.toDate=An,lo.toISOString=vn,lo.inspect=yn,lo.toJSON=On,lo.toString=gn,lo.unix=Dn,lo.valueOf=Ln,lo.creationData=Bn,lo.year=br,lo.isLeapYear=ie,lo.weekYear=Fn,lo.isoWeekYear=Yn,lo.quarter=lo.quarters=Gn,lo.month=ge,lo.daysInMonth=ve,lo.week=lo.weeks=Ae,lo.isoWeek=lo.isoWeeks=Pe,lo.weeksInYear=Un,lo.isoWeeksInYear=zn,lo.date=io,lo.day=lo.days=Fe,lo.weekday=Ye,lo.isoWeekday=ze,lo.dayOfYear=Wn,lo.hour=lo.hours=Rr,lo.minute=lo.minutes=ro,lo.second=lo.seconds=oo,lo.millisecond=lo.milliseconds=so,lo.utcOffset=zt,lo.utc=Ht,lo.local=Vt,lo.parseZone=Gt,lo.hasAlignedHourOffset=Wt,lo.isDST=Xt,lo.isLocal=Qt,lo.isUtcOffset=Zt,lo.isUtc=Kt,lo.isUTC=Kt,lo.zoneAbbr=qn,lo.zoneName=Qn,lo.dates=E("dates accessor is deprecated. Use date instead.",io),lo.months=E("months accessor is deprecated. Use month instead",ge),lo.years=E("years accessor is deprecated. Use year instead",br),lo.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ut),lo.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qt);var uo=A.prototype;uo.calendar=P,uo.longDateFormat=k,uo.invalidDate=O,uo.ordinal=I,uo.preparse=Jn,uo.postformat=Jn,uo.relativeTime=R,uo.pastFuture=N,uo.set=L,uo.months=de,uo.monthsShort=he,uo.monthsParse=fe,uo.monthsRegex=_e,uo.monthsShortRegex=ye,uo.week=Ce,uo.firstDayOfYear=De,uo.firstDayOfWeek=Le,uo.weekdays=Ie,uo.weekdaysMin=Ne,uo.weekdaysShort=Re,uo.weekdaysParse=je,uo.weekdaysRegex=Ue,uo.weekdaysShortRegex=He,uo.weekdaysMinRegex=Ve,uo.isPM=Ze,uo.meridiem=Ke,tt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=E("moment.lang is deprecated. Use moment.locale instead.",tt),t.langData=E("moment.langData is deprecated. Use moment.localeData instead.",rt);var co=Math.abs,ho=vi("ms"),po=vi("s"),fo=vi("m"),mo=vi("h"),go=vi("d"),vo=vi("w"),yo=vi("M"),_o=vi("y"),bo=bi("milliseconds"),wo=bi("seconds"),Mo=bi("minutes"),xo=bi("hours"),So=bi("days"),Eo=bi("months"),To=bi("years"),Co=Math.round,Lo={ss:44,s:45,m:45,h:22,d:26,M:11},Do=Math.abs,Ao=It.prototype;return Ao.isValid=kt,Ao.abs=si,Ao.add=ui,Ao.subtract=ci,Ao.as=mi,Ao.asMilliseconds=ho,Ao.asSeconds=po,Ao.asMinutes=fo,Ao.asHours=mo,Ao.asDays=go,Ao.asWeeks=vo,Ao.asMonths=yo,Ao.asYears=_o,Ao.valueOf=gi,Ao._bubble=hi,Ao.clone=yi,Ao.get=_i,Ao.milliseconds=bo,Ao.seconds=wo,Ao.minutes=Mo,Ao.hours=xo,Ao.days=So,Ao.weeks=wi,Ao.months=Eo,Ao.years=To,Ao.humanize=Ti,Ao.toISOString=Li,Ao.toString=Li,Ao.toJSON=Li,Ao.locale=Sn,Ao.localeData=En,Ao.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),Ao.lang=no,H("X",0,0,"unix"),H("x",0,0,"valueOf"),q("x",ir),q("X",ar),J("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),J("x",function(e,t,n){n._d=new Date(M(e))}),t.version="2.19.2",function(e){Di=e}(Ct),t.fn=lo,t.min=Dt,t.max=At,t.now=Qr,t.utc=p,t.unix=Zn,t.months=ni,t.isDate=u,t.locale=tt,t.invalid=v,t.duration=Jt,t.isMoment=b,t.weekdays=ri,t.parseZone=Kn,t.localeData=rt,t.isDuration=Rt,t.monthsShort=ii,t.weekdaysMin=ai,t.defineLocale=nt,t.updateLocale=it,t.locales=ot,t.weekdaysShort=oi,t.normalizeUnits=j,t.relativeTimeRounding=Si,t.relativeTimeThreshold=Ei,t.calendarFormat=on,t.prototype=lo,t})}).call(t,n(600)(e))},function(e,t,n){var i=n(10),r=n(37),o=n(24),a=n(25),s=n(32),l=function(e,t,n){var u,c,d,h,p=e&l.F,f=e&l.G,m=e&l.S,g=e&l.P,v=e&l.B,y=f?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,_=f?r:r[t]||(r[t]={}),b=_.prototype||(_.prototype={});f&&(n=t);for(u in n)c=!p&&y&&void 0!==y[u],d=(c?y:n)[u],h=v&&c?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,u,d,e&l.U),_[u]!=d&&o(_,u,h),g&&b[u]!=d&&(b[u]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var i=n(599),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default;t.Events=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=n(6),s=function(){function e(){i(this,e),this.defaultOptions={checkLoginStatus:!1,configUrl:null,description:null,disclaimer:null,loader:{name:"default",options:{}},facetTypes:{string:{views:{List:{}},actions:["Sort","Info"]},number:{views:{Range:{isDefault:!0},ScatterPlot:{}},actions:["Range","ScatterPlot","Expand","Info"]},date:{views:{Date:{isDefault:!0},ScatterPlot:{}},actions:["Date","ScatterPlot","Expand","Info"]},url:{actions:["Info"]}},dataTypeViews:{list:{itemLimit:20}},views:[],extensions:{},metadataPanelDisplayNull:!1,metadataPanel:[],loadingImage:null,logoImage:"zegami-logo.svg",baseCSSPath:"/css",baseImagePath:"/img",baseJSPath:"/js",defaultAboutSite:"http://www.zegami.com",defaultHelpSite:"http://support.zegami.com",debug:!1,ajaxQueryArgs:[],serverUrl:null,collectionId:null,logging:"error",memoryProfileInterval:2e3,trackVisited:!0,attribution:null,toolbar:[{type:"snapshot",visible:!1},{type:"export",visible:!1},{type:"labels",visible:!0,enabled:!1,font:"Arial",resolution:100},{type:"grouptag",visible:!1},{type:"tilemanagersource",visible:!0},{type:"download",visible:!1},{type:"legend",enabled:!1,visible:!0},{type:"fullscreen",enabled:!0,visible:!1},{type:"about",enabled:!0,visible:!1},{type:"help",enabled:!0,visible:!1}],colors:{primary:"#D5D7D8",primaryDark:"#565689",primaryAlt:"#565689",deselected:"#AFAFAF",blankSprite:"#BBBBBB",scatterSelect:"#F2570A",labelBorder:"#FFFFFF"},authToken:null,isEditable:!1,tagEndpoint:null,allowAddTags:!1,langs:{en:{filters:"filters",viewSelection:"Visualisation types",graph:"graph",grid:"grid",table:"table","sort-by":"Sort by","group-by":"Group by",search:"search",info:"info",list:"list",sort:"sort",range:"range",date:"date",scatterplot:"scatter",expand:"expand",layer:"Layer","null-data":"[Empty]","select-list-none":"(None)","snapshot-tooltip":"Save and manage snapshots","export-tooltip":"Export current filter as a table","labels-tooltip":"Show labels","grouptag-tooltip":"Group tag items","legend-tooltip":"Toggle legend","download-tooltip":"Download entire data source","tilemanagersource-tooltip":"Change pictures source","selection-tooltip":"Select multiple items","fullscreen-tooltip":"Full screen","help-tooltip":"Zegami help","range-label":" to ","fraction-label":" of ","snapshots-input-placeholder":"Type name...","snapshots-submit-button":"Take Snapshot","snapshots-remove-button":"Remove snapshot","snapshots-link-button":"Share snapshot link","snapshots-title":"Snapshots","snapshots-default-msg":"No snapshots yet! Take a snapshot to save the current state.","imagesources-title":"Image sources","downloads-title":"Download full data set","search-placeholder":"Search...","search-filter-placeholder":"Search filter","group-legend-label":" legend","group-legend-total":"total:","tags-label":"tags","itemcount-label":"Showing {0} / {1} items ({2}%)","metadata-nav-left-tooltip":"Previous item","metadata-nav-right-tooltip":"Next item","loader-loading":"Downloading data...","loader-loaded":"Loading complete.","loader-ready":"Processing data...","loader-data-ready":"Data processed.","loader-tilemanger-loading":"Loading picture data...","string-filter-breadcrumb-limit":" ... and {0} more",close:"View collection",loading:"Loading...","x-axis":"x axis","y-axis":"y axis",series:"series",trellis:"trellis","snapshots-link-title":"Snapshot link","snapshots-link-desc":"Use this link to share the snapshot with others.","tag-all":"Tag all items","downloads-csv":"Comma Separated Values (csv)","downloads-tsv":"Tab Separated Values (tsv)","selection-mode":"SELECTION MODE","select-all":"select all","select-none":"select none","select-inverse":"select inverse","select-random":"select random","select-tag":"TAG SELECTED","select-tag-placeholder":"Add Tags...","metadata-data":"Data","collection-info-tooltip":"Collection information","share-title":"Share this collection"},it:{filters:"filtri",graph:"diagramma",grid:"griglia","sort-by":"Ordina per","group-by":"Raggruppa per",search:"cerca",sort:"ordina",range:"range",scatterplot:"scatter",expand:"espandi",layer:"Livello","snapshot-tooltip":"Salva e gestisci istantanee","export-tooltip":"Esporta filtro corrente come tabella","labels-tooltip":"Mostra/Nascondi etichette elementi","legend-tooltip":"Mostra/Nascondi legenda","tilemanagersource-tooltip":"Cambia fonte delle immagini","fullscreen-tooltip":"Modalit Schermo Intero","help-tooltip":"Zegami aiuto","range-label":" a ","fraction-label":" di ","snapshots-input-placeholder":"Scrivi un nome...","snapshots-submit-button":"Salva istantanea","snapshots-remove-button":"Rimuovi istantanea","snapshots-link-button":"Condividi link dell'istantanea","snapshots-title":"Elenco istantanee","snapshots-default-msg":"Non vi sono istantanee! Effettua un'istantanea per salvare lo stato corrente.","search-placeholder":"Cerca...","group-legend-label":" legenda","group-legend-total":"totale:","tags-label":"tag","itemcount-label":"{0}% di {1} elementi","metadata-nav-left-tooltip":"Elemento precedente","metadata-nav-right-tooltip":"Elemento successivo","loader-loading":"Caricamento:","loader-loaded":"Caricato:","loader-ready":"Caricamento dati...","loader-data-ready":"Dati caricati","loader-tilemanger-loading":"Caricamento dati immagini...","string-filter-breadcrumb-limit":" ... e altri {0}"},fr:{filters:"filtre",graph:"graphie",grid:"grille","sort-by":"Trier par","group-by":"Rassembler par",search:"recherche",info:"info",list:"liste",sort:"trier",range:"bandse",scatterplot:"scatter",expand:"augment",layer:"couche","null-data":"[Vide]","select-list-none":"(Aucun)","snapshot-tooltip":"Enregistrez et grez les instantans","export-tooltip":"Exporter les donnes filtres sous forme de tableau","labels-tooltip":"Basculer les tiquettes des items","grouptag-tooltip":"Etiqueter les items en groups","legend-tooltip":"Basculer la lgende","download-tooltip":"Tlcharger toutes les donnes","tilemanagersource-tooltip":"Changer la source des images","fullscreen-tooltip":"Plein cran","help-tooltip":"Section d'aide","range-label":" ","fraction-label":" de","snapshots-input-placeholder":"taper nom","snapshots-submit-button":"Prendre instantan","snapshots-remove-button":"Suprimmer instantan","snapshots-link-button":"Partarger lurl dinstantan","snapshots-title":"Instantans","snapshots-default-msg":"Aucun instantans! Cliquez sur prendre instantan enregistrer l'tat courant","imagesources-title":"Sources des images","downloads-title":"Tlcharger toutes les donnes","search-placeholder":"recherche","group-legend-label":" legende","group-legend-total":"total:","tags-label":"tiquettes","itemcount-label":"{0}% de {1} items","metadata-nav-left-tooltip":"Item prcdent","metadata-nav-right-tooltip":"Item prochain","loader-loading":"Donnes en cours de tlchargement","loader-loaded":"Chargement complet.","loader-ready":"Traitement de donnes en cours","loader-data-ready":"Traitement de donnes complet","loader-tilemanger-loading":"Chargement dimages","string-filter-breadcrumb-limit":" ... et {0} en plus",close:"Fermer",loading:"en chargement","y-axis":"axe x","x-axis":"axe y",series:"sries",trellis:"treillis","snapshots-link-title":"URL dinstantan","snapshots-link-desc":"Utilisez cURL pour partager l'instantan avec d'autres personnes","tag-all":"Etiqueter tous les items","downloads-csv":"Comma Separated Values (csv)","downloads-tsv":"Tab Separated Values (tsv)",table:"table","selection-mode":"MODE DE SELECTION","select-all":"Slectionner tout","select-none":"Ne rien slectionner","select-inverse":"inverser la slection","select-random":"slectionner alatoire","select-tag":"Etiqueter  la slection","select-tag-placeholder":"ajouter des etiquettes","metadata-data":"Donnes","collection-info-tooltip":"Information sur la collection"},de:{filters:"Filter",graph:"Graph",grid:"Gitter","sort-by":"Sortieren nach","group-by":"Zusammen mit",search:"Suche",info:"Info",list:"Liste",sort:"sortieren",range:"Histogramm",scatterplot:"Scattergramm",expand:"erweitern",layer:"Schicht","null-data":"[Leer]","select-list-none":"(Keine)","snapshot-tooltip":"Speichern und Verwalten von Schnappschsse","export-tooltip":"Export gefilterten Daten in einer Tabelle","labels-tooltip":"Toggle Artikel Etiketten","grouptag-tooltip":"Taggen Sie die Artikel in Gruppen","legend-tooltip":"Schaltet die Legende","download-tooltip":"Laden Sie alle Daten","tilemanagersource-tooltip":"ndern Sie die Quellbilder","fullscreen-tooltip":"Vollbild","help-tooltip":"Hilfebereich","range-label":" bis","fraction-label":" von","snapshots-input-placeholder":"Geben Sie den Namen","snapshots-submit-button":"Schnappschuss","snapshots-remove-button":"entfernen Schnappschuss","snapshots-link-button":"Share Schnappschuss-Link","snapshots-title":"Schnappschsse","snapshots-default-msg":"Noch keine Schnappschsse! ","imagesources-title":"Bildquellen","downloads-title":"Laden Sie alle Daten","search-placeholder":"Suche","group-legend-label":"Legende","group-legend-total":"gesamt:","tags-label":"Tags","itemcount-label":"{0}% von {1} Items","metadata-nav-left-tooltip":"Vor","metadata-nav-right-tooltip":"Zurck","loader-loading":"Daten werden geladen","loader-loaded":"Laden abgeschlossen.","loader-ready":"Daten werden verarbeitet...","loader-data-ready":"Daten sind fertig verarbeitet","loader-tilemanger-loading":"Bilddaten werden geladen ...","string-filter-breadcrumb-limit":"... Und noch {0}"},es:{filters:"filtros",graph:"grfico ",grid:"cuadrcula ","sort-by":"Ordenar-por","group-by":"Agrupar-por",search:"buscar",info:"info",list:"enumerar",sort:"ordenar",range:"intervalo",scatterplot:"diagrama de dispersin",expand:"expandir",layer:"Capa","null-data":"[Vaco]","select-list-none":"(Nada)","snapshot-tooltip":"Guardar y gestionar instantnea","export-tooltip":"Exportar filtro actual como tabla","labels-tooltip":"Cambiar etiquetas de elementos","grouptag-tooltip":"Agrupar etiquetas de elementos","legend-tooltip":"Cambiar leyenda","download-tooltip":"Descargar origen de datos entero","tilemanagersource-tooltip":"Cambiar origen de imgenes","fullscreen-tooltip":"Pantalla completa","help-tooltip":"Zegami ayuda","range-label":"a ","fraction-label":"de","snapshots-input-placeholder":"Entra nombre","snapshots-submit-button":"Tomar instantnea","snapshots-remove-button":"Eliminar instantnea","snapshots-link-button":"Compartir enlace de instantneas","snapshots-title":"Instantneas","snapshots-default-msg":"Ninguna instantnea todava! Tomar una instantnea para guardar el estado actual.","imagesources-title":"Orgenes de  imgenes","downloads-title":"Descargar conjunto de datos completo.","search-placeholder":"Buscar","group-legend-label":"leyenda","group-legend-total":"total:","tags-label":"etiquetas","itemcount-label":"{0}% de {1} elementos","metadata-nav-left-tooltip":"Elemento previo","metadata-nav-right-tooltip":"Siguiente elemento","loader-loading":"Descargando datos","loader-loaded":"Descarga completa.","loader-ready":"Processando datos","loader-data-ready":"Datos procesados.","loader-tilemanger-loading":"Cargando datos de imagen","string-filter-breadcrumb-limit":" y {0} ms "},ca:{filters:"filtres",graph:"grfic",grid:"quadrcula","sort-by":"Ordenar-per","group-by":"Agrupar-per",search:"buscar",info:"info",list:"enumerar",sort:"ordenar ",range:"interval",scatterplot:"grfic de dispersi",expand:"expandir",layer:"Capa","null-data":"[Buit]","select-list-none":"(Cap)","snapshot-tooltip":"Guardar I gestionar instantnia","export-tooltip":"Exportar filtre actual coma a taula","labels-tooltip":"Canviar etiquetes delements","grouptag-tooltip":"Agrupar etiquetas d elements","legend-tooltip":"Canviar llegenda","download-tooltip":"Descarregar origen de dades sencer","tilemanagersource-tooltip":"Canviar origen dimatges","fullscreen-tooltip":"Pantalla sencera","help-tooltip":"Zegami ajuda","range-label":"a ","fraction-label":"de ","snapshots-input-placeholder":"Introduir nom","snapshots-submit-button":"Prendre instantnies","snapshots-remove-button":"Traieu instantnia","snapshots-link-button":"Comparteix l'enlla instantnia","snapshots-title":" Instantnia","snapshots-default-msg":"No hi ha  instatntnies encara! Prendre una instantnia per guardar l'estat actual.","imagesources-title":"Origen de les imatges.","downloads-title":"Descarregar conjunt de dades complet","search-placeholder":"Buscar","group-legend-label":"llegenda","group-legend-total":"total:","tags-label":"etiquetes","itemcount-label":"{0} % de {1} elements","metadata-nav-left-tooltip":"Element previ.","metadata-nav-right-tooltip":"Segent","loader-loading":"Descarregant dades","loader-loaded":"Descrrega completa.","loader-ready":"Processant dades","loader-data-ready":"Dades processades.","loader-tilemanger-loading":"Carregant dades dimatge","string-filter-breadcrumb-limit":" I {0} ms"},bg:{filters:"",graph:"",grid:"","sort-by":"C ","group-by":" ",search:"",info:"",list:"",sort:"",range:" ",scatterplot:" ",expand:"",layer:"","null-data":"[]","select-list-none":"()","snapshot-tooltip":"    ","export-tooltip":"    ","labels-tooltip":"/   ","grouptag-tooltip":"   ","legend-tooltip":"/ ","download-tooltip":"    ","tilemanagersource-tooltip":"    ","fullscreen-tooltip":" ","help-tooltip":"","range-label":"","fraction-label":"","snapshots-input-placeholder":" ...","snapshots-submit-button":" ","snapshots-remove-button":"  ","snapshots-link-button":"  ","snapshots-title":" ","snapshots-default-msg":"  !     .","imagesources-title":"  ","downloads-title":"  ","search-placeholder":"...","group-legend-label":"","group-legend-total":":","tags-label":"","itemcount-label":"{0}%  {1} ","metadata-nav-left-tooltip":" ","metadata-nav-right-tooltip":" ","loader-loading":"  ...","loader-loaded":" .","loader-ready":"  ...","loader-data-ready":"  .","loader-tilemanger-loading":"    ...","string-filter-breadcrumb-limit":"...  {0}"},zh:{filters:"",graph:"",grid:"",table:"","sort-by":"","group-by":"",search:"",info:"",list:"",sort:"",range:"",date:"",scatterplot:"",expand:"",layer:"","null-data":"","select-list-none":"","snapshot-tooltip":"","export-tooltip":"","labels-tooltip":"","grouptag-tooltip":"","legend-tooltip":"","download-tooltip":"","tilemanagersource-tooltip":"","selection-tooltip":"","fullscreen-tooltip":"","help-tooltip":"Zegami","range-label":"  ","fraction-label":"  ","snapshots-input-placeholder":"...","snapshots-submit-button":"","snapshots-remove-button":"","snapshots-link-button":"","snapshots-title":"","snapshots-default-msg":"","imagesources-title":"","downloads-title":"","search-placeholder":"...","group-legend-label":" ","group-legend-total":":","tags-label":"","itemcount-label":"{1}{0}","metadata-nav-left-tooltip":"","metadata-nav-right-tooltip":"","loader-loading":"...","loader-loaded":"","loader-ready":"...","loader-data-ready":"","loader-tilemanger-loading":"...","string-filter-breadcrumb-limit":" ...{0}",close:"",loading:"...","x-axis":"x","y-axis":"y",series:"",trellis:"","snapshots-link-title":"","snapshots-link-desc":"","tag-all":"","downloads-csv":" (Csv)","downloads-tsv":" (Tsv)","selection-mode":"","select-all":"","select-none":"","select-inverse":"","select-random":"","select-tag":"","select-tag-placeholder":"","metadata-data":"","collection-info-tooltip":""}}},this.defaults=this.defaultOptions,this.props=null}return r(e,[{key:"init",value:function(e){if(null===this.props?this.props=a.Helpers.merge(this.defaultOptions,e):this.update(e,!0),null!==this.props.serverUrl&&""!==this.props.serverUrl&&"/"!==this.props.serverUrl.slice(-1)&&(this.props.serverUrl+="/"),this.props.toolbar.length>0){for(var t=0;t<this.props.toolbar.length;t++)for(var n=0;n<this.defaultOptions.toolbar.length;n++)if(this.props.toolbar[t].type===this.defaultOptions.toolbar[n].type){this.props.toolbar[t]=a.Helpers.merge(this.defaultOptions.toolbar[n],this.props.toolbar[t]);break}}else this.props.toolbar=[];for(var t=0;t<this.defaultOptions.toolbar.length;t++){for(var i=!1,n=0;n<this.props.toolbar.length;n++)if(this.defaultOptions.toolbar[t].type===this.props.toolbar[n].type){i=!0;break}i||this.props.toolbar.push(this.defaultOptions.toolbar[t])}o.Events.emitEvent("config.updated",[this.props])}},{key:"update",value:function(e,t){this.props=a.Helpers.merge(this.props,e),void 0!==t&&!1!==t||o.Events.emitEvent("config.updated",[this.props])}},{key:"properties",value:function(){return null==this.props&&(null!==this.defaultOptions.serverUrl&&""!==this.defaultOptions.serverUrl&&"/"!==this.defaultOptions.serverUrl.slice(-1)&&(this.defaultOptions.serverUrl+="/"),this.props=this.defaultOptions),this.props}},{key:"i18n",value:function(e,t){var n,i=this.properties().langs,r=[];for(n in i)i.hasOwnProperty(n)&&i[n].hasOwnProperty(t)&&r.push({lang:n,value:i[n][t]});r.forEach(function(t){"en"===t.lang?e.setAttribute("data-i18n",t.value):e.setAttribute("data-i18n-"+t.lang,t.value)});var o=navigator.languages?navigator.languages.length>0?navigator.languages[0]:"en-GB":navigator.language||navigator.userLanguage,a=o.split("-")[0];e.setAttribute("lang",a)}},{key:"i18nValue",value:function(e){var t,n,i,r=navigator.languages?navigator.languages.length>0?navigator.languages[0]:"en-GB":navigator.language||navigator.userLanguage,o=r.split("-")[0],a=this.properties().langs,s="";if(a.hasOwnProperty(o)||(o="en"),void 0===(s=void 0!==a[o][e]?a[o][e]:a.en[e]))return"";for(t=Array.prototype.slice.call(arguments,1),i=t.length,n=0;n<i;n+=1)s=s.replace("{"+n+"}",t[n]);return s}},{key:"i18nUpdate",value:function(e){this.props.langs=a.Helpers.merge(this.props.langs,e)}}]),e}(),l=new s;t.Config=l},function(e,t,n){var i,i;!function(t){e.exports=function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof i&&i;if(!l&&u)return i(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return o(t[s][1][e]||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";var i=e("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};t.exports=r},{"./focusNode":120}],2:[function(e,t,n){"use strict";function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var r=e("./EventConstants"),o=e("./EventPropagators"),a=e("./ExecutionEnvironment"),s=e("./SyntheticInputEvent"),l=e("./keyOf"),u=a.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}()),c=String.fromCharCode(32),d=r.topLevelTypes,h={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[d.topCompositionEnd,d.topKeyPress,d.topTextInput,d.topPaste]}},p=null,f={eventTypes:h,extractEvents:function(e,t,n,r){var a;if(u)switch(e){case d.topKeyPress:var l=r.which;if(32!==l)return;a=String.fromCharCode(l);break;case d.topTextInput:if((a=r.data)===c)return;break;default:return}else{switch(e){case d.topPaste:p=null;break;case d.topKeyPress:r.which&&!i(r)&&(p=String.fromCharCode(r.which));break;case d.topCompositionEnd:p=r.data}if(null===p)return;a=p}if(a){var f=s.getPooled(h.beforeInput,n,r);return f.data=a,p=null,o.accumulateTwoPhaseDispatches(f),f}}};t.exports=f},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./SyntheticInputEvent":98,"./keyOf":141}],3:[function(e,t,n){var i=e("./invariant"),r={addClass:function(e,t){return i(!/\s/.test(t),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return i(!/\s/.test(t),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return i(!/\s/.test(t),"CSS.hasClass takes only a single class name."),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=r},{"./invariant":134}],4:[function(e,t,n){"use strict";function i(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[i(t,e)]=r[e]})});var a={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:a};t.exports=s},{}],5:[function(e,t,n){"use strict";var i=e("./CSSProperty"),r=e("./dangerousStyleValue"),o=e("./hyphenateStyleName"),a=e("./memoizeStringOnly"),s=a(function(e){return o(e)}),l={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&(t+=s(n)+":",t+=r(n,i)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=r(o,t[o]);if(a)n[o]=a;else{var s=i.shorthandPropertyExpansions[o];if(s)for(var l in s)n[l]="";else n[o]=""}}}};t.exports=l},{"./CSSProperty":4,"./dangerousStyleValue":115,"./hyphenateStyleName":132,"./memoizeStringOnly":143}],6:[function(e,t,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=e("./PooledClass"),o=e("./invariant");e("./mixInto")(i,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var n=0,i=e.length;n<i;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),t.exports=i},{"./PooledClass":28,"./invariant":134,"./mixInto":147}],7:[function(e,t,n){"use strict";function i(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function r(e){var t=x.getPooled(L.change,A,e);b.accumulateTwoPhaseDispatches(t),M.batchedUpdates(o,t)}function o(e){_.enqueueEvents(e),_.processEventQueue()}function a(e,t){D=e,A=t,D.attachEvent("onchange",r)}function s(){D&&(D.detachEvent("onchange",r),D=null,A=null)}function l(e,t,n){if(e===C.topChange)return n}function u(e,t,n){e===C.topFocus?(s(),a(t,n)):e===C.topBlur&&s()}function c(e,t){D=e,A=t,P=e.value,k=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(D,"value",R),D.attachEvent("onpropertychange",h)}function d(){D&&(delete D.value,D.detachEvent("onpropertychange",h),D=null,A=null,P=null,k=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,r(e))}}function p(e,t,n){if(e===C.topInput)return n}function f(e,t,n){e===C.topFocus?(d(),c(t,n)):e===C.topBlur&&d()}function m(e,t,n){if((e===C.topSelectionChange||e===C.topKeyUp||e===C.topKeyDown)&&D&&D.value!==P)return P=D.value,A}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===C.topClick)return n}var y=e("./EventConstants"),_=e("./EventPluginHub"),b=e("./EventPropagators"),w=e("./ExecutionEnvironment"),M=e("./ReactUpdates"),x=e("./SyntheticEvent"),S=e("./isEventSupported"),E=e("./isTextInputElement"),T=e("./keyOf"),C=y.topLevelTypes,L={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},D=null,A=null,P=null,k=null,O=!1;w.canUseDOM&&(O=S("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;w.canUseDOM&&(I=S("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return k.get.call(this)},set:function(e){P=""+e,k.set.call(this,e)}},N={eventTypes:L,extractEvents:function(e,t,n,r){var o,a;if(i(t)?O?o=l:a=u:E(t)?I?o=p:(o=m,a=f):g(t)&&(o=v),o){var s=o(e,t,n);if(s){var c=x.getPooled(L.change,s,r);return b.accumulateTwoPhaseDispatches(c),c}}a&&a(e,t,n)}};t.exports=N},{"./EventConstants":16,"./EventPluginHub":18,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactUpdates":87,"./SyntheticEvent":96,"./isEventSupported":135,"./isTextInputElement":137,"./keyOf":141}],8:[function(e,t,n){"use strict";var i=0,r={createReactRootIndex:function(){return i++}};t.exports=r},{}],9:[function(e,t,n){"use strict";function i(e){switch(e){case y.topCompositionStart:return b.compositionStart;case y.topCompositionEnd:return b.compositionEnd;case y.topCompositionUpdate:return b.compositionUpdate}}function r(e,t){return e===y.topKeyDown&&t.keyCode===m}function o(e,t){switch(e){case y.topKeyUp:return-1!==f.indexOf(t.keyCode);case y.topKeyDown:return t.keyCode!==m;case y.topKeyPress:case y.topMouseDown:case y.topBlur:return!0;default:return!1}}function a(e){this.root=e,this.startSelection=c.getSelection(e),this.startValue=this.getText()}var s=e("./EventConstants"),l=e("./EventPropagators"),u=e("./ExecutionEnvironment"),c=e("./ReactInputSelection"),d=e("./SyntheticCompositionEvent"),h=e("./getTextContentAccessor"),p=e("./keyOf"),f=[9,13,27,32],m=229,g=u.canUseDOM&&"CompositionEvent"in window,v=!g||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,y=s.topLevelTypes,_=null,b={compositionEnd:{phasedRegistrationNames:{bubbled:p({onCompositionEnd:null}),captured:p({onCompositionEndCapture:null})},dependencies:[y.topBlur,y.topCompositionEnd,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:p({onCompositionStart:null}),captured:p({onCompositionStartCapture:null})},dependencies:[y.topBlur,y.topCompositionStart,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:p({onCompositionUpdate:null}),captured:p({onCompositionUpdateCapture:null})},dependencies:[y.topBlur,y.topCompositionUpdate,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]}};a.prototype.getText=function(){return this.root.value||this.root[h()]},a.prototype.getData=function(){var e=this.getText(),t=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return e.substr(t,e.length-n-t)};var w={eventTypes:b,extractEvents:function(e,t,n,s){var u,c;if(g?u=i(e):_?o(e,s)&&(u=b.compositionEnd):r(e,s)&&(u=b.compositionStart),v&&(_||u!==b.compositionStart?u===b.compositionEnd&&_&&(c=_.getData(),_=null):_=new a(t)),u){var h=d.getPooled(u,n,s);return c&&(h.data=c),l.accumulateTwoPhaseDispatches(h),h}}};t.exports=w},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactInputSelection":63,"./SyntheticCompositionEvent":94,"./getTextContentAccessor":129,"./keyOf":141}],10:[function(e,t,n){"use strict";function i(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var r,o=e("./Danger"),a=e("./ReactMultiChildUpdateTypes"),s=e("./getTextContentAccessor"),l=e("./invariant"),u=s();r="textContent"===u?function(e,t){e.textContent=t}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);if(t){var n=e.ownerDocument||document;e.appendChild(n.createTextNode(t))}};var c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(e,t){for(var n,s=null,u=null,c=0;n=e[c];c++)if(n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var d=n.fromIndex,h=n.parentNode.childNodes[d],p=n.parentID;l(h,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting <p> or <a> tags, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,p),s=s||{},s[p]=s[p]||[],s[p][d]=h,u=u||[],u.push(h)}var f=o.dangerouslyRenderMarkup(t);if(u)for(var m=0;m<u.length;m++)u[m].parentNode.removeChild(u[m]);for(var g=0;n=e[g];g++)switch(n.type){case a.INSERT_MARKUP:i(n.parentNode,f[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:i(n.parentNode,s[n.parentID][n.fromIndex],n.toIndex);break;case a.TEXT_CONTENT:r(n.parentNode,n.textContent);break;case a.REMOVE_NODE:}}};t.exports=c},{"./Danger":13,"./ReactMultiChildUpdateTypes":69,"./getTextContentAccessor":129,"./invariant":134}],11:[function(e,t,n){"use strict";var i=e("./invariant"),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},s=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in t){i(!a.isStandardName.hasOwnProperty(l),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",l),a.isStandardName[l]=!0;var u=l.toLowerCase();if(a.getPossibleStandardName[u]=l,n.hasOwnProperty(l)){var c=n[l];a.getPossibleStandardName[c]=l,a.getAttributeName[l]=c}else a.getAttributeName[l]=u;a.getPropertyName[l]=o.hasOwnProperty(l)?o[l]:l,s.hasOwnProperty(l)?a.getMutationMethod[l]=s[l]:a.getMutationMethod[l]=null;var d=t[l];a.mustUseAttribute[l]=d&r.MUST_USE_ATTRIBUTE,a.mustUseProperty[l]=d&r.MUST_USE_PROPERTY,a.hasSideEffects[l]=d&r.HAS_SIDE_EFFECTS,a.hasBooleanValue[l]=d&r.HAS_BOOLEAN_VALUE,a.hasNumericValue[l]=d&r.HAS_NUMERIC_VALUE,a.hasPositiveNumericValue[l]=d&r.HAS_POSITIVE_NUMERIC_VALUE,a.hasOverloadedBooleanValue[l]=d&r.HAS_OVERLOADED_BOOLEAN_VALUE,i(!a.mustUseAttribute[l]||!a.mustUseProperty[l],"DOMProperty: Cannot require using both attribute and property: %s",l),i(a.mustUseProperty[l]||!a.hasSideEffects[l],"DOMProperty: Properties that have side effects must use property: %s",l),i(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",l)}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++)if((0,a._isCustomAttributeFunctions[t])(e))return!0;return!1},getDefaultValueForProperty:function(e,t){var n,i=o[e];return i||(o[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:r};t.exports=a},{"./invariant":134}],12:[function(e,t,n){"use strict";function i(e,t){return null==t||r.hasBooleanValue[e]&&!t||r.hasNumericValue[e]&&isNaN(t)||r.hasPositiveNumericValue[e]&&t<1||r.hasOverloadedBooleanValue[e]&&!1===t}var r=e("./DOMProperty"),o=e("./escapeTextForBrowser"),a=e("./memoizeStringOnly"),s=e("./warning"),l=a(function(e){return o(e)+'="'}),u={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},c={},d=function(e){if(!(u.hasOwnProperty(e)&&u[e]||c.hasOwnProperty(e)&&c[e])){c[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;s(null==n,"Unknown DOM property "+e+". Did you mean "+n+"?")}},h={createMarkupForID:function(e){return l(r.ID_ATTRIBUTE_NAME)+o(e)+'"'},createMarkupForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){if(i(e,t))return"";var n=r.getAttributeName[e];return r.hasBooleanValue[e]||r.hasOverloadedBooleanValue[e]&&!0===t?o(n):l(n)+o(t)+'"'}return r.isCustomAttribute(e)?null==t?"":l(e)+o(t)+'"':(d(e),null)},setValueForProperty:function(e,t,n){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var o=r.getMutationMethod[t];if(o)o(e,n);else if(i(t,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute[t])e.setAttribute(r.getAttributeName[t],""+n);else{var a=r.getPropertyName[t];r.hasSideEffects[t]&&e[a]===n||(e[a]=n)}}else r.isCustomAttribute(t)?null==n?e.removeAttribute(t):e.setAttribute(t,""+n):d(t)},deleteValueForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var n=r.getMutationMethod[t];if(n)n(e,void 0);else if(r.mustUseAttribute[t])e.removeAttribute(r.getAttributeName[t]);else{var i=r.getPropertyName[t],o=r.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects[t]&&e[i]===o||(e[i]=o)}}else r.isCustomAttribute(t)?e.removeAttribute(t):d(t)}};t.exports=h},{"./DOMProperty":11,"./escapeTextForBrowser":118,"./memoizeStringOnly":143,"./warning":158}],13:[function(e,t,n){"use strict";function i(e){return e.substring(1,e.indexOf(" "))}var r=e("./ExecutionEnvironment"),o=e("./createNodesFromMarkup"),a=e("./emptyFunction"),s=e("./getMarkupWrap"),l=e("./invariant"),u=/^(<[^ \/>]+)/,c={dangerouslyRenderMarkup:function(e){l(r.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a Worker thread. This is likely a bug in the framework. Please report immediately.");for(var t,n={},c=0;c<e.length;c++)l(e[c],"dangerouslyRenderMarkup(...): Missing markup."),t=i(e[c]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][c]=e[c];var d=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var p=n[t];for(var f in p)if(p.hasOwnProperty(f)){var m=p[f];p[f]=m.replace(u,'$1 data-danger-index="'+f+'" ')}var g=o(p.join(""),a);for(c=0;c<g.length;++c){var v=g[c];v.hasAttribute&&v.hasAttribute("data-danger-index")?(f=+v.getAttribute("data-danger-index"),v.removeAttribute("data-danger-index"),l(!d.hasOwnProperty(f),"Danger: Assigning to an already-occupied result index."),d[f]=v,h+=1):console.error("Danger: Discarding unexpected node:",v)}}return l(h===d.length,"Danger: Did not assign to every index of resultList."),l(d.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,d.length),d},dangerouslyReplaceNodeWithMarkup:function(e,t){l(r.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. This is likely a bug in the framework. Please report immediately."),l(t,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),l("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString().");var n=o(t,a)[0];e.parentNode.replaceChild(n,e)}};t.exports=c},{"./ExecutionEnvironment":22,"./createNodesFromMarkup":113,"./emptyFunction":116,"./getMarkupWrap":126,"./invariant":134}],14:[function(e,t,n){"use strict";var i=e("./keyOf"),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({CompositionEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];t.exports=r},{"./keyOf":141}],15:[function(e,t,n){"use strict";var i=e("./EventConstants"),r=e("./EventPropagators"),o=e("./SyntheticMouseEvent"),a=e("./ReactMount"),s=e("./keyOf"),l=i.topLevelTypes,u=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],h={eventTypes:c,extractEvents:function(e,t,n,i){if(e===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(t.window===t)s=t;else{var h=t.ownerDocument;s=h?h.defaultView||h.parentWindow:window}var p,f;if(e===l.topMouseOut?(p=t,f=u(i.relatedTarget||i.toElement)||s):(p=s,f=t),p===f)return null;var m=p?a.getID(p):"",g=f?a.getID(f):"",v=o.getPooled(c.mouseLeave,m,i);v.type="mouseleave",v.target=p,v.relatedTarget=f;var y=o.getPooled(c.mouseEnter,g,i);return y.type="mouseenter",y.target=f,y.relatedTarget=p,r.accumulateEnterLeaveDispatches(v,y,m,g),d[0]=v,d[1]=y,d}};t.exports=h},{"./EventConstants":16,"./EventPropagators":21,"./ReactMount":67,"./SyntheticMouseEvent":100,"./keyOf":141}],16:[function(e,t,n){"use strict";var i=e("./keyMirror"),r=i({bubbled:null,captured:null}),o=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};t.exports=a},{"./keyMirror":140}],17:[function(e,t,n){var i=e("./emptyFunction"),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};t.exports=r},{"./emptyFunction":116}],18:[function(e,t,n){"use strict";function i(){if(!f||!f.traverseTwoPhase||!f.traverseEnterLeave)throw new Error("InstanceHandle not injected before use!")}var r=e("./EventPluginRegistry"),o=e("./EventPluginUtils"),a=e("./accumulate"),s=e("./forEachAccumulated"),l=e("./invariant"),u=e("./isEventSupported"),c=e("./monitorCodeUse"),d={},h=null,p=function(e){if(e){var t=o.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},f=null,m={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){f=e,i()},getInstanceHandle:function(){return i(),f},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){l(!n||"function"==typeof n,"Expected %s listener to be a function, instead got type %s",t,typeof n),"onScroll"!==t||u("scroll",!0)||(c("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event")),(d[t]||(d[t]={}))[e]=n},getListener:function(e,t){var n=d[t];return n&&n[e]},deleteListener:function(e,t){var n=d[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in d)delete d[t][e]},extractEvents:function(e,t,n,i){for(var o,s=r.plugins,l=0,u=s.length;l<u;l++){var c=s[l];if(c){var d=c.extractEvents(e,t,n,i);d&&(o=a(o,d))}}return o},enqueueEvents:function(e){e&&(h=a(h,e))},processEventQueue:function(){var e=h;h=null,s(e,p),l(!h,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){d={}},__getListenerBank:function(){return d}};t.exports=m},{"./EventPluginRegistry":19,"./EventPluginUtils":20,"./accumulate":106,"./forEachAccumulated":121,"./invariant":134,"./isEventSupported":135,"./monitorCodeUse":148}],19:[function(e,t,n){"use strict";function i(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(a(n>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[n]){a(t.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[n]=t;var i=t.eventTypes;for(var o in i)a(r(i[o],t,o),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",o,e)}}}function r(e,t,n){a(!u.eventNameDispatchConfigs.hasOwnProperty(n),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),u.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){a(!u.registrationNameModules[e],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e("./invariant"),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),s=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(a(!l[n],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),l[n]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=u.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=u.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=u},{"./invariant":134}],20:[function(e,t,n){"use strict";function i(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function r(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(p(e),Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)t(e,n[r],i[r]);else n&&t(e,n,i)}function s(e,t,n){e.currentTarget=g.Mount.getNode(n);var i=t(e,n);return e.currentTarget=null,i}function l(e,t){a(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(p(e),Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function c(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function d(e){p(e);var t=e._dispatchListeners,n=e._dispatchIDs;m(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`.");var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function h(e){return!!e._dispatchListeners}var p,f=e("./EventConstants"),m=e("./invariant"),g={Mount:null,injectMount:function(e){g.Mount=e,m(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},v=f.topLevelTypes;p=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,i=Array.isArray(t),r=Array.isArray(n),o=r?n.length:n?1:0,a=i?t.length:t?1:0;m(r===i&&o===a,"EventPluginUtils: Invalid `event`.")};var y={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:d,executeDispatch:s,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,injection:g,useTouchEvents:!1};t.exports=y},{"./EventConstants":16,"./invariant":134}],21:[function(e,t,n){"use strict";function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return g(e,i)}function r(e,t,n){if(!e)throw new Error("Dispatching id must not be null");var r=t?m.bubbled:m.captured,o=i(e,n,r);o&&(n._dispatchListeners=p(n._dispatchListeners,o),n._dispatchIDs=p(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(e,i);r&&(n._dispatchListeners=p(n._dispatchListeners,r),n._dispatchIDs=p(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function l(e){f(e,o)}function u(e,t,n,i){h.injection.getInstanceHandle().traverseEnterLeave(n,i,a,e,t)}function c(e){f(e,s)}var d=e("./EventConstants"),h=e("./EventPluginHub"),p=e("./accumulate"),f=e("./forEachAccumulated"),m=d.PropagationPhases,g=h.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:u};t.exports=v},{"./EventConstants":16,"./EventPluginHub":18,"./accumulate":106,"./forEachAccumulated":121}],22:[function(e,t,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},{}],23:[function(e,t,n){"use strict";var i,r=e("./DOMProperty"),o=e("./ExecutionEnvironment"),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,d=r.injection.HAS_POSITIVE_NUMERIC_VALUE,h=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;i=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:a,checked:s|l,className:i?a:s,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,defer:l,dir:null,disabled:a|l,download:h,draggable:null,encType:null,form:a,formNoValidate:l,frameBorder:a,height:a,hidden:a|l,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:null,loop:s|l,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|l,muted:s|l,name:null,noValidate:l,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scrollLeft:s,scrolling:null,scrollTop:s,seamless:a|l,selected:s|l,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|l,itemType:a,property:null},DOMAttributeNames:{className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{"./DOMProperty":11,"./ExecutionEnvironment":22}],24:[function(e,t,n){"use strict";var i=e("./ReactLink"),r=e("./ReactStateSetters"),o={linkState:function(e){return new i(this.state[e],r.createStateKeySetter(this,e))}};t.exports=o},{"./ReactLink":65,"./ReactStateSetters":81}],25:[function(e,t,n){"use strict";function i(e){u(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function r(e){i(e),u(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function o(e){i(e),u(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function a(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var l=e("./ReactPropTypes"),u=e("./invariant"),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={Mixin:{propTypes:{value:function(e,t,n){if(!(!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled))return new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){if(e[t]&&!e.onChange&&!e.readOnly&&!e.disabled)return new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(e){return e.props.valueLink?(r(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(o(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(r(e),a):e.props.checkedLink?(o(e),s):e.props.onChange}};t.exports=d},{"./ReactPropTypes":75,"./invariant":134}],26:[function(e,t,n){"use strict";function i(e){e.remove()}var r=e("./ReactBrowserEventEmitter"),o=e("./accumulate"),a=e("./forEachAccumulated"),s=e("./invariant"),l={trapBubbledEvent:function(e,t){s(this.isMounted(),"Must be mounted to trap events");var n=r.trapBubbledEvent(e,t,this.getDOMNode());this._localEventListeners=o(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,i)}};t.exports=l},{"./ReactBrowserEventEmitter":31,"./accumulate":106,"./forEachAccumulated":121,"./invariant":134}],27:[function(e,t,n){"use strict";var i=e("./EventConstants"),r=e("./emptyFunction"),o=i.topLevelTypes,a={eventTypes:null,extractEvents:function(e,t,n,i){if(e===o.topTouchStart){var a=i.target;a&&!a.onclick&&(a.onclick=r)}}};t.exports=a},{"./EventConstants":16,"./emptyFunction":116}],28:[function(e,t,n){"use strict";var i=e("./invariant"),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},a=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},s=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,i,r),a}return new o(e,t,n,i,r)},l=function(e){var t=this;i(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=r,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},d={addPoolingTo:c,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fiveArgumentPooler:s};t.exports=d},{"./invariant":134}],29:[function(e,t,n){"use strict";function i(e,t,n){var i=Array.prototype.slice.call(arguments,1);return e.apply(null,i)}var r=e("./DOMPropertyOperations"),o=e("./EventPluginUtils"),a=e("./ReactChildren"),s=e("./ReactComponent"),l=e("./ReactCompositeComponent"),u=e("./ReactContext"),c=e("./ReactCurrentOwner"),d=e("./ReactDescriptor"),h=e("./ReactDOM"),p=e("./ReactDOMComponent"),f=e("./ReactDefaultInjection"),m=e("./ReactInstanceHandles"),g=e("./ReactMount"),v=e("./ReactMultiChild"),y=e("./ReactPerf"),_=e("./ReactPropTypes"),b=e("./ReactServerRendering"),w=e("./ReactTextComponent"),M=e("./onlyChild"),x=e("./warning");f.inject();var S=!1,E={Children:{map:a.map,forEach:a.forEach,count:a.count,only:M},DOM:h,PropTypes:_,initializeTouchEvents:function(e){o.useTouchEvents=e},createClass:l.createClass,createDescriptor:function(){return x(S,"React.createDescriptor is deprecated and will be removed in the next version of React. Use React.createElement instead."),S=!0,i.apply(this,arguments)},createElement:i,constructAndRenderComponent:g.constructAndRenderComponent,constructAndRenderComponentByID:g.constructAndRenderComponentByID,renderComponent:y.measure("React","renderComponent",g.renderComponent),renderComponentToString:b.renderComponentToString,renderComponentToStaticMarkup:b.renderComponentToStaticMarkup,unmountComponentAtNode:g.unmountComponentAtNode,isValidClass:d.isValidFactory,isValidComponent:d.isValidDescriptor,withContext:u.withContext,__internals:{Component:s,CurrentOwner:c,DOMComponent:p,DOMPropertyOperations:r,InstanceHandles:m,Mount:g,MultiChild:v,TextComponent:w}};if(e("./ExecutionEnvironment").canUseDOM&&window.top===window.self&&navigator.userAgent.indexOf("Chrome")>-1){console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools");var T=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var C in T)if(!T[C]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}E.version="0.11.2",t.exports=E},{"./DOMPropertyOperations":12,"./EventPluginUtils":20,"./ExecutionEnvironment":22,"./ReactChildren":34,"./ReactComponent":35,"./ReactCompositeComponent":38,"./ReactContext":39,"./ReactCurrentOwner":40,"./ReactDOM":41,"./ReactDOMComponent":43,"./ReactDefaultInjection":53,"./ReactDescriptor":56,"./ReactInstanceHandles":64,"./ReactMount":67,"./ReactMultiChild":68,"./ReactPerf":71,"./ReactPropTypes":75,"./ReactServerRendering":79,"./ReactTextComponent":83,"./onlyChild":149,"./warning":158}],30:[function(e,t,n){"use strict";var i=e("./ReactEmptyComponent"),r=e("./ReactMount"),o=e("./invariant"),a={getDOMNode:function(){return o(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."),i.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};t.exports=a},{"./ReactEmptyComponent":58,"./ReactMount":67,"./invariant":134}],31:[function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,d[e[m]]={}),d[e[m]]}var r=e("./EventConstants"),o=e("./EventPluginHub"),a=e("./EventPluginRegistry"),s=e("./ReactEventEmitterMixin"),l=e("./ViewportMetrics"),u=e("./isEventSupported"),c=e("./merge"),d={},h=!1,p=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c(s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=i(n),s=a.registrationNameDependencies[e],l=r.topLevelTypes,c=0,d=s.length;c<d;c++){var h=s[c];o.hasOwnProperty(h)&&o[h]||(h===l.topWheel?u("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):h===l.topScroll?u("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):h===l.topFocus||h===l.topBlur?(u("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(h)&&g.ReactEventListener.trapBubbledEvent(h,f[h],n),o[h]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});t.exports=g},{"./EventConstants":16,"./EventPluginHub":18,"./EventPluginRegistry":19,"./ReactEventEmitterMixin":60,"./ViewportMetrics":105,"./isEventSupported":135,"./merge":144}],32:[function(e,t,n){"use strict";var i=e("./React"),r=e("./ReactTransitionGroup"),o=e("./ReactCSSTransitionGroupChild"),a=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:i.PropTypes.string.isRequired,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return this.transferPropsTo(r({childFactory:this._wrapChild},this.props.children))}});t.exports=a},{"./React":29,"./ReactCSSTransitionGroupChild":33,"./ReactTransitionGroup":86}],33:[function(e,t,n){"use strict";var i=e("./React"),r=e("./CSSCore"),o=e("./ReactTransitionEvents"),a=e("./onlyChild"),s=null;s=function(){console.warn("transition(): tried to perform an animation without an animationend or transitionend event after timeout (5000ms). You should either disable this transition in JS or add a CSS animation/transition.")};var l=i.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),i=this.props.name+"-"+e,a=i+"-active",l=null,u=function(){clearTimeout(l),r.removeClass(n,i),r.removeClass(n,a),o.removeEndEventListener(n,u),t&&t()};o.addEndEventListener(n,u),r.addClass(n,i),this.queueClass(a),l=setTimeout(s,5e3)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return a(this.props.children)}});t.exports=l},{"./CSSCore":3,"./React":29,"./ReactTransitionEvents":85,"./onlyChild":149}],34:[function(e,t,n){"use strict";function i(e,t){this.forEachFunction=e,this.forEachContext=t}function r(e,t,n,i){var r=e;r.forEachFunction.call(r.forEachContext,t,i)}function o(e,t,n){if(null==e)return e;var o=i.getPooled(t,n);h(e,r,o),i.release(o)}function a(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,t,n,i){var r=e,o=r.mapResult,a=!o.hasOwnProperty(n);if(p(a,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),a){var s=r.mapFunction.call(r.mapContext,t,i);o[n]=s}}function l(e,t,n){if(null==e)return e;var i={},r=a.getPooled(i,t,n);return h(e,s,r),a.release(r),i}function u(e,t,n,i){return null}function c(e,t){return h(e,u,null)}var d=e("./PooledClass"),h=e("./traverseAllChildren"),p=e("./warning"),f=d.twoArgumentPooler,m=d.threeArgumentPooler;d.addPoolingTo(i,f),d.addPoolingTo(a,m);var g={forEach:o,map:l,count:c};t.exports=g},{"./PooledClass":28,"./traverseAllChildren":156,"./warning":158}],35:[function(e,t,n){"use strict";var i=e("./ReactDescriptor"),r=e("./ReactOwner"),o=e("./ReactUpdates"),a=e("./invariant"),s=e("./keyMirror"),l=e("./merge"),u=s({MOUNTED:null,UNMOUNTED:null}),c=!1,d=null,h=null,p={injection:{injectEnvironment:function(e){a(!c,"ReactComponent: injectEnvironment() can only be called once."),h=e.mountImageIntoNode,d=e.unmountIDFromEnvironment,p.BackendIDOperations=e.BackendIDOperations,c=!0}},LifeCycle:u,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===u.MOUNTED},setProps:function(e,t){var n=this._pendingDescriptor||this._descriptor;this.replaceProps(l(n.props,e),t)},replaceProps:function(e,t){a(this.isMounted(),"replaceProps(...): Can only update a mounted component."),a(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."),this._pendingDescriptor=i.cloneAndReplaceProps(this._pendingDescriptor||this._descriptor,e),o.enqueueUpdate(this,t)},_setPropsInternal:function(e,t){var n=this._pendingDescriptor||this._descriptor;this._pendingDescriptor=i.cloneAndReplaceProps(n,l(n.props,e)),o.enqueueUpdate(this,t)},construct:function(e){this.props=e.props,this._owner=e._owner,this._lifeCycleState=u.UNMOUNTED,this._pendingCallbacks=null,this._descriptor=e,this._pendingDescriptor=null},mountComponent:function(e,t,n){a(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",e);var i=this._descriptor.props;if(null!=i.ref){var o=this._descriptor._owner;r.addComponentAsRefTo(this,i.ref,o)}this._rootNodeID=e,this._lifeCycleState=u.MOUNTED,this._mountDepth=n},unmountComponent:function(){a(this.isMounted(),"unmountComponent(): Can only unmount a mounted component.");var e=this.props;null!=e.ref&&r.removeComponentAsRefFrom(this,e.ref,this._owner),d(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=u.UNMOUNTED},receiveComponent:function(e,t){a(this.isMounted(),"receiveComponent(...): Can only update a mounted component."),this._pendingDescriptor=e,this.performUpdateIfNecessary(t)},performUpdateIfNecessary:function(e){if(null!=this._pendingDescriptor){var t=this._descriptor,n=this._pendingDescriptor;this._descriptor=n,this.props=n.props,this._owner=n._owner,this._pendingDescriptor=null,this.updateComponent(e,t)}},updateComponent:function(e,t){var n=this._descriptor;n._owner===t._owner&&n.props.ref===t.props.ref||(null!=t.props.ref&&r.removeComponentAsRefFrom(this,t.props.ref,t._owner),null!=n.props.ref&&r.addComponentAsRefTo(this,n.props.ref,n._owner))},mountComponentIntoNode:function(e,t,n){var i=o.ReactReconcileTransaction.getPooled();i.perform(this._mountComponentIntoNode,this,e,t,i,n),o.ReactReconcileTransaction.release(i)},_mountComponentIntoNode:function(e,t,n,i){var r=this.mountComponent(e,n,0);h(r,t,i)},isOwnedBy:function(e){return this._owner===e},getSiblingByRef:function(e){var t=this._owner;return t&&t.refs?t.refs[e]:null}}};t.exports=p},{"./ReactDescriptor":56,"./ReactOwner":70,"./ReactUpdates":87,"./invariant":134,"./keyMirror":140,"./merge":144}],36:[function(e,t,n){"use strict";var i=e("./ReactDOMIDOperations"),r=e("./ReactMarkupChecksum"),o=e("./ReactMount"),a=e("./ReactPerf"),s=e("./ReactReconcileTransaction"),l=e("./getReactRootElementInContainer"),u=e("./invariant"),c=e("./setInnerHTML"),d={ReactReconcileTransaction:s,BackendIDOperations:i,unmountIDFromEnvironment:function(e){o.purgeID(e)},mountImageIntoNode:a.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(e,t,n){if(u(t&&(1===t.nodeType||9===t.nodeType),"mountComponentIntoNode(...): Target container is not valid."),n){if(r.canReuseMarkup(e,l(t)))return;u(9!==t.nodeType,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."),console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}u(9!==t.nodeType,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."),c(t,e)})};t.exports=d},{"./ReactDOMIDOperations":45,"./ReactMarkupChecksum":66,"./ReactMount":67,"./ReactPerf":71,"./ReactReconcileTransaction":77,"./getReactRootElementInContainer":128,"./invariant":134,"./setInnerHTML":152}],37:[function(e,t,n){"use strict";var i=e("./shallowEqual"),r={shouldComponentUpdate:function(e,t){return!i(this.props,e)||!i(this.state,t)}};t.exports=r},{"./shallowEqual":153}],38:[function(e,t,n){"use strict";function i(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function r(e,t,n){for(var i in t)t.hasOwnProperty(i)&&T("function"==typeof t[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactCompositeComponent",x[n],i)}function o(e,t){var n=N.hasOwnProperty(t)?N[t]:null;F.hasOwnProperty(t)&&T(n===I.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e.hasOwnProperty(t)&&T(n===I.DEFINE_MANY||n===I.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function a(e){var t=e._compositeLifeCycleState;T(e.isMounted()||t===j.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."),T(t!==j.RECEIVING_STATE,"replaceState(...): Cannot update during an existing state transition (such as within `render`). This could potentially cause an infinite loop so it is forbidden."),T(t!==j.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component.")}function s(e,t){T(!m.isValidFactory(t),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."),T(!m.isValidDescriptor(t),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype;for(var i in t){var r=t[i];if(t.hasOwnProperty(i))if(o(n,i),B.hasOwnProperty(i))B[i](e,r);else{var a=N.hasOwnProperty(i),s=n.hasOwnProperty(i),l=r&&r.__reactDontBind,u="function"==typeof r,h=u&&!a&&!s&&!l;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=r,n[i]=r;else if(s){var p=N[i];T(a&&(p===I.DEFINE_MANY_MERGED||p===I.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",p,i),p===I.DEFINE_MANY_MERGED?n[i]=c(n[i],r):p===I.DEFINE_MANY&&(n[i]=d(n[i],r))}else n[i]=r,"function"==typeof r&&t.displayName&&(n[i].displayName=t.displayName+"_"+i)}}}function l(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in e,o=i;if(r){var a=e[n],s=typeof a,l=typeof i;T("function"===s&&"function"===l,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once, but that is only supported for functions, which are chained together. This conflict may be due to a mixin.",n),o=d(a,i)}e[n]=o}}}function u(e,t){return T(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"),P(t,function(t,n){T(void 0===e[n],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: %s",n),e[n]=t}),e}function c(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);return null==n?i:null==i?n:u(n,i)}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var h=e("./ReactComponent"),p=e("./ReactContext"),f=e("./ReactCurrentOwner"),m=e("./ReactDescriptor"),g=e("./ReactDescriptorValidator"),v=e("./ReactEmptyComponent"),y=e("./ReactErrorUtils"),_=e("./ReactOwner"),b=e("./ReactPerf"),w=e("./ReactPropTransferer"),M=e("./ReactPropTypeLocations"),x=e("./ReactPropTypeLocationNames"),S=e("./ReactUpdates"),E=e("./instantiateReactComponent"),T=e("./invariant"),C=e("./keyMirror"),L=e("./merge"),D=e("./mixInto"),A=e("./monitorCodeUse"),P=e("./mapObject"),k=e("./shouldUpdateReactComponent"),O=e("./warning"),I=C({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),R=[],N={mixins:I.DEFINE_MANY,statics:I.DEFINE_MANY,propTypes:I.DEFINE_MANY,contextTypes:I.DEFINE_MANY,childContextTypes:I.DEFINE_MANY,getDefaultProps:I.DEFINE_MANY_MERGED,getInitialState:I.DEFINE_MANY_MERGED,getChildContext:I.DEFINE_MANY_MERGED,render:I.DEFINE_ONCE,componentWillMount:I.DEFINE_MANY,componentDidMount:I.DEFINE_MANY,componentWillReceiveProps:I.DEFINE_MANY,shouldComponentUpdate:I.DEFINE_ONCE,componentWillUpdate:I.DEFINE_MANY,componentDidUpdate:I.DEFINE_MANY,componentWillUnmount:I.DEFINE_MANY,updateComponent:I.OVERRIDE_BASE},B={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)s(e,t[n])},childContextTypes:function(e,t){r(e,t,M.childContext),e.childContextTypes=L(e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,M.context),e.contextTypes=L(e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=c(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){r(e,t,M.prop),e.propTypes=L(e.propTypes,t)},statics:function(e,t){l(e,t)}},j=C({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),F={construct:function(e){h.Mixin.construct.apply(this,arguments),_.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return h.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==j.MOUNTING},mountComponent:b.measure("ReactCompositeComponent","mountComponent",function(e,t,n){h.Mixin.mountComponent.call(this,e,t,n),this._compositeLifeCycleState=j.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._descriptor._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,T("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=E(this._renderValidatedComponent()),this._compositeLifeCycleState=null;var i=this._renderedComponent.mountComponent(e,t,n+1);return this.componentDidMount&&t.getReactMountReady().enqueue(this.componentDidMount,this),i}),unmountComponent:function(){this._compositeLifeCycleState=j.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,h.Mixin.unmountComponent.call(this)},setState:function(e,t){T("object"==typeof e||null==e,"setState(...): takes an object of state variables to update."),O(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.replaceState(L(this._pendingState||this.state,e),t)},replaceState:function(e,t){a(this),this._pendingState=e,this._compositeLifeCycleState!==j.MOUNTING&&S.enqueueUpdate(this,t)},_processContext:function(e){var t=null,n=this.constructor.contextTypes;if(n){t={};for(var i in n)t[i]=e[i];this._checkPropTypes(n,t,M.context)}return t},_processChildContext:function(e){var t=this.getChildContext&&this.getChildContext(),n=this.constructor.displayName||"ReactCompositeComponent";if(t){T("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",n),this._checkPropTypes(this.constructor.childContextTypes,t,M.childContext);for(var i in t)T(i in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',n,i);return L(e,t)}return e},_processProps:function(e){var t,n=this.constructor.defaultProps;if(n){t=L(e);for(var i in n)void 0===t[i]&&(t[i]=n[i])}else t=e;var r=this.constructor.propTypes;return r&&this._checkPropTypes(r,t,M.prop),t},_checkPropTypes:function(e,t,n){var r=this.constructor.displayName;for(var o in e)if(e.hasOwnProperty(o)){var a=e[o](t,o,r,n);if(a instanceof Error){var s=i(this);O(!1,a.message+s)}}},performUpdateIfNecessary:function(e){var t=this._compositeLifeCycleState;if(t!==j.MOUNTING&&t!==j.RECEIVING_PROPS&&(null!=this._pendingDescriptor||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,i=this.props,r=this._descriptor;null!=this._pendingDescriptor&&(r=this._pendingDescriptor,n=this._processContext(r._context),i=this._processProps(r.props),this._pendingDescriptor=null,this._compositeLifeCycleState=j.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(i,n)),this._compositeLifeCycleState=j.RECEIVING_STATE;var o=this._pendingState||this.state;this._pendingState=null;try{var a=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(i,o,n);void 0===a&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false."),a?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,i,o,n,e)):(this._descriptor=r,this.props=i,this.state=o,this.context=n,this._owner=r._owner)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(e,t,n,i,r){var o=this._descriptor,a=this.props,s=this.state,l=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,i),this._descriptor=e,this.props=t,this.state=n,this.context=i,this._owner=e._owner,this.updateComponent(r,o),this.componentDidUpdate&&r.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,a,s,l),this)},receiveComponent:function(e,t){e===this._descriptor&&null!=e._owner||h.Mixin.receiveComponent.call(this,e,t)},updateComponent:b.measure("ReactCompositeComponent","updateComponent",function(e,t){h.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,i=n._descriptor,r=this._renderValidatedComponent();if(k(i,r))n.receiveComponent(r,e);else{var o=this._rootNodeID,a=n._rootNodeID;n.unmountComponent(),this._renderedComponent=E(r);var s=this._renderedComponent.mountComponent(o,e,this._mountDepth+1);h.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(a,s)}}),forceUpdate:function(e){var t=this._compositeLifeCycleState;T(this.isMounted()||t===j.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."),T(t!==j.RECEIVING_STATE&&t!==j.UNMOUNTING,"forceUpdate(...): Cannot force an update while unmounting component or during an existing state transition (such as within `render`)."),this._pendingForceUpdate=!0,S.enqueueUpdate(this,e)},_renderValidatedComponent:b.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var e,t=p.current;p.current=this._processChildContext(this._descriptor._context),f.current=this;try{e=this.render(),null===e||!1===e?(e=v.getEmptyComponent(),v.registerNullComponentID(this._rootNodeID)):v.deregisterNullComponentID(this._rootNodeID)}finally{p.current=t,f.current=null}return T(m.isValidDescriptor(e),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"),e}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(y.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(e){var t=this,n=function(){return e.apply(t,arguments)};n.__reactBoundContext=t,n.__reactBoundMethod=e,n.__reactBoundArguments=null;var i=t.constructor.displayName,r=n.bind;return n.bind=function(o){var a=Array.prototype.slice.call(arguments,1);if(o!==t&&null!==o)A("react_bind_warning",{component:i}),console.warn("bind(): React component methods may only be bound to the component instance. See "+i);else if(!a.length)return A("react_bind_warning",{component:i}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+i),n;var s=r.apply(n,arguments);return s.__reactBoundContext=t,s.__reactBoundMethod=e,s.__reactBoundArguments=a,s},n}},Y=function(){};D(Y,h.Mixin),D(Y,_.Mixin),D(Y,w.Mixin),D(Y,F);var z={LifeCycle:j,Base:Y,createClass:function(e){var t=function(e,t){this.construct(e,t)};t.prototype=new Y,t.prototype.constructor=t,R.forEach(s.bind(null,t)),s(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),T(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),t.prototype.componentShouldUpdate&&(A("react_component_should_update_warning",{component:e.displayName}),console.warn((e.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var n in N)t.prototype[n]||(t.prototype[n]=null);var i=m.createFactory(t);return g.createFactory(i,t.propTypes,t.contextTypes)},injection:{injectMixin:function(e){R.push(e)}}};t.exports=z},{"./ReactComponent":35,"./ReactContext":39,"./ReactCurrentOwner":40,"./ReactDescriptor":56,"./ReactDescriptorValidator":57,"./ReactEmptyComponent":58,"./ReactErrorUtils":59,"./ReactOwner":70,"./ReactPerf":71,"./ReactPropTransferer":72,"./ReactPropTypeLocationNames":73,"./ReactPropTypeLocations":74,"./ReactUpdates":87,"./instantiateReactComponent":133,"./invariant":134,"./keyMirror":140,"./mapObject":142,"./merge":144,"./mixInto":147,"./monitorCodeUse":148,"./shouldUpdateReactComponent":154,"./warning":158}],39:[function(e,t,n){"use strict";var i=e("./merge"),r={current:{},withContext:function(e,t){var n,o=r.current;r.current=i(o,e);try{n=t()}finally{r.current=o}return n}};t.exports=r},{"./merge":144}],40:[function(e,t,n){"use strict";var i={current:null};t.exports=i},{}],41:[function(e,t,n){"use strict";function i(e,t){var n=function(e){this.construct(e)};n.prototype=new a(t,e),n.prototype.constructor=n,n.displayName=t;var i=r.createFactory(n);return o.createFactory(i)}var r=e("./ReactDescriptor"),o=e("./ReactDescriptorValidator"),a=e("./ReactDOMComponent"),s=e("./mergeInto"),l=e("./mapObject"),u=l({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,dialog:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,picture:!1,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,var:!1,video:!1,wbr:!0,circle:!1,defs:!1,ellipse:!1,g:!1,line:!1,linearGradient:!1,mask:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1,tspan:!1},i),c={injectComponentClasses:function(e){s(u,e)}};u.injection=c,t.exports=u},{"./ReactDOMComponent":43,"./ReactDescriptor":56,"./ReactDescriptorValidator":57,"./mapObject":142,"./mergeInto":146}],42:[function(e,t,n){"use strict";var i=e("./AutoFocusMixin"),r=e("./ReactBrowserComponentMixin"),o=e("./ReactCompositeComponent"),a=e("./ReactDOM"),s=e("./keyMirror"),l=a.button,u=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=o.createClass({displayName:"ReactDOMButton",mixins:[i,r],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&u[t]||(e[t]=this.props[t]);return l(e,this.props.children)}});t.exports=c},{"./AutoFocusMixin":1,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./keyMirror":140}],43:[function(e,t,n){"use strict";function i(e){e&&(g(null==e.children||null==e.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),g(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string."))}function r(e,t,n,i){var r=h.findReactContainerForID(e);if(r){var o=r.nodeType===E?r.ownerDocument:r;w(t,o)}i.getPutListenerQueue().enqueuePutListener(e,t,n)}function o(e,t){this._tagOpen="<"+e,this._tagClose=t?"":"</"+e+">",this.tagName=e.toUpperCase()}var a=e("./CSSPropertyOperations"),s=e("./DOMProperty"),l=e("./DOMPropertyOperations"),u=e("./ReactBrowserComponentMixin"),c=e("./ReactComponent"),d=e("./ReactBrowserEventEmitter"),h=e("./ReactMount"),p=e("./ReactMultiChild"),f=e("./ReactPerf"),m=e("./escapeTextForBrowser"),g=e("./invariant"),v=e("./keyOf"),y=e("./merge"),_=e("./mixInto"),b=d.deleteListener,w=d.listenTo,M=d.registrationNameModules,x={string:!0,number:!0},S=v({style:null}),E=1;o.Mixin={mountComponent:f.measure("ReactDOMComponent","mountComponent",function(e,t,n){return c.Mixin.mountComponent.call(this,e,t,n),i(this.props),this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(e){var t=this.props,n=this._tagOpen;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(M.hasOwnProperty(i))r(this._rootNodeID,i,o,e);else{i===S&&(o&&(o=t.style=y(t.style)),o=a.createMarkupForStyles(o));var s=l.createMarkupForProperty(i,o);s&&(n+=" "+s)}}return e.renderToStaticMarkup?n+">":n+" "+l.createMarkupForID(this._rootNodeID)+">"},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=x[typeof this.props.children]?this.props.children:null,i=null!=n?null:this.props.children;if(null!=n)return m(n);if(null!=i)return this.mountChildren(i,e).join("")}return""},receiveComponent:function(e,t){e===this._descriptor&&null!=e._owner||c.Mixin.receiveComponent.call(this,e,t)},updateComponent:f.measure("ReactDOMComponent","updateComponent",function(e,t){i(this._descriptor.props),c.Mixin.updateComponent.call(this,e,t),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e)}),_updateDOMProperties:function(e,t){var n,i,o,a=this.props;for(n in e)if(!a.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===S){var l=e[n];for(i in l)l.hasOwnProperty(i)&&(o=o||{},o[i]="")}else M.hasOwnProperty(n)?b(this._rootNodeID,n):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in a){var u=a[n],d=e[n];if(a.hasOwnProperty(n)&&u!==d)if(n===S)if(u&&(u=a.style=y(u)),d){for(i in d)!d.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in u)u.hasOwnProperty(i)&&d[i]!==u[i]&&(o=o||{},o[i]=u[i])}else o=u;else M.hasOwnProperty(n)?r(this._rootNodeID,n,u,t):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,u)}o&&c.BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t){var n=this.props,i=x[typeof e.children]?e.children:null,r=x[typeof n.children]?n.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,s=null!=i?null:e.children,l=null!=r?null:n.children,u=null!=i||null!=o,d=null!=r||null!=a;null!=s&&null==l?this.updateChildren(null,t):u&&!d&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=a?o!==a&&c.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,a):null!=l&&this.updateChildren(l,t)},unmountComponent:function(){this.unmountChildren(),d.deleteAllListeners(this._rootNodeID),c.Mixin.unmountComponent.call(this)}},_(o,c.Mixin),_(o,o.Mixin),_(o,p.Mixin),_(o,u),t.exports=o},{"./CSSPropertyOperations":5,"./DOMProperty":11,"./DOMPropertyOperations":12,"./ReactBrowserComponentMixin":30,"./ReactBrowserEventEmitter":31,"./ReactComponent":35,"./ReactMount":67,"./ReactMultiChild":68,"./ReactPerf":71,"./escapeTextForBrowser":118,"./invariant":134,"./keyOf":141,"./merge":144,"./mixInto":147}],44:[function(e,t,n){"use strict";var i=e("./EventConstants"),r=e("./LocalEventTrapMixin"),o=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),s=e("./ReactDOM"),l=s.form,u=a.createClass({displayName:"ReactDOMForm",mixins:[o,r],render:function(){return this.transferPropsTo(l(null,this.props.children))},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});t.exports=u},{"./EventConstants":16,"./LocalEventTrapMixin":26,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41}],45:[function(e,t,n){"use strict";var i=e("./CSSPropertyOperations"),r=e("./DOMChildrenOperations"),o=e("./DOMPropertyOperations"),a=e("./ReactMount"),s=e("./ReactPerf"),l=e("./invariant"),u=e("./setInnerHTML"),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},d={updatePropertyByID:s.measure("ReactDOMIDOperations","updatePropertyByID",function(e,t,n){var i=a.getNode(e);l(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),null!=n?o.setValueForProperty(i,t,n):o.deleteValueForProperty(i,t)}),deletePropertyByID:s.measure("ReactDOMIDOperations","deletePropertyByID",function(e,t,n){var i=a.getNode(e);l(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),o.deleteValueForProperty(i,t,n)}),updateStylesByID:s.measure("ReactDOMIDOperations","updateStylesByID",function(e,t){var n=a.getNode(e);i.setValueForStyles(n,t)}),updateInnerHTMLByID:s.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(e,t){var n=a.getNode(e);u(n,t)}),updateTextContentByID:s.measure("ReactDOMIDOperations","updateTextContentByID",function(e,t){var n=a.getNode(e);r.updateTextContent(n,t)}),dangerouslyReplaceNodeWithMarkupByID:s.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)}),dangerouslyProcessChildrenUpdates:s.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)})};t.exports=d},{"./CSSPropertyOperations":5,"./DOMChildrenOperations":10,"./DOMPropertyOperations":12,"./ReactMount":67,"./ReactPerf":71,"./invariant":134,"./setInnerHTML":152}],46:[function(e,t,n){"use strict";var i=e("./EventConstants"),r=e("./LocalEventTrapMixin"),o=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),s=e("./ReactDOM"),l=s.img,u=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});t.exports=u},{"./EventConstants":16,"./LocalEventTrapMixin":26,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41}],47:[function(e,t,n){"use strict";var i=e("./AutoFocusMixin"),r=e("./DOMPropertyOperations"),o=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),s=e("./ReactCompositeComponent"),l=e("./ReactDOM"),u=e("./ReactMount"),c=e("./invariant"),d=e("./merge"),h=l.input,p={},f=s.createClass({displayName:"ReactDOMInput",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=e?e:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=d(this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.value;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.checked,e.onChange=this._handleChange,h(e,this.props.children)},componentDidMount:function(){var e=u.getID(this.getDOMNode());p[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=u.getID(e);delete p[t]},componentDidUpdate:function(e,t,n){var i=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(i,"checked",this.props.checked||!1);var a=o.getValue(this);null!=a&&r.setValueForProperty(i,"value",""+a)},_handleChange:function(e){var t,n=o.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({checked:e.target.checked,value:e.target.value});var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var r=this.getDOMNode(),a=r;a.parentNode;)a=a.parentNode;for(var s=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),l=0,d=s.length;l<d;l++){var h=s[l];if(h!==r&&h.form===r.form){var f=u.getID(h);c(f,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var m=p[f];c(m,"ReactDOMInput: Unknown radio button ID %s.",f),m.setState({checked:!1})}}}return t}});t.exports=f},{"./AutoFocusMixin":1,"./DOMPropertyOperations":12,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./ReactMount":67,"./invariant":134,"./merge":144}],48:[function(e,t,n){"use strict";var i=e("./ReactBrowserComponentMixin"),r=e("./ReactCompositeComponent"),o=e("./ReactDOM"),a=e("./warning"),s=o.option,l=r.createClass({displayName:"ReactDOMOption",mixins:[i],componentWillMount:function(){a(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return s(this.props,this.props.children)}});t.exports=l},{"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./warning":158}],49:[function(e,t,n){"use strict";function i(e,t,n){if(null!=e[t])if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(e,t){var n,i,r,o=e.props.multiple,a=null!=t?t:e.state.value,s=e.getDOMNode().options;if(o)for(n={},i=0,r=a.length;i<r;++i)n[""+a[i]]=!0;else n=""+a;for(i=0,r=s.length;i<r;i++){var l=o?n.hasOwnProperty(s[i].value):s[i].value===n;l!==s[i].selected&&(s[i].selected=l)}}var o=e("./AutoFocusMixin"),a=e("./LinkedValueUtils"),s=e("./ReactBrowserComponentMixin"),l=e("./ReactCompositeComponent"),u=e("./ReactDOM"),c=e("./merge"),d=u.select,h=l.createClass({displayName:"ReactDOMSelect",mixins:[o,a.Mixin,s],propTypes:{defaultValue:i,value:i},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(e){!this.props.multiple&&e.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!e.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return e.onChange=this._handleChange,e.value=null,d(e,this.props.children)},componentDidMount:function(){r(this,a.getValue(this))},componentDidUpdate:function(e){var t=a.getValue(this),n=!!e.multiple,i=!!this.props.multiple;null==t&&n===i||r(this,t)},_handleChange:function(e){var t,n=a.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1);var i;if(this.props.multiple){i=[];for(var r=e.target.options,o=0,s=r.length;o<s;o++)r[o].selected&&i.push(r[o].value)}else i=e.target.value;return this.setState({value:i}),t}});t.exports=h},{"./AutoFocusMixin":1,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./merge":144}],50:[function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function r(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length;return{start:o,end:o+i}}function o(e){var t=window.getSelection();if(0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),l=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var d=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=d?0:c.toString().length,p=h+u,f=document.createRange();f.setStart(n,r),f.setEnd(o,a);var m=f.collapsed;return f.detach(),{start:m?p:h,end:m?h:p}}function a(e,t){var n,i,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(e,t){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o=void 0===t.end?r:Math.min(t.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=u(e,r),l=u(e,o);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d)),d.detach()}}var l=e("./ExecutionEnvironment"),u=e("./getNodeForCharacterOffset"),c=e("./getTextContentAccessor"),d=l.canUseDOM&&document.selection,h={getOffsets:d?r:o,setOffsets:d?a:s};t.exports=h},{"./ExecutionEnvironment":22,"./getNodeForCharacterOffset":127,"./getTextContentAccessor":129}],51:[function(e,t,n){"use strict";var i=e("./AutoFocusMixin"),r=e("./DOMPropertyOperations"),o=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),s=e("./ReactCompositeComponent"),l=e("./ReactDOM"),u=e("./invariant"),c=e("./merge"),d=e("./warning"),h=l.textarea,p=s.createClass({displayName:"ReactDOMTextarea",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(d(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),u(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(t)&&(u(t.length<=1,"<textarea> can only have at most one child."),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return u(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,h(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var i=o.getValue(this);if(null!=i){var a=this.getDOMNode();r.setValueForProperty(a,"value",""+i)}},_handleChange:function(e){var t,n=o.getOnChange(this);return n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({value:e.target.value}),t}});t.exports=p},{"./AutoFocusMixin":1,"./DOMPropertyOperations":12,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./invariant":134,"./merge":144,"./warning":158}],52:[function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var r=e("./ReactUpdates"),o=e("./Transaction"),a=e("./emptyFunction"),s=e("./mixInto"),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[u,l];s(i,o.Mixin),s(i,{getTransactionWrappers:function(){return c}});var d=new i,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n){var i=h.isBatchingUpdates;h.isBatchingUpdates=!0,i?e(t,n):d.perform(e,null,t,n)}};t.exports=h},{"./ReactUpdates":87,"./Transaction":104,"./emptyFunction":116,"./mixInto":147}],53:[function(e,t,n){"use strict";function i(){E.EventEmitter.injectReactEventListener(S),E.EventPluginHub.injectEventPluginOrder(l),E.EventPluginHub.injectInstanceHandle(T),E.EventPluginHub.injectMount(C),E.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:A,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,CompositionEventPlugin:s,MobileSafariClickEventPlugin:h,SelectEventPlugin:L,BeforeInputEventPlugin:r}),E.DOM.injectComponentClasses({button:v,form:y,img:_,input:b,option:w,select:M,textarea:x,html:k(g.html),head:k(g.head),body:k(g.body)}),E.CompositeComponent.injectMixin(p),E.DOMProperty.injectDOMPropertyConfig(d),E.DOMProperty.injectDOMPropertyConfig(P),E.EmptyComponent.injectEmptyComponent(g.noscript),E.Updates.injectReconcileTransaction(f.ReactReconcileTransaction),E.Updates.injectBatchingStrategy(m),E.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:D.createReactRootIndex),E.Component.injectEnvironment(f),/[?&]react_perf\b/.test(c.canUseDOM&&window.location.href||"")&&e("./ReactDefaultPerf").start()}var r=e("./BeforeInputEventPlugin"),o=e("./ChangeEventPlugin"),a=e("./ClientReactRootIndex"),s=e("./CompositionEventPlugin"),l=e("./DefaultEventPluginOrder"),u=e("./EnterLeaveEventPlugin"),c=e("./ExecutionEnvironment"),d=e("./HTMLDOMPropertyConfig"),h=e("./MobileSafariClickEventPlugin"),p=e("./ReactBrowserComponentMixin"),f=e("./ReactComponentBrowserEnvironment"),m=e("./ReactDefaultBatchingStrategy"),g=e("./ReactDOM"),v=e("./ReactDOMButton"),y=e("./ReactDOMForm"),_=e("./ReactDOMImg"),b=e("./ReactDOMInput"),w=e("./ReactDOMOption"),M=e("./ReactDOMSelect"),x=e("./ReactDOMTextarea"),S=e("./ReactEventListener"),E=e("./ReactInjection"),T=e("./ReactInstanceHandles"),C=e("./ReactMount"),L=e("./SelectEventPlugin"),D=e("./ServerReactRootIndex"),A=e("./SimpleEventPlugin"),P=e("./SVGDOMPropertyConfig"),k=e("./createFullPageComponent");t.exports={inject:i}},{"./BeforeInputEventPlugin":2,"./ChangeEventPlugin":7,"./ClientReactRootIndex":8,"./CompositionEventPlugin":9,"./DefaultEventPluginOrder":14,"./EnterLeaveEventPlugin":15,"./ExecutionEnvironment":22,"./HTMLDOMPropertyConfig":23,"./MobileSafariClickEventPlugin":27,"./ReactBrowserComponentMixin":30,"./ReactComponentBrowserEnvironment":36,"./ReactDOM":41,"./ReactDOMButton":42,"./ReactDOMForm":44,"./ReactDOMImg":46,"./ReactDOMInput":47,"./ReactDOMOption":48,"./ReactDOMSelect":49,"./ReactDOMTextarea":51,"./ReactDefaultBatchingStrategy":52,"./ReactDefaultPerf":54,"./ReactEventListener":61,"./ReactInjection":62,"./ReactInstanceHandles":64,"./ReactMount":67,"./SVGDOMPropertyConfig":89,"./SelectEventPlugin":90,"./ServerReactRootIndex":91,"./SimpleEventPlugin":92,"./createFullPageComponent":112}],54:[function(e,t,n){"use strict";function i(e){return Math.floor(100*e)/100}function r(e,t,n){e[t]=(e[t]||0)+n}var o=e("./DOMProperty"),a=e("./ReactDefaultPerfAnalysis"),s=e("./ReactMount"),l=e("./ReactPerf"),u=e("./performanceNow"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||l.injection.injectMeasure(c.measure),c._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=a.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":i(e.inclusive),"Exclusive mount time (ms)":i(e.exclusive),"Exclusive render time (ms)":i(e.render),"Mount time per instance (ms)":i(e.exclusive/e.count),"Render time per instance (ms)":i(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=a.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":i(e.time),Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printWasted:function(e){e=e||c._allMeasurements;var t=a.getInclusiveSummary(e,!0);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=a.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[o.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,i){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:n,args:i})},measure:function(e,t,n){return function(){var i,o,a,l=Array.prototype.slice.call(arguments,0);if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),a=u(),o=n.apply(this,l),c._allMeasurements[c._allMeasurements.length-1].totalTime=u()-a,o;if("ReactDOMIDOperations"===e||"ReactComponentBrowserEnvironment"===e){if(a=u(),o=n.apply(this,l),i=u()-a,"mountImageIntoNode"===t){var d=s.getID(l[1]);c._recordWrite(d,t,i,l[0])}else"dangerouslyProcessChildrenUpdates"===t?l[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=l[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,i,t)}):c._recordWrite(l[0],t,i,Array.prototype.slice.call(l,1));return o}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,l);var h="mountComponent"===t?l[0]:this._rootNodeID,p="_renderValidatedComponent"===t,f="mountComponent"===t,m=c._mountStack,g=c._allMeasurements[c._allMeasurements.length-1];if(p?r(g.counts,h,1):f&&m.push(0),a=u(),o=n.apply(this,l),i=u()-a,p)r(g.render,h,i);else if(f){var v=m.pop();m[m.length-1]+=i,r(g.exclusive,h,i-v),r(g.inclusive,h,i)}else r(g.inclusive,h,i);return g.displayNames[h]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"},o}}};t.exports=c},{"./DOMProperty":11,"./ReactDefaultPerfAnalysis":55,"./ReactMount":67,"./ReactPerf":71,"./performanceNow":151}],55:[function(e,t,n){function i(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].totalTime;return t}function r(e){for(var t=[],n=0;n<e.length;n++){var i,r=e[n];for(i in r.writes)r.writes[i].forEach(function(e){t.push({id:i,type:c[e.type]||e.type,args:e.args})})}return t}function o(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i],o=l(r.exclusive,r.inclusive);for(var a in o)t=r.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},r.render[a]&&(n[t].render+=r.render[a]),r.exclusive[a]&&(n[t].exclusive+=r.exclusive[a]),r.inclusive[a]&&(n[t].inclusive+=r.inclusive[a]),r.counts[a]&&(n[t].count+=r.counts[a])}var s=[];for(t in n)n[t].exclusive>=u&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,i={},r=0;r<e.length;r++){var o,a=e[r],c=l(a.exclusive,a.inclusive);t&&(o=s(a));for(var d in c)if(!t||o[d]){var h=a.displayNames[d];n=h.owner+" > "+h.current,i[n]=i[n]||{componentName:n,time:0,count:0},a.inclusive[d]&&(i[n].time+=a.inclusive[d]),a.counts[d]&&(i[n].count+=a.counts[d])}}var p=[];for(n in i)i[n].time>=u&&p.push(i[n]);return p.sort(function(e,t){return t.time-e.time}),p}function s(e){var t={},n=Object.keys(e.writes),i=l(e.exclusive,e.inclusive);for(var r in i){for(var o=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(r)){o=!0;break}!o&&e.counts[r]>0&&(t[r]=!0)}return t}var l=e("./merge"),u=1.2,c={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},d={getExclusiveSummary:o,getInclusiveSummary:a,getDOMSummary:r,getTotalTime:i};t.exports=d},{"./merge":144}],56:[function(e,t,n){"use strict";function i(e,t){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(e){l(!1,"Don't set the "+t+" property of the component. Mutate the existing props object instead."),this._store[t]=e}})}function r(e,t){if("function"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if("function"==typeof i){var r=i.bind(t);for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);e[n]=r}else e[n]=i}}var o=e("./ReactContext"),a=e("./ReactCurrentOwner"),s=e("./merge"),l=e("./warning"),u=!1,c=function(){};!function(e){try{var t={props:!0};for(var n in t)i(e,n);u=!0}catch(e){}}(c.prototype),c.createFactory=function(e){var t=Object.create(c.prototype),n=function(e,n){null==e?e={}:"object"==typeof e&&(e=s(e));var i=arguments.length-1;if(1===i)e.children=n;else if(i>1){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+1];e.children=r}var c=Object.create(t);return c._owner=a.current,c._context=o.current,c._store={validated:!1,props:e},u?(Object.freeze(c),c):(c.props=e,c)};return n.prototype=t,n.type=e,t.type=e,r(n,e),t.constructor=n,n},c.cloneAndReplaceProps=function(e,t){var n=Object.create(e.constructor.prototype);return n._owner=e._owner,n._context=e._context,n._store={validated:e._store.validated,props:t},u?(Object.freeze(n),n):(n.props=t,n)},c.isValidFactory=function(e){return"function"==typeof e&&e.prototype instanceof c},c.isValidDescriptor=function(e){return e instanceof c},t.exports=c},{"./ReactContext":39,"./ReactCurrentOwner":40,"./merge":144,"./warning":158}],57:[function(e,t,n){"use strict";function i(){var e=h.current;return e&&e.constructor.displayName||void 0}function r(e,t){e._store.validated||null!=e.props.key||(e._store.validated=!0,a("react_key_warning",'Each child in an array should have a unique "key" prop.',e,t))}function o(e,t,n){v.test(e)&&a("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",t,n)}function a(e,t,n,r){var o=i(),a=r.displayName,s=o||a,l=f[e];if(!l.hasOwnProperty(s)){l[s]=!0,t+=o?" Check the render method of "+o+".":" Check the renderComponent call using <"+a+">.";var u=null;n._owner&&n._owner!==h.current&&(u=n._owner.constructor.displayName,t+=" It was passed a child from "+u+"."),t+=" See http://fb.me/react-warning-keys for more information.",p(e,{component:s,componentOwner:u}),console.warn(t)}}function s(){var e=i()||"";m.hasOwnProperty(e)||(m[e]=!0,p("react_object_map_children"))}function l(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];c.isValidDescriptor(i)&&r(i,t)}else if(c.isValidDescriptor(e))e._store.validated=!0;else if(e&&"object"==typeof e){s();for(var a in e)o(a,e[a],t)}}function u(e,t,n,i){for(var r in t)if(t.hasOwnProperty(r)){var o;try{o=t[r](n,r,e,i)}catch(e){o=e}o instanceof Error&&!(o.message in g)&&(g[o.message]=!0,p("react_failed_descriptor_type_check",{message:o.message}))}}var c=e("./ReactDescriptor"),d=e("./ReactPropTypeLocations"),h=e("./ReactCurrentOwner"),p=e("./monitorCodeUse"),f={react_key_warning:{},react_numeric_key_warning:{}},m={},g={},v=/^\d+$/,y={createFactory:function(e,t,n){var i=function(i,r){for(var o=e.apply(this,arguments),a=1;a<arguments.length;a++)l(arguments[a],o.type);var s=o.type.displayName;return t&&u(s,t,o.props,d.prop),n&&u(s,n,o._context,d.context),o};i.prototype=e.prototype,i.type=e.type;for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}};t.exports=y},{"./ReactCurrentOwner":40,"./ReactDescriptor":56,"./ReactPropTypeLocations":74,"./monitorCodeUse":148}],58:[function(e,t,n){"use strict";function i(){return l(s,"Trying to return null from a render, but no null placeholder component was injected."),s()}function r(e){u[e]=!0}function o(e){delete u[e]}function a(e){return u[e]}var s,l=e("./invariant"),u={},c={injectEmptyComponent:function(e){s=e}},d={deregisterNullComponentID:o,getEmptyComponent:i,injection:c,isNullComponentID:a,registerNullComponentID:r};t.exports=d},{"./invariant":134}],59:[function(e,t,n){"use strict";var i={guard:function(e,t){return e}};t.exports=i},{}],60:[function(e,t,n){"use strict";function i(e){r.enqueueEvents(e),r.processEventQueue()}var r=e("./EventPluginHub"),o={handleTopLevel:function(e,t,n,o){i(r.extractEvents(e,t,n,o))}};t.exports=o},{"./EventPluginHub":18}],61:[function(e,t,n){"use strict";function i(e){var t=d.getID(e),n=c.getReactRootIDFromNodeID(t),i=d.findReactContainerForID(n);return d.getFirstReactDOM(i)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){for(var t=d.getFirstReactDOM(p(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=i(n);for(var r=0,o=e.ancestors.length;r<o;r++){t=e.ancestors[r];var a=d.getID(t)||"";m._handleTopLevel(e.topLevelType,t,a,e.nativeEvent)}}function a(e){e(f(window))}var s=e("./EventListener"),l=e("./ExecutionEnvironment"),u=e("./PooledClass"),c=e("./ReactInstanceHandles"),d=e("./ReactMount"),h=e("./ReactUpdates"),p=e("./getEventTarget"),f=e("./getUnboundedScrollPosition");e("./mixInto")(r,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(r,u.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var i=n;if(i)return s.listen(i,t,m.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,n){var i=n;if(i)return s.capture(i,t,m.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t),s.listen(window,"resize",t)},dispatchEvent:function(e,t){if(m._enabled){var n=r.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{r.release(n)}}}};t.exports=m},{"./EventListener":17,"./ExecutionEnvironment":22,"./PooledClass":28,"./ReactInstanceHandles":64,"./ReactMount":67,"./ReactUpdates":87,"./getEventTarget":125,"./getUnboundedScrollPosition":130,"./mixInto":147}],62:[function(e,t,n){"use strict";var i=e("./DOMProperty"),r=e("./EventPluginHub"),o=e("./ReactComponent"),a=e("./ReactCompositeComponent"),s=e("./ReactDOM"),l=e("./ReactEmptyComponent"),u=e("./ReactBrowserEventEmitter"),c=e("./ReactPerf"),d=e("./ReactRootIndex"),h=e("./ReactUpdates"),p={Component:o.injection,CompositeComponent:a.injection,DOMProperty:i.injection,EmptyComponent:l.injection,EventPluginHub:r.injection,DOM:s.injection,EventEmitter:u.injection,Perf:c.injection,RootIndex:d.injection,Updates:h.injection};t.exports=p},{"./DOMProperty":11,"./EventPluginHub":18,"./ReactBrowserEventEmitter":31,"./ReactComponent":35,"./ReactCompositeComponent":38,"./ReactDOM":41,"./ReactEmptyComponent":58,"./ReactPerf":71,"./ReactRootIndex":78,"./ReactUpdates":87}],63:[function(e,t,n){"use strict";function i(e){return o(document.documentElement,e)}var r=e("./ReactDOMSelection"),o=e("./containsNode"),a=e("./focusNode"),s=e("./getActiveElement"),l={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,r=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};t.exports=l},{"./ReactDOMSelection":50,"./containsNode":109,"./focusNode":120,"./getActiveElement":122}],64:[function(e,t,n){"use strict";function i(e){return p+e.toString(36)}function r(e,t){return e.charAt(t)===p||t===e.length}function o(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function a(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(p)):""}function l(e,t){if(h(o(e)&&o(t),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),h(a(e,t),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;for(var n=e.length+f,i=n;i<t.length&&!r(t,i);i++);return t.substr(0,i)}function u(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var i=0,a=0;a<=n;a++)if(r(e,a)&&r(t,a))i=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,i);return h(o(s),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,s),s}function c(e,t,n,i,r,o){e=e||"",t=t||"",h(e!==t,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var u=a(t,e);h(u||a(e,t),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var c=0,d=u?s:l,p=e;;p=d(p,t)){var f;if(r&&p===e||o&&p===t||(f=n(p,u,i)),!1===f||p===t)break;h(c++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t)}}var d=e("./ReactRootIndex"),h=e("./invariant"),p=".",f=p.length,m=100,g={createReactRootID:function(){return i(d.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=u(e,t);o!==e&&c(e,o,n,i,!1,!0),o!==t&&c(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:p};t.exports=g},{"./ReactRootIndex":78,"./invariant":134}],65:[function(e,t,n){"use strict";function i(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:void 0===e?o.PropTypes.any.isRequired:e.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(t)}var o=e("./React");i.PropTypes={link:r},t.exports=i},{"./React":29}],66:[function(e,t,n){"use strict";var i=e("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return e.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(r.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),i(e)===n}};t.exports=r},{"./adler32":107}],67:[function(e,t,n){"use strict";function i(e){var t=_(e);return t&&k.getID(t)}function r(e){var t=o(e);if(t)if(T.hasOwnProperty(t)){var n=T[t];n!==e&&(w(!l(n,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",E,t),T[t]=e)}else T[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(E)||""}function a(e,t){var n=o(e);n!==t&&delete T[n],e.setAttribute(E,t),T[t]=e}function s(e){return T.hasOwnProperty(e)&&l(T[e],e)||(T[e]=k.findReactNodeByID(e)),T[e]}function l(e,t){if(e){w(o(e)===t,"ReactMount: Unexpected modification of `%s`",E);var n=k.findReactContainerForID(t);if(n&&y(n,e))return!0}return!1}function u(e){delete T[e]}function c(e){var t=T[e];if(!t||!l(t,e))return!1;P=t}function d(e){P=null,g.traverseAncestors(e,c);var t=P;return P=null,t}var h=e("./DOMProperty"),p=e("./ReactBrowserEventEmitter"),f=e("./ReactCurrentOwner"),m=e("./ReactDescriptor"),g=e("./ReactInstanceHandles"),v=e("./ReactPerf"),y=e("./containsNode"),_=e("./getReactRootElementInContainer"),b=e("./instantiateReactComponent"),w=e("./invariant"),M=e("./shouldUpdateReactComponent"),x=e("./warning"),S=g.SEPARATOR,E=h.ID_ATTRIBUTE_NAME,T={},C={},L={},D={},A=[],P=null,k={_instancesByReactRootID:C,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){var o=t.props;return k.scrollMonitor(n,function(){e.replaceProps(o,r)}),D[i(n)]=_(n),e},_registerComponent:function(e,t){w(t&&(1===t.nodeType||9===t.nodeType),"_registerComponent(...): Target container is not a DOM element."),p.ensureScrollValueMonitoring();var n=k.registerContainer(t);return C[n]=e,n},_renderNewRootComponent:v.measure("ReactMount","_renderNewRootComponent",function(e,t,n){x(null==f.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var i=b(e),r=k._registerComponent(i,t);return i.mountComponentIntoNode(r,t,n),D[r]=_(t),i}),renderComponent:function(e,t,n){w(m.isValidDescriptor(e),"renderComponent(): Invalid component descriptor.%s",m.isValidFactory(e)?" Instead of passing a component class, make sure to instantiate it first by calling it with props.":void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var r=C[i(t)];if(r){var o=r._descriptor;if(M(o,e))return k._updateRootComponent(r,e,t,n);k.unmountComponentAtNode(t)}var a=_(t),s=a&&k.isRenderedByReact(a),l=s&&!r,u=k._renderNewRootComponent(e,t,l);return n&&n.call(u),u},constructAndRenderComponent:function(e,t,n){return k.renderComponent(e(t),n)},constructAndRenderComponentByID:function(e,t,n){var i=document.getElementById(n);return w(i,'Tried to get element with id of "%s" but it is not present on the page.',n),k.constructAndRenderComponent(e,t,i)},registerContainer:function(e){var t=i(e);return t&&(t=g.getReactRootIDFromNodeID(t)),t||(t=g.createReactRootID()),L[t]=e,t},unmountComponentAtNode:function(e){x(null==f.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var t=i(e),n=C[t];return!!n&&(k.unmountComponentFromNode(n,e),delete C[t],delete L[t],delete D[t],!0)},unmountComponentFromNode:function(e,t){for(e.unmountComponent(),9===t.nodeType&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=g.getReactRootIDFromNodeID(e),n=L[t],i=D[t];if(i&&i.parentNode!==n){w(o(i)===t,"ReactMount: Root element ID differed from reactRootID.");var r=n.firstChild;r&&t===o(r)?D[t]=r:console.warn("ReactMount: Root element has been removed from its original container. New container:",i.parentNode)}return n},findReactNodeByID:function(e){var t=k.findReactContainerForID(e);return k.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=k.getID(e);return!!t&&t.charAt(0)===S},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(k.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=A,i=0,r=d(t)||e;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,a=n[i++];a;){var s=k.getID(a);s?t===s?o=a:g.isAncestorIDOf(s,t)&&(n.length=i=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,w(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting <p> or <a> tags, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,k.getID(e))},getReactRootID:i,getID:r,setID:a,getNode:s,purgeID:u};t.exports=k},{"./DOMProperty":11,"./ReactBrowserEventEmitter":31,"./ReactCurrentOwner":40,"./ReactDescriptor":56,"./ReactInstanceHandles":64,"./ReactPerf":71,"./containsNode":109,"./getReactRootElementInContainer":128,"./instantiateReactComponent":133,"./invariant":134,"./shouldUpdateReactComponent":154,"./warning":158}],68:[function(e,t,n){"use strict";function i(e,t,n){m.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:g.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function r(e,t,n){m.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function o(e,t){m.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function a(e,t){m.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){m.length&&(u.BackendIDOperations.dangerouslyProcessChildrenUpdates(m,g),l())}function l(){m.length=0,g.length=0}var u=e("./ReactComponent"),c=e("./ReactMultiChildUpdateTypes"),d=e("./flattenChildren"),h=e("./instantiateReactComponent"),p=e("./shouldUpdateReactComponent"),f=0,m=[],g=[],v={Mixin:{mountChildren:function(e,t){var n=d(e),i=[],r=0;this._renderedChildren=n;for(var o in n){var a=n[o];if(n.hasOwnProperty(o)){var s=h(a);n[o]=s;var l=this._rootNodeID+o,u=s.mountComponent(l,t,this._mountDepth+1);s._mountIndex=r,i.push(u),r++}}return i},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(e),t=!1}finally{--f||(t?l():s())}},updateChildren:function(e,t){f++;var n=!0;try{this._updateChildren(e,t),n=!1}finally{--f||(n?l():s())}},_updateChildren:function(e,t){var n=d(e),i=this._renderedChildren;if(n||i){var r,o=0,a=0;for(r in n)if(n.hasOwnProperty(r)){var s=i&&i[r],l=s&&s._descriptor,u=n[r];if(p(l,u))this.moveChild(s,a,o),o=Math.max(s._mountIndex,o),s.receiveComponent(u,t),s._mountIndex=a;else{s&&(o=Math.max(s._mountIndex,o),this._unmountChildByName(s,r));var c=h(u);this._mountChildByNameAtIndex(c,r,a,t)}a++}for(r in i)!i.hasOwnProperty(r)||n&&n[r]||this._unmountChildByName(i[r],r)}},unmountChildren:function(){var e=this._renderedChildren;for(var t in e){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){i(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i){var r=this._rootNodeID+t,o=e.mountComponent(r,i,this._mountDepth+1);e._mountIndex=n,this.createChild(e,o),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[t]=e},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null,e.unmountComponent(),delete this._renderedChildren[t]}}};t.exports=v},{"./ReactComponent":35,"./ReactMultiChildUpdateTypes":69,"./flattenChildren":119,"./instantiateReactComponent":133,"./shouldUpdateReactComponent":154}],69:[function(e,t,n){"use strict";var i=e("./keyMirror"),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=r},{"./keyMirror":140}],70:[function(e,t,n){"use strict";var i=e("./emptyObject"),r=e("./invariant"),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(o.isValidOwner(n),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(o.isValidOwner(n),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.refs[t]===e&&n.detachRef(t)},Mixin:{construct:function(){this.refs=i},attachRef:function(e,t){r(t.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",e),(this.refs===i?this.refs={}:this.refs)[e]=t},detachRef:function(e){delete this.refs[e]}}};t.exports=o},{"./emptyObject":117,"./invariant":134}],71:[function(e,t,n){"use strict";function i(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:i,measure:function(e,t,n){var i=null;return function(){return r.enableMeasure?(i||(i=r.storedMeasure(e,t,n)),i.apply(this,arguments)):n.apply(this,arguments)}},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],72:[function(e,t,n){"use strict";function i(e){return function(t,n,i){t.hasOwnProperty(n)?t[n]=e(t[n],i):t[n]=i}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=c[n];i&&c.hasOwnProperty(n)?i(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var o=e("./emptyFunction"),a=e("./invariant"),s=e("./joinClasses"),l=e("./merge"),u=i(function(e,t){return l(t,e)}),c={children:o,className:i(s),key:o,ref:o,style:u},d={TransferStrategies:c,mergeProps:function(e,t){return r(l(e),t)},Mixin:{transferPropsTo:function(e){return a(e._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,e.type.displayName),r(e.props,this.props),e}}};t.exports=d},{"./emptyFunction":116,"./invariant":134,"./joinClasses":139,"./merge":144}],73:[function(e,t,n){"use strict";var i={};i={prop:"prop",context:"context",childContext:"child context"},t.exports=i},{}],74:[function(e,t,n){"use strict";var i=e("./keyMirror"),r=i({prop:null,context:null,childContext:null});t.exports=r},{"./keyMirror":140}],75:[function(e,t,n){"use strict";function i(e){function t(t,n,i,r,o){if(r=r||v,null!=n[i])return e(n,i,r,o);var a=m[o];return t?new Error("Required "+a+" `"+i+"` was not specified in `"+r+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,i,r){var o=t[n];if(h(o)!==e){var a=m[r],s=p(o);return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` supplied to `"+i+"`, expected `"+e+"`.")}}return i(t)}function o(e){function t(t,n,i,r){var o=t[n];if(!Array.isArray(o)){var a=m[r],s=h(o);return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<o.length;l++){var u=e(o,l,i,r);if(u instanceof Error)return u}}return i(t)}function a(e){function t(t,n,i,r){if(!(t[n]instanceof e)){var o=m[r],a=e.name||v;return new Error("Invalid "+o+" `"+n+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}}return i(t)}function s(e){function t(t,n,i,r){for(var o=t[n],a=0;a<e.length;a++)if(o===e[a])return;var s=m[r],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` supplied to `"+i+"`, expected one of "+l+".")}return i(t)}function l(e){function t(t,n,i,r){var o=t[n],a=h(o);if("object"!==a){var s=m[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` supplied to `"+i+"`, expected an object.")}for(var l in o)if(o.hasOwnProperty(l)){var u=e(o,l,i,r);if(u instanceof Error)return u}}return i(t)}function u(e){function t(t,n,i,r){for(var o=0;o<e.length;o++)if(null==(0,e[o])(t,n,i,r))return;var a=m[r];return new Error("Invalid "+a+" `"+n+"` supplied to `"+i+"`.")}return i(t)}function c(e){function t(t,n,i,r){var o=t[n],a=h(o);if("object"!==a){var s=m[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` supplied to `"+i+"`, expected `object`.")}for(var l in e){var u=e[l];if(u){var c=u(o,l,i,r);if(c)return c}}}return i(t,"expected `object`")}function d(e){switch(typeof e){case"number":case"string":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(f.isValidDescriptor(e))return!0;for(var t in e)if(!d(e[t]))return!1;return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function p(e){var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var f=e("./ReactDescriptor"),m=e("./ReactPropTypeLocationNames"),g=e("./emptyFunction"),v="<<anonymous>>",y={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:function(){return i(g.thatReturns())}(),arrayOf:o,component:function(){function e(e,t,n,i){if(!f.isValidDescriptor(e[t])){var r=m[i];return new Error("Invalid "+r+" `"+t+"` supplied to `"+n+"`, expected a React component.")}}return i(e)}(),instanceOf:a,objectOf:l,oneOf:s,oneOfType:u,renderable:function(){function e(e,t,n,i){if(!d(e[t])){var r=m[i];return new Error("Invalid "+r+" `"+t+"` supplied to `"+n+"`, expected a renderable prop.")}}return i(e)}(),shape:c};t.exports=y},{"./ReactDescriptor":56,"./ReactPropTypeLocationNames":73,"./emptyFunction":116}],76:[function(e,t,n){"use strict";function i(){this.listenersToPut=[]}var r=e("./PooledClass"),o=e("./ReactBrowserEventEmitter");e("./mixInto")(i,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];o.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(i),t.exports=i},{"./PooledClass":28,"./ReactBrowserEventEmitter":31,"./mixInto":147}],77:[function(e,t,n){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=l.getPooled()}var r=e("./CallbackQueue"),o=e("./PooledClass"),a=e("./ReactBrowserEventEmitter"),s=e("./ReactInputSelection"),l=e("./ReactPutListenerQueue"),u=e("./Transaction"),c=e("./mixInto"),d={initialize:s.getSelectionInformation,close:s.restoreSelection},h={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,d,h,p],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};c(i,u.Mixin),c(i,g),o.addPoolingTo(i),t.exports=i},{"./CallbackQueue":6,"./PooledClass":28,"./ReactBrowserEventEmitter":31,"./ReactInputSelection":63,"./ReactPutListenerQueue":76,"./Transaction":104,"./mixInto":147}],78:[function(e,t,n){"use strict";var i={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:i};t.exports=r},{}],79:[function(e,t,n){"use strict";function i(e){c(o.isValidDescriptor(e),"renderComponentToString(): You must pass a valid ReactComponent."),c(!(2===arguments.length&&"function"==typeof arguments[1]),"renderComponentToString(): This function became synchronous and now returns the generated markup. Please remove the second parameter.");var t;try{var n=a.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var i=u(e),r=i.mountComponent(n,t,0);return s.addChecksumToMarkup(r)},null)}finally{l.release(t)}}function r(e){c(o.isValidDescriptor(e),"renderComponentToStaticMarkup(): You must pass a valid ReactComponent.");var t;try{var n=a.createReactRootID();return t=l.getPooled(!0),t.perform(function(){return u(e).mountComponent(n,t,0)},null)}finally{l.release(t)}}var o=e("./ReactDescriptor"),a=e("./ReactInstanceHandles"),s=e("./ReactMarkupChecksum"),l=e("./ReactServerRenderingTransaction"),u=e("./instantiateReactComponent"),c=e("./invariant");t.exports={renderComponentToString:i,renderComponentToStaticMarkup:r}},{"./ReactDescriptor":56,"./ReactInstanceHandles":64,"./ReactMarkupChecksum":66,"./ReactServerRenderingTransaction":80,"./instantiateReactComponent":133,"./invariant":134}],80:[function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.putListenerQueue=a.getPooled()}var r=e("./PooledClass"),o=e("./CallbackQueue"),a=e("./ReactPutListenerQueue"),s=e("./Transaction"),l=e("./emptyFunction"),u=e("./mixInto"),c={initialize:function(){this.reactMountReady.reset()},close:l},d={initialize:function(){this.putListenerQueue.reset()},close:l},h=[d,c],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};u(i,s.Mixin),u(i,p),r.addPoolingTo(i),t.exports=i},{"./CallbackQueue":6,"./PooledClass":28,"./ReactPutListenerQueue":76,"./Transaction":104,"./emptyFunction":116,"./mixInto":147}],81:[function(e,t,n){"use strict";function i(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var r={createStateSetter:function(e,t){return function(n,i,r,o,a,s){var l=t.call(e,n,i,r,o,a,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=i(e,t))}};r.Mixin={createStateSetter:function(e){return r.createStateSetter(this,e)},createStateKeySetter:function(e){return r.createStateKeySetter(this,e)}},t.exports=r},{}],82:[function(e,t,n){"use strict";function i(e){}function r(e){return function(t,n){var r;b.isDOMComponent(t)?r=t.getDOMNode():t.tagName&&(r=t);var o=new i;o.target=r;var a=new g(h.eventNameDispatchConfigs[e],p.getID(r),o);v(a,n),l.accumulateTwoPhaseDispatches(a),m.batchedUpdates(function(){s.enqueueEvents(a),s.processEventQueue()})}}function o(){b.Simulate={};var e;for(e in h.eventNameDispatchConfigs)b.Simulate[e]=r(e)}var a=e("./EventConstants"),s=e("./EventPluginHub"),l=e("./EventPropagators"),u=e("./React"),c=e("./ReactDescriptor"),d=e("./ReactDOM"),h=e("./ReactBrowserEventEmitter"),p=e("./ReactMount"),f=e("./ReactTextComponent"),m=e("./ReactUpdates"),g=e("./SyntheticEvent"),v=e("./mergeInto"),y=e("./copyProperties"),_=a.topLevelTypes,b={renderIntoDocument:function(e){var t=document.createElement("div");return u.renderComponent(e,t)},isDescriptor:function(e){return c.isValidDescriptor(e)},isDescriptorOfType:function(e,t){return c.isValidDescriptor(e)&&e.type===t.type},isDOMComponent:function(e){return!!(e&&e.mountComponent&&e.tagName)},isDOMComponentDescriptor:function(e){return!!(e&&c.isValidDescriptor(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!b.isCompositeComponent(e)||e.constructor!==t.type)},isCompositeComponentDescriptor:function(e){if(!c.isValidDescriptor(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentDescriptorWithType:function(e,t){return!(!b.isCompositeComponentDescriptor(e)||e.constructor!==t)},isTextComponent:function(e){return e instanceof f.type},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(b.isDOMComponent(e)){var i,r=e._renderedChildren;for(i in r)r.hasOwnProperty(i)&&(n=n.concat(b.findAllInRenderedTree(r[i],t)))}else b.isCompositeComponent(e)&&(n=n.concat(b.findAllInRenderedTree(e._renderedComponent,t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return b.findAllInRenderedTree(e,function(e){var n=e.props.className;return b.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=b.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return b.findAllInRenderedTree(e,function(e){return b.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=b.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return b.findAllInRenderedTree(e,function(e){return b.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=b.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){var n=u.createClass({render:function(){var t=t||e.mockTagName||"div";return d[t](null,this.props.children)}});return y(e,n),e.mockImplementation(n),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,h.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){b.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},Simulate:null,SimulateNative:{}},w=s.injection.injectEventPluginOrder;s.injection.injectEventPluginOrder=function(){w.apply(this,arguments),o()};var M=s.injection.injectEventPluginsByName;s.injection.injectEventPluginsByName=function(){M.apply(this,arguments),o()},o();var x;for(x in _){var S=0===x.indexOf("top")?x.charAt(3).toLowerCase()+x.substr(4):x;b.SimulateNative[S]=function(e){return function(t,n){var r=new i(e);v(r,n),b.isDOMComponent(t)?b.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&b.simulateNativeEventOnNode(e,t,r)}}(x)}t.exports=b},{"./EventConstants":16,"./EventPluginHub":18,"./EventPropagators":21,"./React":29,"./ReactBrowserEventEmitter":31,"./ReactDOM":41,"./ReactDescriptor":56,"./ReactMount":67,"./ReactTextComponent":83,"./ReactUpdates":87,"./SyntheticEvent":96,"./copyProperties":110,"./mergeInto":146}],83:[function(e,t,n){"use strict";var i=e("./DOMPropertyOperations"),r=e("./ReactBrowserComponentMixin"),o=e("./ReactComponent"),a=e("./ReactDescriptor"),s=e("./escapeTextForBrowser"),l=e("./mixInto"),u=function(e){this.construct(e)};l(u,o.Mixin),l(u,r),l(u,{mountComponent:function(e,t,n){o.Mixin.mountComponent.call(this,e,t,n);var r=s(this.props);return t.renderToStaticMarkup?r:"<span "+i.createMarkupForID(e)+">"+r+"</span>"},receiveComponent:function(e,t){var n=e.props;n!==this.props&&(this.props=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}}),t.exports=a.createFactory(u)},{"./DOMPropertyOperations":12,"./ReactBrowserComponentMixin":30,"./ReactComponent":35,"./ReactDescriptor":56,"./escapeTextForBrowser":118,"./mixInto":147}],84:[function(e,t,n){"use strict";var i=e("./ReactChildren"),r={getChildMapping:function(e){return i.map(e,function(e){return e})},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var l in t){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var u=i[l][a];s[i[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};t.exports=r},{"./ReactChildren":34}],85:[function(e,t,n){"use strict";function i(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}var o=e("./ExecutionEnvironment"),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];o.canUseDOM&&function(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var i=a[n];for(var r in i)if(r in t){s.push(i[r]);break}}}();var l={addEndEventListener:function(e,t){if(0===s.length)return void window.setTimeout(t,0);s.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){r(e,n,t)})}};t.exports=l},{"./ExecutionEnvironment":22}],86:[function(e,t,n){"use strict";var i=e("./React"),r=e("./ReactTransitionChildMapping"),o=e("./cloneWithProps"),a=e("./emptyFunction"),s=e("./merge"),l=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.func,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:i.DOM.span,childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,t)});var i;for(i in t){var o=n&&n.hasOwnProperty(i);!t[i]||o||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var i=s(this.state.children);delete i[e],this.setState({children:i})}},render:function(){var e={};for(var t in this.state.children){var n=this.state.children[t];n&&(e[t]=o(this.props.childFactory(n),{ref:t}))}return this.transferPropsTo(this.props.component(null,e))}});t.exports=l},{"./React":29,"./ReactTransitionChildMapping":84,"./cloneWithProps":108,"./emptyFunction":116,"./merge":144}],87:[function(e,t,n){"use strict";function i(){f(S.ReactReconcileTransaction&&y,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(null),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled()}function o(e,t,n){i(),y.batchedUpdates(e,t,n)}function a(e,t){return e._mountDepth-t._mountDepth}function s(e){var t=e.dirtyComponentsLength;f(t===v.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,v.length),v.sort(a);for(var n=0;n<t;n++){var i=v[n];if(i.isMounted()){var r=i._pendingCallbacks;if(i._pendingCallbacks=null,i.performUpdateIfNecessary(e.reconcileTransaction),r)for(var o=0;o<r.length;o++)e.callbackQueue.enqueue(r[o],i)}}}function l(e,t){if(f(!t||"function"==typeof t,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),i(),g(null==d.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),!y.isBatchingUpdates)return void y.batchedUpdates(l,e,t);v.push(e),t&&(e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t])}var u=e("./CallbackQueue"),c=e("./PooledClass"),d=e("./ReactCurrentOwner"),h=e("./ReactPerf"),p=e("./Transaction"),f=e("./invariant"),m=e("./mixInto"),g=e("./warning"),v=[],y=null,_={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),M()):v.length=0}},b={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[_,b];m(r,p.Mixin),m(r,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),c.addPoolingTo(r);var M=h.measure("ReactUpdates","flushBatchedUpdates",function(){for(;v.length;){var e=r.getPooled();e.perform(s,null,e),r.release(e)}}),x={injectReconcileTransaction:function(e){f(e,"ReactUpdates: must provide a reconcile transaction class"),S.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){f(e,"ReactUpdates: must provide a batching strategy"),f("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),f("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),y=e}},S={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:M,injection:x};t.exports=S},{"./CallbackQueue":6,"./PooledClass":28,"./ReactCurrentOwner":40,"./ReactPerf":71,"./Transaction":104,"./invariant":134,"./mixInto":147,"./warning":158}],88:[function(e,t,n){"use strict";var i=e("./LinkedStateMixin"),r=e("./React"),o=e("./ReactComponentWithPureRenderMixin"),a=e("./ReactCSSTransitionGroup"),s=e("./ReactTransitionGroup"),l=e("./cx"),u=e("./cloneWithProps"),c=e("./update");r.addons={CSSTransitionGroup:a,LinkedStateMixin:i,PureRenderMixin:o,TransitionGroup:s,classSet:l,cloneWithProps:u,update:c},r.addons.Perf=e("./ReactDefaultPerf"),r.addons.TestUtils=e("./ReactTestUtils"),t.exports=r},{"./LinkedStateMixin":24,"./React":29,"./ReactCSSTransitionGroup":32,"./ReactComponentWithPureRenderMixin":37,"./ReactDefaultPerf":54,"./ReactTestUtils":82,"./ReactTransitionGroup":86,"./cloneWithProps":108,"./cx":114,"./update":157}],89:[function(e,t,n){"use strict";var i=e("./DOMProperty"),r=i.injection.MUST_USE_ATTRIBUTE,o={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=o},{"./DOMProperty":11}],90:[function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(document.selection){var t=document.selection.createRange();return{parentElement:t.parentElement(),text:t.text,top:t.boundingTop,left:t.boundingLeft}}var n=window.getSelection();return{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}function r(e){if(!y&&null!=m&&m==u()){var t=i(m);if(!v||!h(v,t)){v=t;var n=l.getPooled(f.select,g,e);return n.type="select",n.target=m,a.accumulateTwoPhaseDispatches(n),n}}}var o=e("./EventConstants"),a=e("./EventPropagators"),s=e("./ReactInputSelection"),l=e("./SyntheticEvent"),u=e("./getActiveElement"),c=e("./isTextInputElement"),d=e("./keyOf"),h=e("./shallowEqual"),p=o.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},m=null,g=null,v=null,y=!1,_={eventTypes:f,extractEvents:function(e,t,n,i){switch(e){case p.topFocus:(c(t)||"true"===t.contentEditable)&&(m=t,g=n,v=null);break;case p.topBlur:m=null,g=null,v=null;break;case p.topMouseDown:y=!0;break;case p.topContextMenu:case p.topMouseUp:return y=!1,r(i);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return r(i)}}};t.exports=_},{"./EventConstants":16,"./EventPropagators":21,"./ReactInputSelection":63,"./SyntheticEvent":96,"./getActiveElement":122,"./isTextInputElement":137,"./keyOf":141,"./shallowEqual":153}],91:[function(e,t,n){"use strict";var i=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*i)}};t.exports=r},{}],92:[function(e,t,n){"use strict";var i=e("./EventConstants"),r=e("./EventPluginUtils"),o=e("./EventPropagators"),a=e("./SyntheticClipboardEvent"),s=e("./SyntheticEvent"),l=e("./SyntheticFocusEvent"),u=e("./SyntheticKeyboardEvent"),c=e("./SyntheticMouseEvent"),d=e("./SyntheticDragEvent"),h=e("./SyntheticTouchEvent"),p=e("./SyntheticUIEvent"),f=e("./SyntheticWheelEvent"),m=e("./invariant"),g=e("./keyOf"),v=i.topLevelTypes,y={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},_={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var b in _)_[b].dependencies=[b];var w={eventTypes:y,executeDispatch:function(e,t,n){!1===r.executeDispatch(e,t,n)&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,i){var r=_[e];if(!r)return null;var g;switch(e){case v.topInput:case v.topLoad:case v.topError:case v.topReset:case v.topSubmit:g=s;break;case v.topKeyPress:if(0===i.charCode)return null;case v.topKeyDown:case v.topKeyUp:g=u;break;case v.topBlur:case v.topFocus:g=l;break;case v.topClick:if(2===i.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:g=c;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:g=d;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:g=h;break;case v.topScroll:g=p;break;case v.topWheel:g=f;break;case v.topCopy:case v.topCut:case v.topPaste:g=a}m(g,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var y=g.getPooled(r,n,i);return o.accumulateTwoPhaseDispatches(y),y}};t.exports=w},{"./EventConstants":16,"./EventPluginUtils":20,"./EventPropagators":21,"./SyntheticClipboardEvent":93,"./SyntheticDragEvent":95,"./SyntheticEvent":96,"./SyntheticFocusEvent":97,"./SyntheticKeyboardEvent":99,"./SyntheticMouseEvent":100,"./SyntheticTouchEvent":101,"./SyntheticUIEvent":102,"./SyntheticWheelEvent":103,"./invariant":134,"./keyOf":141}],93:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(i,o),t.exports=i},{"./SyntheticEvent":96}],94:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),o={data:null};r.augmentClass(i,o),t.exports=i},{"./SyntheticEvent":96}],95:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),o={dataTransfer:null};r.augmentClass(i,o),t.exports=i},{"./SyntheticMouseEvent":100}],96:[function(e,t,n){"use strict";function i(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];this[r]=a?a(n):n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;this.isDefaultPrevented=s?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=e("./PooledClass"),o=e("./emptyFunction"),a=e("./getEventTarget"),s=e("./merge"),l=e("./mergeInto"),u={type:null,target:a,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};l(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=u,i.augmentClass=function(e,t){var n=this,i=Object.create(n.prototype);l(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=s(n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.threeArgumentPooler)},r.addPoolingTo(i,r.threeArgumentPooler),t.exports=i},{"./PooledClass":28,"./emptyFunction":116,"./getEventTarget":125,"./merge":144,"./mergeInto":146}],97:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),o={relatedTarget:null};r.augmentClass(i,o),t.exports=i},{"./SyntheticUIEvent":102}],98:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),o={data:null};r.augmentClass(i,o),t.exports=i},{"./SyntheticEvent":96}],99:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),o=e("./getEventKey"),a=e("./getEventModifierState"),s={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?"charCode"in e?e.charCode:e.keyCode:0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return e.keyCode||e.charCode}};r.augmentClass(i,s),t.exports=i},{"./SyntheticUIEvent":102,"./getEventKey":123,"./getEventModifierState":124}],100:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),o=e("./ViewportMetrics"),a=e("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(i,s),t.exports=i},{"./SyntheticUIEvent":102,"./ViewportMetrics":105,"./getEventModifierState":124}],101:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),o=e("./getEventModifierState"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),t.exports=i},{"./SyntheticUIEvent":102,"./getEventModifierState":124}],102:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),o=e("./getEventTarget"),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(i,a),t.exports=i},{"./SyntheticEvent":96,"./getEventTarget":125}],103:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),t.exports=i},{"./SyntheticMouseEvent":100}],104:[function(e,t,n){"use strict";var i=e("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,a,s,l){i(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,r,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){i(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,a=t[n],s=this.wrapperInitData[n];try{r=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};t.exports=o},{"./invariant":134}],105:[function(e,t,n){"use strict";var i=e("./getUnboundedScrollPosition"),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var e=i(window);r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{"./getUnboundedScrollPosition":130}],106:[function(e,t,n){"use strict";function i(e,t){if(r(null!=t,"accumulate(...): Accumulated items must be not be null or undefined."),null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n?e.concat(t):i?[e].concat(t):[e,t]}var r=e("./invariant");t.exports=i},{"./invariant":134}],107:[function(e,t,n){"use strict";function i(e){for(var t=1,n=0,i=0;i<e.length;i++)t=(t+e.charCodeAt(i))%r,n=(n+t)%r;return t|n<<16}var r=65521;t.exports=i},{}],108:[function(e,t,n){"use strict";function i(e,t){a(!e.props.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=r.mergeProps(t,e.props);return!n.hasOwnProperty(s)&&e.props.hasOwnProperty(s)&&(n.children=e.props.children),e.constructor(n)}var r=e("./ReactPropTransferer"),o=e("./keyOf"),a=e("./warning"),s=o({children:null});t.exports=i},{"./ReactPropTransferer":72,"./keyOf":141,"./warning":158}],109:[function(e,t,n){function i(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?i(e,t.parentNode):e.contains?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=e("./isTextNode");t.exports=i},{"./isTextNode":138}],110:[function(e,t,n){function i(e,t,n,i,r,o,a){if(e=e||{},a)throw new Error("Too many arguments passed to copyProperties");for(var s,l=[t,n,i,r,o],u=0;l[u];){s=l[u++];for(var c in s)e[c]=s[c];s.hasOwnProperty&&s.hasOwnProperty("toString")&&void 0!==s.toString&&e.toString!==s.toString&&(e.toString=s.toString)}return e}t.exports=i},{}],111:[function(e,t,n){function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return i(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=e("./toArray");t.exports=r},{"./toArray":155}],112:[function(e,t,n){"use strict";function i(e){return r.createClass({displayName:"ReactFullPageComponent"+(e.type.displayName||""),componentWillUnmount:function(){o(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return this.transferPropsTo(e(null,this.props.children))}})}var r=e("./ReactCompositeComponent"),o=e("./invariant");t.exports=i},{"./ReactCompositeComponent":38,"./invariant":134}],113:[function(e,t,n){function i(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var n=u;l(!!u,"createNodesFromMarkup dummy not initialized");var r=i(e),o=r&&s(r);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(l(t,"createNodesFromMarkup(...): Unexpected <script> element rendered."),a(d).forEach(t));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=e("./ExecutionEnvironment"),a=e("./createArrayFrom"),s=e("./getMarkupWrap"),l=e("./invariant"),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},{"./ExecutionEnvironment":22,"./createArrayFrom":111,"./getMarkupWrap":126,"./invariant":134}],114:[function(e,t,n){function i(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}t.exports=i},{}],115:[function(e,t,n){"use strict";function i(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=e("./CSSProperty"),o=r.isUnitlessNumber;t.exports=i},{"./CSSProperty":4}],116:[function(e,t,n){function i(e){return function(){return e}}function r(){}e("./copyProperties")(r,{thatReturns:i,thatReturnsFalse:i(!1),thatReturnsTrue:i(!0),thatReturnsNull:i(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),t.exports=r},{"./copyProperties":110}],117:[function(e,t,n){"use strict";var i={};Object.freeze(i),t.exports=i},{}],118:[function(e,t,n){"use strict";function i(e){return o[e]}function r(e){return(""+e).replace(a,i)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.exports=r},{}],119:[function(e,t,n){"use strict";function i(e,t,n){var i=e,r=!i.hasOwnProperty(n);a(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),r&&null!=t&&(i[n]=t)}function r(e){if(null==e)return e;var t={};return o(e,i,t),t}var o=e("./traverseAllChildren"),a=e("./warning");t.exports=r},{"./traverseAllChildren":156,"./warning":158}],120:[function(e,t,n){"use strict";function i(e){e.disabled||e.focus()}t.exports=i},{}],121:[function(e,t,n){"use strict";var i=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=i},{}],122:[function(e,t,n){function i(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=i},{}],123:[function(e,t,n){"use strict";function i(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n="charCode"in e?e.charCode:e.keyCode;return 13===n?"Enter":String.fromCharCode(n)}if("keydown"===e.type||"keyup"===e.type)return a[e.keyCode]||"Unidentified";r(!1,"Unexpected keyboard event type: %s",e.type)}var r=e("./invariant"),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=i},{"./invariant":134}],124:[function(e,t,n){"use strict";function i(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=o[e];return!!i&&!!n[i]}function r(e){return i}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},{}],125:[function(e,t,n){"use strict";function i(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=i},{}],126:[function(e,t,n){function i(e){return o(!!a,"Markup wrapping node not initialized"),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var r=e("./ExecutionEnvironment"),o=e("./invariant"),a=r.canUseDOM?document.createElement("div"):null,s={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c,circle:d,defs:d,ellipse:d,g:d,line:d,linearGradient:d,path:d,polygon:d,polyline:d,radialGradient:d,rect:d,stop:d,text:d};t.exports=i},{"./ExecutionEnvironment":22,"./invariant":134}],127:[function(e,t,n){"use strict";function i(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=i(e),o=0,a=0;n;){if(3==n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=i(r(n))}}t.exports=o},{}],128:[function(e,t,n){"use strict";function i(e){return e?e.nodeType===r?e.documentElement:e.firstChild:null}var r=9;t.exports=i},{}],129:[function(e,t,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=e("./ExecutionEnvironment"),o=null;t.exports=i},{"./ExecutionEnvironment":22}],130:[function(e,t,n){"use strict";function i(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=i},{}],131:[function(e,t,n){function i(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=i},{}],132:[function(e,t,n){"use strict";function i(e){return r(e).replace(o,"-ms-")}var r=e("./hyphenate"),o=/^ms-/;t.exports=i},{"./hyphenate":131}],133:[function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.type&&"function"==typeof e.type.prototype.mountComponent&&"function"==typeof e.type.prototype.receiveComponent}function r(e){return o(i(e),"Only React Components are valid for mounting."),new e.type(e)}var o=e("./invariant");t.exports=r},{"./invariant":134}],134:[function(e,t,n){"use strict";var i=function(e,t,n,i,r,o,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};t.exports=i},{}],135:[function(e,t,n){"use strict";/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function i(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=e("./ExecutionEnvironment");o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=i},{"./ExecutionEnvironment":22}],136:[function(e,t,n){function i(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=i},{}],137:[function(e,t,n){"use strict";function i(e){return e&&("INPUT"===e.nodeName&&r[e.type]||"TEXTAREA"===e.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=i},{}],138:[function(e,t,n){function i(e){return r(e)&&3==e.nodeType}var r=e("./isNode");t.exports=i},{"./isNode":136}],139:[function(e,t,n){"use strict";function i(e){e||(e="");var t,n=arguments.length;if(n>1)for(var i=1;i<n;i++)(t=arguments[i])&&(e+=" "+t);return e}t.exports=i},{}],140:[function(e,t,n){"use strict";var i=e("./invariant"),r=function(e){var t,n={};i(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=r},{"./invariant":134}],141:[function(e,t,n){var i=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=i},{}],142:[function(e,t,n){"use strict";function i(e,t,n){if(!e)return null;var i=0,r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=t.call(n,e[o],o,i++));return r}t.exports=i},{}],143:[function(e,t,n){"use strict";function i(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}t.exports=i},{}],144:[function(e,t,n){"use strict";var i=e("./mergeInto"),r=function(e,t){var n={};return i(n,e),i(n,t),n};t.exports=r},{"./mergeInto":146}],145:[function(e,t,n){"use strict";var i=e("./invariant"),r=e("./keyMirror"),o=function(e){return"object"!=typeof e||null===e},a={MAX_MERGE_DEPTH:36,isTerminal:o,normalizeMergeArg:function(e){return void 0===e||null===e?{}:e},checkMergeArrayArgs:function(e,t){i(Array.isArray(e)&&Array.isArray(t),"Tried to merge arrays, instead got %s and %s.",e,t)},checkMergeObjectArgs:function(e,t){a.checkMergeObjectArg(e),a.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){i(!o(e)&&!Array.isArray(e),"Tried to merge an object, instead got %s.",e)},checkMergeIntoObjectArg:function(e){i(!(o(e)&&"function"!=typeof e||Array.isArray(e)),"Tried to merge into an object, instead got %s.",e)},checkMergeLevel:function(e){i(e<36,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(e){i(void 0===e||e in a.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:r({Clobber:!0,IndexByIndex:!0})};t.exports=a},{"./invariant":134,"./keyMirror":140}],146:[function(e,t,n){"use strict";function i(e,t){if(a(e),null!=t){o(t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var r=e("./mergeHelpers"),o=r.checkMergeObjectArg,a=r.checkMergeIntoObjectArg;t.exports=i},{"./mergeHelpers":145}],147:[function(e,t,n){"use strict";var i=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])};t.exports=i},{}],148:[function(e,t,n){"use strict";function i(e,t){r(e&&!/[^a-z0-9_]/.test(e),"You must provide an eventName using only the characters [a-z0-9_]")}var r=e("./invariant");t.exports=i},{"./invariant":134}],149:[function(e,t,n){"use strict";function i(e){return o(r.isValidDescriptor(e),"onlyChild must be passed a children with exactly one child."),e}var r=e("./ReactDescriptor"),o=e("./invariant");t.exports=i},{"./ReactDescriptor":56,"./invariant":134}],150:[function(e,t,n){"use strict";var i;e("./ExecutionEnvironment").canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),t.exports=i||{}},{"./ExecutionEnvironment":22}],151:[function(e,t,n){var i=e("./performance");i&&i.now||(i=Date);var r=i.now.bind(i);t.exports=r},{"./performance":150}],152:[function(e,t,n){"use strict";var i=e("./ExecutionEnvironment"),r=function(e,t){e.innerHTML=t};if(i.canUseDOM){var o=document.createElement("div");o.innerHTML=" ",""===o.innerHTML&&(r=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),t.match(/^[ \r\n\t\f]/)||"<"===t[0]&&(-1!==t.indexOf("<noscript")||-1!==t.indexOf("<script")||-1!==t.indexOf("<style")||-1!==t.indexOf("<meta")||-1!==t.indexOf("<link"))){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=r},{"./ExecutionEnvironment":22}],153:[function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=i},{}],154:[function(e,t,n){"use strict";function i(e,t){return!(!e||!t||e.type!==t.type||(e.props&&e.props.key)!==(t.props&&t.props.key)||e._owner!==t._owner)}t.exports=i},{}],155:[function(e,t,n){function i(e){var t=e.length;if(r(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e),"toArray: Array-like object expected"),r("number"==typeof t,"toArray: Object needs a length property"),r(0===t||t-1 in e,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}var r=e("./invariant");t.exports=i},{"./invariant":134}],156:[function(e,t,n){"use strict";function i(e){return h[e]}function r(e,t){return e&&e.props&&null!=e.props.key?a(e.props.key):t.toString(36)}function o(e){return(""+e).replace(p,i)}function a(e){return"$"+o(e)}function s(e,t,n){return null==e?0:f(e,"",0,t,n)}var l=e("./ReactInstanceHandles"),u=e("./ReactTextComponent"),c=e("./invariant"),d=l.SEPARATOR,h={"=":"=0",".":"=1",":":"=2"},p=/[=.:]/g,f=function(e,t,n,i,o){var s=0;if(Array.isArray(e))for(var l=0;l<e.length;l++){var h=e[l],p=t+(t?":":d)+r(h,l),m=n+s;s+=f(h,p,m,i,o)}else{var g=typeof e,v=""===t,y=v?d+r(e,0):t;if(null==e||"boolean"===g)i(o,null,y,n),s=1;else if(e.type&&e.type.prototype&&e.type.prototype.mountComponentIntoNode)i(o,e,y,n),s=1;else if("object"===g){c(!e||1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");for(var _ in e)e.hasOwnProperty(_)&&(s+=f(e[_],t+(t?":":d)+a(_)+":"+r(e[_],0),n+s,i,o))}else if("string"===g){var b=u(e);i(o,b,y,n),s+=1}else if("number"===g){var w=u(""+e);i(o,w,y,n),s+=1}}return s};t.exports=s},{"./ReactInstanceHandles":64,"./ReactTextComponent":83,"./invariant":134}],157:[function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function r(e,t,n){l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];l(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}function o(e,t){if(l("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",m.join(", "),h),t.hasOwnProperty(h))return l(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",h),t[h];var n=i(e);if(t.hasOwnProperty(p)){var s=t[p];l(s&&"object"==typeof s,"update(): %s expects a spec of type 'object'; got %s",p,s),l(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",p,n),a(n,t[p])}t.hasOwnProperty(u)&&(r(e,t,u),t[u].forEach(function(e){n.push(e)})),t.hasOwnProperty(c)&&(r(e,t,c),t[c].forEach(function(e){n.unshift(e)})),t.hasOwnProperty(d)&&(l(Array.isArray(e),"Expected %s target to be an array; got %s",d,e),l(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),t[d].forEach(function(e){l(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),n.splice.apply(n,e)})),t.hasOwnProperty(f)&&(l("function"==typeof t[f],"update(): expected spec of %s to be a function; got %s.",f,t[f]),n=t[f](n));for(var v in t)g.hasOwnProperty(v)&&g[v]||(n[v]=o(e[v],t[v]));return n}var a=e("./copyProperties"),s=e("./keyOf"),l=e("./invariant"),u=s({$push:null}),c=s({$unshift:null}),d=s({$splice:null}),h=s({$set:null}),p=s({$merge:null}),f=s({$apply:null}),m=[u,c,d,h,p,f],g={};m.forEach(function(e){g[e]=!0}),t.exports=o},{"./copyProperties":110,"./invariant":134,"./keyOf":141}],158:[function(e,t,n){"use strict";var i=e("./emptyFunction"),r=i;r=function(e,t){var n=Array.prototype.slice.call(arguments,2);if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){var i=0;console.warn("Warning: "+t.replace(/%s/g,function(){return n[i++]}))}},t.exports=r},{"./emptyFunction":116}]},{},[88])(88)}()}()},function(e,t,n){"use strict";function i(){}function r(e,t){this.x=e||0,this.y=t||0}function o(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function a(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function s(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function u(e,t,n,i,o,a,s,c,d,h){Object.defineProperty(this,"id",{value:bs++}),this.uuid=_s.generateUUID(),this.name="",this.image=void 0!==e?e:u.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:u.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ma,this.wrapT=void 0!==i?i:Ma,this.magFilter=void 0!==o?o:Ca,this.minFilter=void 0!==a?a:Da,this.anisotropy=void 0!==d?d:1,this.format=void 0!==s?s:Va,this.type=void 0!==c?c:Aa,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:cs,this.version=0,this.onUpdate=null}function c(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function d(e,t,n){this.uuid=_s.generateUUID(),this.width=e,this.height=t,this.scissor=new c(0,0,e,t),this.scissorTest=!1,this.viewport=new c(0,0,e,t),n=n||{},void 0===n.minFilter&&(n.minFilter=Ca),this.texture=new u(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function h(e,t,n){d.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function p(e,t,n,i,r,o,a,s,l,c,d,h){u.call(this,null,o,a,s,l,c,i,r,d,h),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:Sa,this.minFilter=void 0!==c?c:Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(e,t,n,i,r,o,a,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:fa,u.call(this,e,t,n,i,r,o,a,s,l,c),this.flipY=!1}function m(){this.seq=[],this.map={}}function g(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,o=xs[r];if(void 0===o&&(o=new Float32Array(r),xs[r]=o),0!==t){i.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function v(e,t){var n=Ss[t];void 0===n&&(n=new Int32Array(t),Ss[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function y(e,t){e.uniform1f(this.addr,t)}function _(e,t){e.uniform1i(this.addr,t)}function b(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function w(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function M(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function x(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function S(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Ts.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Ts))}function E(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Es.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Es))}function T(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||ws,i)}function C(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||Ms,i)}function L(e,t){e.uniform2iv(this.addr,t)}function D(e,t){e.uniform3iv(this.addr,t)}function A(e,t){e.uniform4iv(this.addr,t)}function P(e){switch(e){case 5126:return y;case 35664:return b;case 35665:return w;case 35666:return M;case 35674:return x;case 35675:return S;case 35676:return E;case 35678:case 36198:return T;case 35680:return C;case 5124:case 35670:return _;case 35667:case 35671:return L;case 35668:case 35672:return D;case 35669:case 35673:return A}}function k(e,t){e.uniform1fv(this.addr,t)}function O(e,t){e.uniform1iv(this.addr,t)}function I(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function R(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function N(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function B(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function j(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function F(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function Y(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture2D(t[o]||ws,r[o])}function z(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Ms,r[o])}function U(e){switch(e){case 5126:return k;case 35664:return I;case 35665:return R;case 35666:return N;case 35674:return B;case 35675:return j;case 35676:return F;case 35678:return Y;case 35680:return z;case 5124:case 35670:return O;case 35667:case 35671:return L;case 35668:case 35672:return D;case 35669:case 35673:return A}}function H(e,t,n){this.id=e,this.addr=n,this.setValue=P(t.type)}function V(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=U(t.type)}function G(e){this.id=e,m.call(this)}function W(e,t){e.seq.push(t),e.map[t.id]=t}function X(e,t,n){var i=e.name,r=i.length;for(Cs.lastIndex=0;;){var o=Cs.exec(i),a=Cs.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===r){W(n,void 0===u?new H(s,e,t):new V(s,e,t));break}var c=n.map,d=c[s];void 0===d&&(d=new G(s),W(n,d)),n=d}}function q(e,t,n){m.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var o=e.getActiveUniform(t,r),a=o.name;X(o,e.getUniformLocation(t,a),this)}}function Q(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Z(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function K(e,t,n,i,o){function a(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),i=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),m=t.createTexture(),g=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,g),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),d={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},h=l(d),p={vertex:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},f={renderType:t.getUniformLocation(h,"renderType"),map:t.getUniformLocation(h,"map"),occlusionMap:t.getUniformLocation(h,"occlusionMap"),opacity:t.getUniformLocation(h,"opacity"),color:t.getUniformLocation(h,"color"),scale:t.getUniformLocation(h,"scale"),rotation:t.getUniformLocation(h,"rotation"),screenPosition:t.getUniformLocation(h,"screenPosition")}}function l(e){var n=t.createProgram(),i=t.createShader(t.FRAGMENT_SHADER),r=t.createShader(t.VERTEX_SHADER),a="precision "+o.precision+" float;\n";return t.shaderSource(i,a+e.fragmentShader),t.shaderSource(r,a+e.vertexShader),t.compileShader(i),t.compileShader(r),t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),n}var u,c,d,h,p,f,m,g;this.render=function(e,o,l,d){if(0!==e.length){var v=new s,y=d.w/d.z,_=.5*d.z,b=.5*d.w,w=16/d.w,M=new r(w*y,w),x=new s(1,1,0),S=new r(1,1),E=new Z;E.min.set(d.x,d.y),E.max.set(d.x+(d.z-16),d.y+(d.w-16)),void 0===h&&a(),n.useProgram(h),n.initAttributes(),n.enableAttribute(p.vertex),n.enableAttribute(p.uv),n.disableUnusedAttributes(),t.uniform1i(f.occlusionMap,0),t.uniform1i(f.map,1),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(p.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(p.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var T=0,C=e.length;T<C;T++){w=16/d.w,M.set(w*y,w);var L=e[T];if(v.set(L.matrixWorld.elements[12],L.matrixWorld.elements[13],L.matrixWorld.elements[14]),v.applyMatrix4(l.matrixWorldInverse),v.applyMatrix4(l.projectionMatrix),x.copy(v),S.x=d.x+x.x*_+_-8,S.y=d.y+x.y*b+b-8,!0===E.containsPoint(S)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,S.x,S.y,16,16,0),t.uniform1i(f.renderType,0),t.uniform2f(f.scale,M.x,M.y),t.uniform3f(f.screenPosition,x.x,x.y,x.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,g),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,S.x,S.y,16,16,0),t.uniform1i(f.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),L.positionScreen.copy(x),L.customUpdateCallback?L.customUpdateCallback(L):L.updateLensFlares(),t.uniform1i(f.renderType,2),n.enable(t.BLEND);for(var D=0,A=L.lensFlares.length;D<A;D++){var P=L.lensFlares[D];P.opacity>.001&&P.scale>.001&&(x.x=P.x,x.y=P.y,x.z=P.z,w=P.size*P.scale/d.w,M.x=w*y,M.y=w,t.uniform3f(f.screenPosition,x.x,x.y,x.z),t.uniform2f(f.scale,M.x,M.y),t.uniform1f(f.rotation,P.rotation),t.uniform1f(f.opacity,P.opacity),t.uniform3f(f.color,P.color.r,P.color.g,P.color.b),n.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst),i.setTexture2D(P.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function J(e,t,n,i,r,o,a,s,l){u.call(this,e,t,n,i,r,o,a,s,l),this.needsUpdate=!0}function $(e,t,n,i,r){function o(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),d=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),h=l(),p={position:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},f={uvOffset:t.getUniformLocation(h,"uvOffset"),uvScale:t.getUniformLocation(h,"uvScale"),rotation:t.getUniformLocation(h,"rotation"),scale:t.getUniformLocation(h,"scale"),color:t.getUniformLocation(h,"color"),map:t.getUniformLocation(h,"map"),opacity:t.getUniformLocation(h,"opacity"),modelViewMatrix:t.getUniformLocation(h,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(h,"projectionMatrix"),fogType:t.getUniformLocation(h,"fogType"),fogDensity:t.getUniformLocation(h,"fogDensity"),fogNear:t.getUniformLocation(h,"fogNear"),fogFar:t.getUniformLocation(h,"fogFar"),fogColor:t.getUniformLocation(h,"fogColor"),fogDepth:t.getUniformLocation(h,"fogDepth"),alphaTest:t.getUniformLocation(h,"alphaTest")};var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=8,i.height=8;var r=i.getContext("2d");r.fillStyle="white",r.fillRect(0,0,8,8),m=new J(i)}function l(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),t.shaderSource(i,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),t.compileShader(n),t.compileShader(i),t.attachShader(e,n),t.attachShader(e,i),t.linkProgram(e),e}function u(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var c,d,h,p,f,m,g=new s,v=new a,y=new s;this.render=function(r,a,s){if(0!==r.length){void 0===h&&o(),n.useProgram(h),n.initAttributes(),n.enableAttribute(p.position),n.enableAttribute(p.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(p.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(p.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),t.uniformMatrix4fv(f.projectionMatrix,!1,s.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(f.map,0);var l=0,_=0,b=a.fog;b?(t.uniform3f(f.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(t.uniform1f(f.fogNear,b.near),t.uniform1f(f.fogFar,b.far),t.uniform1i(f.fogType,1),l=1,_=1):b.isFogExp2&&(t.uniform1f(f.fogDensity,b.density),t.uniform1i(f.fogType,2),l=2,_=2)):(t.uniform1i(f.fogType,0),l=0,_=0);for(var w=0,M=r.length;w<M;w++){var x=r[w];x.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,x.matrixWorld),x.z=-x.modelViewMatrix.elements[14]}r.sort(u);for(var S=[],w=0,M=r.length;w<M;w++){var x=r[w],E=x.material;if(!1!==E.visible){x.onBeforeRender(e,a,s,void 0,E,void 0),t.uniform1f(f.alphaTest,E.alphaTest),t.uniformMatrix4fv(f.modelViewMatrix,!1,x.modelViewMatrix.elements),x.matrixWorld.decompose(g,v,y),S[0]=y.x,S[1]=y.y;var T=0;a.fog&&E.fog&&(T=_),l!==T&&(t.uniform1i(f.fogType,T),l=T),null!==E.map?(t.uniform2f(f.uvOffset,E.map.offset.x,E.map.offset.y),t.uniform2f(f.uvScale,E.map.repeat.x,E.map.repeat.y)):(t.uniform2f(f.uvOffset,0,0),t.uniform2f(f.uvScale,1,1)),t.uniform1f(f.opacity,E.opacity),t.uniform3f(f.color,E.color.r,E.color.g,E.color.b),t.uniform1f(f.rotation,E.rotation),t.uniform2fv(f.scale,S),n.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst,E.blendEquationAlpha,E.blendSrcAlpha,E.blendDstAlpha,E.premultipliedAlpha),n.buffers.depth.setTest(E.depthTest),n.buffers.depth.setMask(E.depthWrite),n.buffers.color.setMask(E.colorWrite),i.setTexture2D(E.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),x.onAfterRender(e,a,s,void 0,E,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function ee(){Object.defineProperty(this,"id",{value:Os++}),this.uuid=_s.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Po,this.side=So,this.flatShading=!1,this.vertexColors=Co,this.opacity=1,this.transparent=!1,this.blendSrc=Go,this.blendDst=Wo,this.blendEquation=No,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ta,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function te(e){ee.call(this),this.type="MeshDepthMaterial",this.depthPacking=vs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ne(e){ee.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function ie(e,t){this.min=void 0!==e?e:new s(1/0,1/0,1/0),this.max=void 0!==t?t:new s(-1/0,-1/0,-1/0)}function re(e,t){this.center=void 0!==e?e:new s,this.radius=void 0!==t?t:0}function oe(e,t){this.normal=void 0!==e?e:new s(1,0,0),this.constant=void 0!==t?t:0}function ae(e,t,n,i,r,o){this.planes=[void 0!==e?e:new oe,void 0!==t?t:new oe,void 0!==n?n:new oe,void 0!==i?i:new oe,void 0!==r?r:new oe,void 0!==o?o:new oe]}function se(e,t,n){function i(t,n,i,r,o,a){var s=t.geometry,l=null,u=_,c=t.customDepthMaterial;if(i&&(u=b,c=t.customDistanceMaterial),c)l=c;else{var d=!1;n.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var h=t.isSkinnedMesh&&n.skinning,p=0;d&&(p|=g),h&&(p|=v),l=u[p]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=l.uuid,m=n.uuid,y=w[f];void 0===y&&(y={},w[f]=y);var M=y[m];void 0===M&&(M=l.clone(),y[m]=M),l=M}l.visible=n.visible,l.wireframe=n.wireframe;var x=n.side;return A.renderSingleSided&&x==To&&(x=So),A.renderReverseSided&&(x===So?x=Eo:x===Eo&&(x=So)),l.side=x,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=o,l.farDistance=a),l}function a(n,r,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var u=t.update(n),c=n.material;if(Array.isArray(c))for(var d=u.groups,h=0,p=d.length;h<p;h++){var f=d[h],g=c[f.materialIndex];if(g&&g.visible){var v=i(n,g,s,m,o.near,o.far);e.renderBufferDirect(o,null,u,v,n,f)}}else if(c.visible){var v=i(n,c,s,m,o.near,o.far);e.renderBufferDirect(o,null,u,v,n,null)}}for(var y=n.children,_=0,b=y.length;_<b;_++)a(y[_],r,o,s)}}for(var l=new ae,u=new o,h=new r,p=new r(n,n),f=new s,m=new s,g=1,v=2,y=1+(g|v),_=new Array(y),b=new Array(y),w={},M=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],x=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],S=[new c,new c,new c,new c,new c,new c],E=0;E!==y;++E){var T=0!=(E&g),C=0!=(E&v),L=new te({depthPacking:ys,morphTargets:T,skinning:C});_[E]=L;var D=new ne({morphTargets:T,skinning:C});b[E]=D}var A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mo,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,i){if(!1!==A.enabled&&(!1!==A.autoUpdate||!1!==A.needsUpdate)&&0!==t.length){var r=e.context,o=e.state;o.disable(r.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s,c=0,g=t.length;c<g;c++){var v=t[c],y=v.shadow,_=v&&v.isPointLight;if(void 0!==y){var b=y.camera;if(h.copy(y.mapSize),h.min(p),_){var w=h.x,E=h.y;S[0].set(2*w,E,w,E),S[1].set(0,E,w,E),S[2].set(3*w,E,w,E),S[3].set(w,E,w,E),S[4].set(3*w,0,w,E),S[5].set(w,0,w,E),h.x*=4,h.y*=2}if(null===y.map){var T={minFilter:Sa,magFilter:Sa,format:Va};y.map=new d(h.x,h.y,T),y.map.texture.name=v.name+".shadowMap",b.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var C=y.map,L=y.matrix;m.setFromMatrixPosition(v.matrixWorld),b.position.copy(m),_?(s=6,L.makeTranslation(-m.x,-m.y,-m.z)):(s=1,f.setFromMatrixPosition(v.target.matrixWorld),b.lookAt(f),b.updateMatrixWorld(),L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),L.multiply(b.projectionMatrix),L.multiply(b.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var D=0;D<s;D++){if(_){f.copy(b.position),f.add(M[D]),b.up.copy(x[D]),b.lookAt(f),b.updateMatrixWorld();var P=S[D];o.viewport(P)}u.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),l.setFromMatrix(u),a(n,i,b,_)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}A.needsUpdate=!1}}}function le(e){function t(t,n){var i=t.array,r=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,i,r),t.onUploadCallback();var a=e.FLOAT;return i instanceof Float32Array?a=e.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=e.UNSIGNED_SHORT:i instanceof Int16Array?a=e.SHORT:i instanceof Uint32Array?a=e.UNSIGNED_INT:i instanceof Int32Array?a=e.INT:i instanceof Int8Array?a=e.BYTE:i instanceof Uint8Array&&(a=e.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,i){var r=n.array,o=n.updateRange;e.bindBuffer(i,t),!1===n.dynamic?e.bufferData(i,r,e.STATIC_DRAW):-1===o.count?e.bufferSubData(i,0,r):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r.subarray(o.offset,o.offset+o.count)),o.count=-1)}function i(e){return e.isInterleavedBufferAttribute&&(e=e.data),a[e.uuid]}function r(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=a[t.uuid];n&&(e.deleteBuffer(n.buffer),delete a[t.uuid])}function o(e,i){e.isInterleavedBufferAttribute&&(e=e.data);var r=a[e.uuid];void 0===r?a[e.uuid]=t(e,i):r.version<e.version&&(n(r.buffer,e,i),r.version=e.version)}var a={};return{get:i,remove:r,update:o}}function ue(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||ue.DefaultOrder}function ce(){this.mask=1}function de(){function e(){r.setFromEuler(i,!1)}function t(){i.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,"id",{value:Is++}),this.uuid=_s.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=de.DefaultUp.clone();var n=new s,i=new ue,r=new a,u=new s(1,1,1);i.onChange(e),r.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:i},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:u},modelViewMatrix:{value:new o},normalMatrix:{value:new l}}),this.matrix=new o,this.matrixWorld=new o,this.matrixAutoUpdate=de.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ce,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function he(){de.call(this),this.type="Camera",this.matrixWorldInverse=new o,this.projectionMatrix=new o}function pe(e,t,n,i,r,o){he.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function fe(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new s,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Q,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}function me(){Object.defineProperty(this,"id",{value:Rs+=2}),this.uuid=_s.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ge(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=_s.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ve(e,t,n){ge.call(this,new Int8Array(e),t,n)}function ye(e,t,n){ge.call(this,new Uint8Array(e),t,n)}function _e(e,t,n){ge.call(this,new Uint8ClampedArray(e),t,n)}function be(e,t,n){ge.call(this,new Int16Array(e),t,n)}function we(e,t,n){ge.call(this,new Uint16Array(e),t,n)}function Me(e,t,n){ge.call(this,new Int32Array(e),t,n)}function xe(e,t,n){ge.call(this,new Uint32Array(e),t,n)}function Se(e,t,n){ge.call(this,new Float32Array(e),t,n)}function Ee(e,t,n){ge.call(this,new Float64Array(e),t,n)}function Te(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ce(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function Le(){Object.defineProperty(this,"id",{value:Ns+=2}),this.uuid=_s.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function De(e,t,n,i,r,o){me.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new Ae(e,t,n,i,r,o)),this.mergeVertices()}function Ae(e,t,n,i,r,o){function a(e,t,n,i,r,o,a,m,g,v,y){var _,b,w=o/g,M=a/v,x=o/2,S=a/2,E=m/2,T=g+1,C=v+1,L=0,D=0,A=new s;for(b=0;b<C;b++){var P=b*M-S;for(_=0;_<T;_++){var k=_*w-x;A[e]=k*i,A[t]=P*r,A[n]=E,c.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=m>0?1:-1,d.push(A.x,A.y,A.z),h.push(_/g),h.push(1-b/v),L+=1}}for(b=0;b<v;b++)for(_=0;_<g;_++){var O=p+_+T*b,I=p+_+T*(b+1),R=p+(_+1)+T*(b+1),N=p+(_+1)+T*b;u.push(O,I,N),u.push(I,R,N),D+=6}l.addGroup(f,D,y),f+=D,p+=L}Le.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var l=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var u=[],c=[],d=[],h=[],p=0,f=0;a("z","y","x",-1,-1,n,t,e,o,r,0),a("z","y","x",1,-1,n,t,-e,o,r,1),a("x","z","y",1,1,e,n,t,i,o,2),a("x","z","y",1,-1,e,n,-t,i,o,3),a("x","y","z",1,-1,e,t,n,i,r,4),a("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(u),this.addAttribute("position",new Se(c,3)),this.addAttribute("normal",new Se(d,3)),this.addAttribute("uv",new Se(h,2))}function Pe(e,t,n,i){me.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new ke(e,t,n,i)),this.mergeVertices()}function ke(e,t,n,i){Le.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;var r,o,a=e/2,s=t/2,l=Math.floor(n)||1,u=Math.floor(i)||1,c=l+1,d=u+1,h=e/l,p=t/u,f=[],m=[],g=[],v=[];for(o=0;o<d;o++){var y=o*p-s;for(r=0;r<c;r++){var _=r*h-a;m.push(_,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-o/u)}}for(o=0;o<u;o++)for(r=0;r<l;r++){var b=r+c*o,w=r+c*(o+1),M=r+1+c*(o+1),x=r+1+c*o;f.push(b,w,x),f.push(w,M,x)}this.setIndex(f),this.addAttribute("position",new Se(m,3)),this.addAttribute("normal",new Se(g,3)),this.addAttribute("uv",new Se(v,2))}function Oe(e){ee.call(this),this.type="MeshBasicMaterial",this.color=new Q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=aa,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ie(e){ee.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Re(e,t){this.origin=void 0!==e?e:new s,this.direction=void 0!==t?t:new s}function Ne(e,t){this.start=void 0!==e?e:new s,this.end=void 0!==t?t:new s}function Be(e,t,n){this.a=void 0!==e?e:new s,this.b=void 0!==t?t:new s,this.c=void 0!==n?n:new s}function je(e,t){de.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new Oe({color:16777215*Math.random()}),this.drawMode=ss,this.updateMorphTargets()}function Fe(e,t,n,i){function r(t,i,r,d){var h=i.background;null===h?o(u,c):h&&h.isColor&&(o(h,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&h.isCubeTexture?(void 0===l&&(l=new je(new Ae(1,1,1),new Ie({uniforms:ks.cube.uniforms,vertexShader:ks.cube.vertexShader,fragmentShader:ks.cube.fragmentShader,side:Eo,depthTest:!0,depthWrite:!1,fog:!1})),l.geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(l.geometry)),l.material.uniforms.tCube.value=h,t.push(l,l.geometry,l.material,0,null)):h&&h.isTexture&&(void 0===a&&(a=new pe(-1,1,1,-1,0,1),s=new je(new ke(2,2),new Oe({depthTest:!1,depthWrite:!1,fog:!1})),n.update(s.geometry)),s.material.map=h,e.renderBufferDirect(a,null,s.geometry,s.material,s,null))}function o(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}var a,s,l,u=new Q(0),c=0;return{getClearColor:function(){return u},setClearColor:function(e,t){u.set(e),c=void 0!==t?t:1,o(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,o(u,c)},render:r}}function Ye(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ze(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ue(){function e(){r=0,o.length=0,a.length=0}function t(e,t,n,s,l){var u=i[r];void 0===u?(u={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:s,group:l},i[r]=u):(u.id=e.id,u.object=e,u.geometry=t,u.material=n,u.program=n.program,u.renderOrder=e.renderOrder,u.z=s,u.group=l),(!0===n.transparent?a:o).push(u),r++}function n(){o.length>1&&o.sort(Ye),a.length>1&&a.sort(ze)}var i=[],r=0,o=[],a=[];return{opaque:o,transparent:a,init:e,push:t,sort:n}}function He(){function e(e,t){var i=e.id+","+t.id,r=n[i];return void 0===r&&(r=new Ue,n[i]=r),r}function t(){n={}}var n={};return{get:e,dispose:t}}function Ve(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ge(e){function t(t,r,o,a){var s=t.morphTargetInfluences,l=s.length,u=n[r.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];n[r.id]=u}for(var d=o.morphTargets&&r.morphAttributes.position,h=o.morphNormals&&r.morphAttributes.normal,c=0;c<l;c++){var p=u[c];0!==p[1]&&(d&&r.removeAttribute("morphTarget"+c),h&&r.removeAttribute("morphNormal"+c))}for(var c=0;c<l;c++){var p=u[c];p[0]=c,p[1]=s[c]}u.sort(Ve);for(var c=0;c<8;c++){var p=u[c];if(p){var f=p[0],m=p[1];if(m){d&&r.addAttribute("morphTarget"+c,d[f]),h&&r.addAttribute("morphNormal"+c,h[f]),i[c]=m;continue}}i[c]=0}a.getUniforms().setValue(e,"morphTargetInfluences",i)}var n={},i=new Float32Array(8);return{update:t}}function We(e,t,n){function i(e){s=e}function r(e){l=e.type,u=e.bytesPerElement}function o(t,i){e.drawElements(s,i,l,t*u),n.calls++,n.vertices+=i,s===e.TRIANGLES?n.faces+=i/3:s===e.POINTS&&(n.points+=i)}function a(i,r,o){var a=t.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,l,r*u,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,s===e.TRIANGLES?n.faces+=i.maxInstancedCount*o/3:s===e.POINTS&&(n.points+=i.maxInstancedCount*o)}var s,l,u;this.setMode=i,this.setIndex=r,this.render=o,this.renderInstances=a}function Xe(e,t,n){function i(e){a=e}function r(t,i){e.drawArrays(a,t,i),n.calls++,n.vertices+=i,a===e.TRIANGLES?n.faces+=i/3:a===e.POINTS&&(n.points+=i)}function o(i,r,o){var s=t.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var l=i.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,s.drawArraysInstancedANGLE(a,0,o,i.maxInstancedCount)):s.drawArraysInstancedANGLE(a,r,o,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,a===e.TRIANGLES?n.faces+=i.maxInstancedCount*o/3:a===e.POINTS&&(n.points+=i.maxInstancedCount*o)}var a;this.setMode=i,this.render=r,this.renderInstances=o}function qe(e,t,n){function i(e){var r=e.target,o=s[r.id];null!==o.index&&t.remove(o.index);for(var a in o.attributes)t.remove(o.attributes[a]);r.removeEventListener("dispose",i),delete s[r.id];var u=l[r.id];u&&(t.remove(u),delete l[r.id]),u=l[o.id],u&&(t.remove(u),delete l[o.id]),n.geometries--}function r(e,t){var r=s[t.id];return r||(t.addEventListener("dispose",i),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Le).setFromObject(e)),r=t._bufferGeometry),s[t.id]=r,n.geometries++,r)}function o(n){var i=n.index,r=n.attributes;null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER);for(var o in r)t.update(r[o],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)}function a(n){var i=l[n.id];if(i)return i;var r=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,u=0,c=s.length;u<c;u+=3){var d=s[u+0],h=s[u+1],p=s[u+2];r.push(d,h,h,p,p,d)}else for(var s=a.position.array,u=0,c=s.length/3-1;u<c;u+=3){var d=u+0,h=u+1,p=u+2;r.push(d,h,h,p,p,d)}return i=new(Ce(r)>65535?xe:we)(r,1),t.update(i,e.ELEMENT_ARRAY_BUFFER),l[n.id]=i,i}var s={},l={};return{get:r,update:o,getWireframeAttribute:a}}function Qe(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new s,color:new Q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new s,direction:new s,color:new Q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new s,color:new Q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new s,skyColor:new Q,groundColor:new Q};break;case"RectAreaLight":n={color:new Q,position:new s,halfWidth:new s,halfHeight:new s}}return e[t.id]=n,n}}}function Ze(){function e(e,o,s){for(var l=0,u=0,c=0,d=0,h=0,p=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=e.length;v<y;v++){var _=e[v],b=_.color,w=_.intensity,M=_.distance,x=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=b.r*w,u+=b.g*w,c+=b.b*w;else if(_.isDirectionalLight){var S=t.get(_);if(S.color.copy(_.color).multiplyScalar(_.intensity),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(g),S.shadow=_.castShadow,_.castShadow){var E=_.shadow;S.shadowBias=E.bias,S.shadowRadius=E.radius,S.shadowMapSize=E.mapSize}n.directionalShadowMap[d]=x,n.directionalShadowMatrix[d]=_.shadow.matrix,n.directional[d]=S,d++}else if(_.isSpotLight){var S=t.get(_);if(S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(g),S.color.copy(b).multiplyScalar(w),S.distance=M,S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(g),S.coneCos=Math.cos(_.angle),S.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),S.decay=0===_.distance?0:_.decay,S.shadow=_.castShadow,_.castShadow){var E=_.shadow;S.shadowBias=E.bias,S.shadowRadius=E.radius,S.shadowMapSize=E.mapSize}n.spotShadowMap[p]=x,n.spotShadowMatrix[p]=_.shadow.matrix,n.spot[p]=S,p++}else if(_.isRectAreaLight){var S=t.get(_);S.color.copy(b).multiplyScalar(w/(_.width*_.height)),S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(g),a.identity(),r.copy(_.matrixWorld),r.premultiply(g),a.extractRotation(r),S.halfWidth.set(.5*_.width,0,0),S.halfHeight.set(0,.5*_.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),n.rectArea[f]=S,f++}else if(_.isPointLight){var S=t.get(_);if(S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(g),S.color.copy(_.color).multiplyScalar(_.intensity),S.distance=_.distance,S.decay=0===_.distance?0:_.decay,S.shadow=_.castShadow,_.castShadow){var E=_.shadow;S.shadowBias=E.bias,S.shadowRadius=E.radius,S.shadowMapSize=E.mapSize,S.shadowCameraNear=E.camera.near,S.shadowCameraFar=E.camera.far}n.pointShadowMap[h]=x,n.pointShadowMatrix[h]=_.shadow.matrix,n.point[h]=S,h++}else if(_.isHemisphereLight){var S=t.get(_);S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),S.skyColor.copy(_.color).multiplyScalar(w),S.groundColor.copy(_.groundColor).multiplyScalar(w),n.hemi[m]=S,m++}}n.ambient[0]=l,n.ambient[1]=u,n.ambient[2]=c,n.directional.length=d,n.spot.length=p,n.rectArea.length=f,n.point.length=h,n.hemi.length=m,n.hash=d+","+h+","+p+","+f+","+m+","+o.length}var t=new Qe,n={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new s,r=new o,a=new o;return{setup:e,state:n}}function Ke(e,t){function n(n){var i=t.frame,o=n.geometry,a=e.get(n,o);return r[a.id]!==i&&(o.isGeometry&&a.updateFromObject(n),e.update(a),r[a.id]=i),a}function i(){r={}}var r={};return{update:n,clear:i}}function Je(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function $e(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),Je(n)),i}function et(e){switch(e){case cs:return["Linear","( value )"];case ds:return["sRGB","( value )"];case ps:return["RGBE","( value )"];case fs:return["RGBM","( value, 7.0 )"];case ms:return["RGBM","( value, 16.0 )"];case gs:return["RGBD","( value, 256.0 )"];case hs:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function tt(e,t){var n=et(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nt(e,t){var n=et(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function it(e,t){var n;switch(t){case ca:n="Linear";break;case da:n="Reinhard";break;case ha:n="Uncharted2";break;case pa:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function rt(e,t,n){return e=e||{},[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(st).join("\n")}function ot(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}function at(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=e.getActiveAttrib(t,r),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}function st(e){return""!==e}function lt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ut(e){function t(e,t){var n=Ps[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ut(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(n,t)}function ct(e){function t(e,t,n,i){for(var r="",o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]");return r}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(n,t)}function dt(e,t,n,i,r,o){var a=e.context,s=i.defines,l=r.vertexShader,u=r.fragmentShader,c="SHADOWMAP_TYPE_BASIC";o.shadowMapType===Mo?c="SHADOWMAP_TYPE_PCF":o.shadowMapType===xo&&(c="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case fa:case ma:d="ENVMAP_TYPE_CUBE";break;case _a:case ba:d="ENVMAP_TYPE_CUBE_UV";break;case ga:case va:d="ENVMAP_TYPE_EQUIREC";break;case ya:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ma:case va:h="ENVMAP_MODE_REFRACTION"}switch(i.combine){case aa:p="ENVMAP_BLENDING_MULTIPLY";break;case sa:p="ENVMAP_BLENDING_MIX";break;case la:p="ENVMAP_BLENDING_ADD"}}var f,m,g=e.gammaFactor>0?e.gammaFactor:1,v=rt(i.extensions,o,t),y=ot(s),_=a.createProgram();i.isRawShaderMaterial?(f=[y].filter(st).join("\n"),f.length>0&&(f+="\n"),m=[v,y].filter(st).join("\n"),m.length>0&&(m+="\n")):(f=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,y,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+c:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(st).join("\n"),m=[v,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.envMap?"#define "+h:"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+c:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==ua?"#define TONE_MAPPING":"",o.toneMapping!==ua?Ps.tonemapping_pars_fragment:"",o.toneMapping!==ua?it("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Ps.encodings_pars_fragment:"",o.mapEncoding?tt("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?tt("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?tt("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?nt("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(st).join("\n")),l=ut(l),l=lt(l,o),u=ut(u),u=lt(u,o),i.isShaderMaterial||(l=ct(l),u=ct(u));var b=f+l,w=m+u,M=$e(a,a.VERTEX_SHADER,b),x=$e(a,a.FRAGMENT_SHADER,w);a.attachShader(_,M),a.attachShader(_,x),void 0!==i.index0AttributeName?a.bindAttribLocation(_,0,i.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(_,0,"position"),a.linkProgram(_);var S=a.getProgramInfoLog(_),E=a.getShaderInfoLog(M),T=a.getShaderInfoLog(x),C=!0,L=!0;!1===a.getProgramParameter(_,a.LINK_STATUS)?(C=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(_,a.VALIDATE_STATUS),"gl.getProgramInfoLog",S,E,T)):""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):""!==E&&""!==T||(L=!1),L&&(this.diagnostics={runnable:C,material:i,programLog:S,vertexShader:{log:E,prefix:f},fragmentShader:{log:T,prefix:m}}),a.deleteShader(M),a.deleteShader(x);var D;this.getUniforms=function(){return void 0===D&&(D=new q(a,_,e)),D};var A;return this.getAttributes=function(){return void 0===A&&(A=at(a,_)),A},this.destroy=function(){a.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Bs++,this.code=n,this.usedTimes=1,this.program=_,this.vertexShader=M,this.fragmentShader=x,this}function ht(e,t,n){function i(e){var t=e.skeleton,i=t.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,o=Math.floor((r-20)/4),a=Math.min(o,i.length);return a<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+a+"."),0):a}function r(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=cs,n===cs&&t&&(n=hs),n}var o=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,o,s,l,u,c,d){var h=a[t.type],p=d.isSkinnedMesh?i(d):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead.");var m=e.getRenderTarget();return{shaderID:h,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:r(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:r(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===_a||t.envMap.mapping===ba),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:r(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!l,useFog:t.fog,fogExp:l&&l.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&p>0,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.receiveShadow&&s.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===To,flipSided:t.side===Eo,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var o=0;o<s.length;o++)i.push(n[s[o]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.join()},this.acquireProgram=function(n,i,r,a){for(var s,l=0,u=o.length;l<u;l++){var c=o[l];if(c.code===a){s=c,++s.usedTimes;break}}return void 0===s&&(s=new dt(e,t,a,n,i,r),o.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}function pt(e,t,n,i,r,o,a){function s(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function l(e){return _s.isPowerOfTwo(e.width)&&_s.isPowerOfTwo(e.height)}function u(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=_s.floorPowerOfTwo(e.width),t.height=_s.floorPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function c(e){return e.wrapS!==Ma||e.wrapT!==Ma||e.minFilter!==Sa&&e.minFilter!==Ca}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==Sa&&e.minFilter!==Ca}function h(t){return t===Sa||t===Ea||t===Ta?e.NEAREST:e.LINEAR}function p(e){var t=e.target;t.removeEventListener("dispose",p),m(t),a.textures--}function f(e){var t=e.target;t.removeEventListener("dispose",f),g(t),a.textures--}function m(t){var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}i.remove(t)}function g(t){var n=i.get(t),r=i.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}}function v(t,r){var o=i.get(t);if(t.version>0&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==a.complete)return void w(o,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function y(t,u){var c=i.get(t);if(6===t.image.length)if(t.version>0&&c.__version!==t.version){c.__image__webglTextureCube||(t.addEventListener("dispose",p),c.__image__webglTextureCube=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var h=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,m=[],g=0;g<6;g++)m[g]=h||f?f?t.image[g].image:t.image[g]:s(t.image[g],r.maxCubemapSize);var v=m[0],y=l(v),_=o.convert(t.format),w=o.convert(t.type);b(e.TEXTURE_CUBE_MAP,t,y);for(var g=0;g<6;g++)if(h)for(var M,x=m[g].mipmaps,S=0,E=x.length;S<E;S++)M=x[S],t.format!==Va&&t.format!==Ha?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,S,_,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,S,_,M.width,M.height,0,_,w,M.data);else f?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,_,m[g].width,m[g].height,0,_,w,m[g].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,_,_,w,m[g]);d(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function _(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)}function b(n,a,s){var l;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o.convert(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o.convert(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a.wrapS===Ma&&a.wrapT===Ma||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,h(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==Sa&&a.minFilter!==Ca&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),l=t.get("EXT_texture_filter_anisotropic")){if(a.type===Na&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ba&&null===t.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function w(t,i,h){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",p),t.__webglTexture=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+h),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var f=s(i.image,r.maxTextureSize);c(i)&&!1===l(f)&&(f=u(f));var m=l(f),g=o.convert(i.format),v=o.convert(i.type);b(e.TEXTURE_2D,i,m);var y,_=i.mipmaps;if(i.isDepthTexture){var w=e.DEPTH_COMPONENT;if(i.type===Na){if(!L)throw new Error("Float Depth Texture only supported in WebGL2.0");w=e.DEPTH_COMPONENT32F}else L&&(w=e.DEPTH_COMPONENT16);i.format===qa&&w===e.DEPTH_COMPONENT&&i.type!==Oa&&i.type!==Ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Oa,v=o.convert(i.type)),i.format===Qa&&(w=e.DEPTH_STENCIL,i.type!==za&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=za,v=o.convert(i.type))),n.texImage2D(e.TEXTURE_2D,0,w,f.width,f.height,0,g,v,null)}else if(i.isDataTexture)if(_.length>0&&m){for(var M=0,x=_.length;M<x;M++)y=_[M],n.texImage2D(e.TEXTURE_2D,M,g,y.width,y.height,0,g,v,y.data);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,f.width,f.height,0,g,v,f.data);else if(i.isCompressedTexture)for(var M=0,x=_.length;M<x;M++)y=_[M],i.format!==Va&&i.format!==Ha?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(e.TEXTURE_2D,M,g,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,M,g,y.width,y.height,0,g,v,y.data);else if(_.length>0&&m){for(var M=0,x=_.length;M<x;M++)y=_[M],n.texImage2D(e.TEXTURE_2D,M,g,g,v,y);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,g,v,f);d(i,m)&&e.generateMipmap(e.TEXTURE_2D),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function M(t,r,a,s){var l=o.convert(r.texture.format),u=o.convert(r.texture.type);n.texImage2D(s,0,l,r.width,r.height,0,l,u,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function x(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function S(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===qa)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==Qa)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}function E(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");S(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),x(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),x(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function T(t){var r=i.get(t),o=i.get(t.texture);t.addEventListener("dispose",f),o.__webglTexture=e.createTexture(),a.textures++;var s=!0===t.isWebGLRenderTargetCube,u=l(t);if(s){r.__webglFramebuffer=[];for(var c=0;c<6;c++)r.__webglFramebuffer[c]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(s){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),b(e.TEXTURE_CUBE_MAP,t.texture,u);for(var c=0;c<6;c++)M(r.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);d(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),b(e.TEXTURE_2D,t.texture,u),M(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),d(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&E(t)}function C(t){var r=t.texture;if(d(r,l(t))){var o=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=i.get(r).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}var L="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=y,this.setTextureCubeDynamic=_,this.setupRenderTarget=T,this.updateRenderTargetMipmap=C}function ft(){function e(e){var t=e.uuid,n=i[t];return void 0===n&&(n={},i[t]=n),n}function t(e){delete i[e.uuid]}function n(){i={}}var i={};return{get:e,remove:t,clear:n}}function mt(e,t,n){function i(){var t=!1,n=new c,i=null,r=new c(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,a,s){!0===s&&(t*=a,i*=a,o*=a),n.set(t,i,o,a),!1===r.equals(n)&&(e.clearColor(t,i,o,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}}function r(){var t=!1,n=null,i=null,r=null;return{setTest:function(t){t?h(e.DEPTH_TEST):p(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case Jo:e.depthFunc(e.NEVER);break;case $o:e.depthFunc(e.ALWAYS);break;case ea:e.depthFunc(e.LESS);break;case ta:e.depthFunc(e.LEQUAL);break;case na:e.depthFunc(e.EQUAL);break;case ia:e.depthFunc(e.GEQUAL);break;case ra:e.depthFunc(e.GREATER);break;case oa:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}}function o(){var t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(t){t?h(e.STENCIL_TEST):p(e.STENCIL_TEST)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&o===a||(e.stencilFunc(t,n,a),i=t,r=n,o=a)},setOp:function(t,n,i){a===t&&s===n&&l===i||(e.stencilOp(t,n,i),a=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,u=null}}}function a(t,n,i){var r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<i;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return o}function s(){for(var e=0,t=I.length;e<t;e++)I[e]=0}function l(n){I[n]=1,0===R[n]&&(e.enableVertexAttribArray(n),R[n]=1),0!==N[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),N[n]=0)}function u(n,i){I[n]=1,0===R[n]&&(e.enableVertexAttribArray(n),R[n]=1),N[n]!==i&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,i),N[n]=i)}function d(){for(var t=0,n=R.length;t!==n;++t)R[t]!==I[t]&&(e.disableVertexAttribArray(t),R[t]=0)}function h(t){!0!==B[t]&&(e.enable(t),B[t]=!0)}function p(t){!1!==B[t]&&(e.disable(t),B[t]=!1)}function f(){if(null===j&&(j=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)j.push(n[i]);return j}function m(t){return F!==t&&(e.useProgram(t),F=t,!0)}function g(t,i,r,o,a,s,l,u){if(t!==Ao?h(e.BLEND):p(e.BLEND),t!==Ro){if(t!==Y||u!==X)switch(t){case ko:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case Oo:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Io:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}z=null,U=null,H=null,V=null,G=null,W=null}else a=a||i,s=s||r,l=l||o,i===z&&a===V||(e.blendEquationSeparate(n.convert(i),n.convert(a)),z=i,V=a),r===U&&o===H&&s===G&&l===W||(e.blendFuncSeparate(n.convert(r),n.convert(o),n.convert(s),n.convert(l)),U=r,H=o,G=s,W=l);Y=t,X=u}function v(t){t.side===To?p(e.CULL_FACE):h(e.CULL_FACE),y(t.side===Eo),!0===t.transparent?g(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):g(Ao),P.setFunc(t.depthFunc),P.setTest(t.depthTest),P.setMask(t.depthWrite),A.setMask(t.colorWrite),w(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function y(t){q!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),q=t)}function _(t){t!==yo?(h(e.CULL_FACE),t!==Q&&(t===_o?e.cullFace(e.BACK):t===bo?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):p(e.CULL_FACE),Q=t}function b(t){t!==Z&&(te&&e.lineWidth(t),Z=t)}function w(t,n,i){t?(h(e.POLYGON_OFFSET_FILL),K===n&&J===i||(e.polygonOffset(n,i),K=n,J=i)):p(e.POLYGON_OFFSET_FILL)}function M(t){t?h(e.SCISSOR_TEST):p(e.SCISSOR_TEST)}function x(t){void 0===t&&(t=e.TEXTURE0+$-1),ne!==t&&(e.activeTexture(t),ne=t)}function S(t,n){null===ne&&x();var i=ie[ne];void 0===i&&(i={type:void 0,texture:void 0},ie[ne]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||ae[t]),i.type=t,i.texture=n)}function E(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function T(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function C(t){!1===re.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),re.copy(t))}function L(t){!1===oe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),oe.copy(t))}function D(){for(var t=0;t<R.length;t++)1===R[t]&&(e.disableVertexAttribArray(t),R[t]=0);B={},j=null,ne=null,ie={},F=null,Y=null,q=null,Q=null,A.reset(),P.reset(),k.reset()}var A=new i,P=new r,k=new o,O=e.getParameter(e.MAX_VERTEX_ATTRIBS),I=new Uint8Array(O),R=new Uint8Array(O),N=new Uint8Array(O),B={},j=null,F=null,Y=null,z=null,U=null,H=null,V=null,G=null,W=null,X=!1,q=null,Q=null,Z=null,K=null,J=null,$=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ee=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),te=parseFloat(ee)>=1,ne=null,ie={},re=new c,oe=new c,ae={};return ae[e.TEXTURE_2D]=a(e.TEXTURE_2D,e.TEXTURE_2D,1),ae[e.TEXTURE_CUBE_MAP]=a(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),A.setClear(0,0,0,1),P.setClear(1),k.setClear(0),h(e.DEPTH_TEST),P.setFunc(ta),y(!1),_(_o),h(e.CULL_FACE),h(e.BLEND),g(Po),{buffers:{color:A,depth:P,stencil:k},initAttributes:s,enableAttribute:l,enableAttributeAndDivisor:u,disableUnusedAttributes:d,enable:h,disable:p,getCompressedTextureFormats:f,useProgram:m,setBlending:g,setMaterial:v,setFlipSided:y,setCullFace:_,setLineWidth:b,setPolygonOffset:w,setScissorTest:M,activeTexture:x,bindTexture:S,compressedTexImage2D:E,texImage2D:T,scissor:C,viewport:L,reset:D}}function gt(e,t,n){function i(){if(void 0!==o)return o;var n=t.get("EXT_texture_filter_anisotropic");return o=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),f=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=c>0,y=!!t.get("OES_texture_float");return{getMaxAnisotropy:i,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function vt(e,t,n,i){he.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function yt(e){vt.call(this),this.cameras=e||[]}function _t(e){function t(){if(null!==i&&i.isPresenting){var t=i.getEyeParameters("left"),r=t.renderWidth,o=t.renderHeight;f=e.getPixelRatio(),p=e.getSize(),e.setDrawingBufferSize(2*r,o,1)}else n.enabled&&e.setDrawingBufferSize(p.width,p.height,f)}var n=this,i=null,r=null;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData);var a=new o,s=new o,l=new o,u=new vt;u.bounds=new c(0,0,.5,1),u.layers.enable(1);var d=new vt;d.bounds=new c(.5,0,.5,1),d.layers.enable(2);var h=new yt([u,d]);h.layers.enable(1),h.layers.enable(2);var p,f;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){if(null===i)return e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r);var t=r.pose;null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var n=i.stageParameters;if(this.standing&&n&&(s.fromArray(n.sittingToStandingTransform),l.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(l)),!1===i.isPresenting)return e;u.near=e.near,d.near=e.near,u.far=e.far,d.far=e.far,h.matrixWorld.copy(e.matrixWorld),h.matrixWorldInverse.copy(e.matrixWorldInverse),u.matrixWorldInverse.fromArray(r.leftViewMatrix),d.matrixWorldInverse.fromArray(r.rightViewMatrix),this.standing&&n&&(u.matrixWorldInverse.multiply(l),d.matrixWorldInverse.multiply(l));var o=e.parent;null!==o&&(a.getInverse(o.matrixWorld),u.matrixWorldInverse.multiply(a),d.matrixWorldInverse.multiply(a)),u.matrixWorld.getInverse(u.matrixWorldInverse),d.matrixWorld.getInverse(d.matrixWorldInverse),u.projectionMatrix.fromArray(r.leftProjectionMatrix),d.projectionMatrix.fromArray(r.rightProjectionMatrix),h.projectionMatrix.copy(u.projectionMatrix);var c=i.getLayers();if(c.length){var p=c[0];null!==p.leftBounds&&4===p.leftBounds.length&&u.bounds.fromArray(p.leftBounds),null!==p.rightBounds&&4===p.rightBounds.length&&d.bounds.fromArray(p.rightBounds)}return h},this.getStandingMatrix=function(){return s},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function bt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function wt(){function e(){c.value!==i&&(c.value=i,c.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function t(e,t,i,r){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=c.value,!0!==r||null===a){var l=i+4*o,d=t.matrixWorldInverse;u.getNormalMatrix(d),(null===a||a.length<l)&&(a=new Float32Array(l));for(var h=0,p=i;h!==o;++h,p+=4)s.copy(e[h]).applyMatrix4(d,u),s.normal.toArray(a,p),a[p+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,i=null,r=0,o=!1,a=!1,s=new oe,u=new l,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==r||o;return o=n,i=t(e,a,0),r=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,l,u,d,h){if(!o||null===n||0===n.length||a&&!l)a?t(null):e();else{var p=a?0:r,f=4*p,m=d.clippingState||null;c.value=m,m=t(n,u,f,h);for(var g=0;g!==f;++g)m[g]=i[g];d.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function Mt(e,t){function n(n){var i;if(n===wa)return e.REPEAT;if(n===Ma)return e.CLAMP_TO_EDGE;if(n===xa)return e.MIRRORED_REPEAT;if(n===Sa)return e.NEAREST;if(n===Ea)return e.NEAREST_MIPMAP_NEAREST;if(n===Ta)return e.NEAREST_MIPMAP_LINEAR;if(n===Ca)return e.LINEAR;if(n===La)return e.LINEAR_MIPMAP_NEAREST;if(n===Da)return e.LINEAR_MIPMAP_LINEAR;if(n===Aa)return e.UNSIGNED_BYTE;if(n===ja)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Fa)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Ya)return e.UNSIGNED_SHORT_5_6_5;if(n===Pa)return e.BYTE;if(n===ka)return e.SHORT;if(n===Oa)return e.UNSIGNED_SHORT;if(n===Ia)return e.INT;if(n===Ra)return e.UNSIGNED_INT;if(n===Na)return e.FLOAT;if(n===Ba&&null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES;if(n===Ua)return e.ALPHA;if(n===Ha)return e.RGB;if(n===Va)return e.RGBA;if(n===Ga)return e.LUMINANCE;if(n===Wa)return e.LUMINANCE_ALPHA;if(n===qa)return e.DEPTH_COMPONENT;if(n===Qa)return e.DEPTH_STENCIL;if(n===No)return e.FUNC_ADD;if(n===Bo)return e.FUNC_SUBTRACT;if(n===jo)return e.FUNC_REVERSE_SUBTRACT;if(n===zo)return e.ZERO;if(n===Uo)return e.ONE;if(n===Ho)return e.SRC_COLOR;if(n===Vo)return e.ONE_MINUS_SRC_COLOR;if(n===Go)return e.SRC_ALPHA;if(n===Wo)return e.ONE_MINUS_SRC_ALPHA;if(n===Xo)return e.DST_ALPHA;if(n===qo)return e.ONE_MINUS_DST_ALPHA;if(n===Qo)return e.DST_COLOR;if(n===Zo)return e.ONE_MINUS_DST_COLOR;if(n===Ko)return e.SRC_ALPHA_SATURATE;if((n===Za||n===Ka||n===Ja||n===$a)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(n===Za)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ka)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ja)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===$a)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===es||n===ts||n===ns||n===is)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===es)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ts)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ns)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===is)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===rs&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===Fo||n===Yo)&&null!==(i=t.get("EXT_blend_minmax"))){if(n===Fo)return i.MIN_EXT;if(n===Yo)return i.MAX_EXT}return n===za&&null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:0}return{convert:n}}function xt(e){function t(){return null===ee?me:1}function n(){De=new bt(Ce),De.get("WEBGL_depth_texture"),De.get("OES_texture_float"),De.get("OES_texture_float_linear"),De.get("OES_texture_half_float"),De.get("OES_texture_half_float_linear"),De.get("OES_standard_derivatives"),De.get("OES_element_index_uint"),De.get("ANGLE_instanced_arrays"),et=new Mt(Ce,De),Ae=new gt(Ce,De,e),Pe=new mt(Ce,De,et),Pe.scissor(ce.copy(ve).multiplyScalar(me)),Pe.viewport(ue.copy(ge).multiplyScalar(me)),ke=new ft,Oe=new pt(Ce,De,Pe,ke,Ae,et,Ee),Ie=new le(Ce),Re=new qe(Ce,Ie,Ee),Ne=new Ke(Re,Te),Ue=new Ge(Ce),je=new ht(Z,De,Ae),Be=new Ze,Ye=new He,ze=new Fe(Z,Pe,Re,U),Ve=new Xe(Ce,De,Te),Qe=new We(Ce,De,Te),Je=new K(Z,Ce,Pe,Oe,Ae),$e=new $(Z,Ce,Pe,Oe,Ae),Z.info.programs=je.programs,Z.context=Ce,Z.capabilities=Ae,Z.extensions=De,Z.properties=ke,Z.renderLists=Ye,Z.state=Pe}function i(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),J=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),J=!1,n()}function a(e){var t=e.target;t.removeEventListener("dispose",a),l(t)}function l(e){u(e),ke.remove(e)}function u(e){var t=ke.get(e).program;e.program=void 0,void 0!==t&&je.releaseProgram(t)}function d(e,t,n){e.render(function(e){Z.renderBufferImmediate(e,t,n)})}function h(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===De.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===i&&(i=0),Pe.initAttributes();var r=n.attributes,o=t.getAttributes(),a=e.defaultAttributeValues;for(var s in o){var l=o[s];if(l>=0){var u=r[s];if(void 0!==u){var c=u.normalized,d=u.itemSize,h=Ie.get(u);if(void 0===h)continue;var p=h.buffer,f=h.type,m=h.bytesPerElement;if(u.isInterleavedBufferAttribute){var g=u.data,v=g.stride,y=u.offset;g&&g.isInstancedInterleavedBuffer?(Pe.enableAttributeAndDivisor(l,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Pe.enableAttribute(l),Ce.bindBuffer(Ce.ARRAY_BUFFER,p),Ce.vertexAttribPointer(l,d,f,c,v*m,(i*v+y)*m)}else u.isInstancedBufferAttribute?(Pe.enableAttributeAndDivisor(l,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):Pe.enableAttribute(l),Ce.bindBuffer(Ce.ARRAY_BUFFER,p),Ce.vertexAttribPointer(l,d,f,c,0,i*d*m)}else if(void 0!==a){var _=a[s];if(void 0!==_)switch(_.length){case 2:Ce.vertexAttrib2fv(l,_);break;case 3:Ce.vertexAttrib3fv(l,_);break;case 4:Ce.vertexAttrib4fv(l,_);break;default:Ce.vertexAttrib1fv(l,_)}}}}Pe.disableUnusedAttributes()}function f(){if(!it){var e=tt.getDevice();e&&e.isPresenting?e.requestAnimationFrame(m):window.requestAnimationFrame(m),it=!0}}function m(e){null!==rt&&rt(e);var t=tt.getDevice();t&&t.isPresenting?t.requestAnimationFrame(m):window.requestAnimationFrame(m)}function g(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)V.push(e),e.castShadow&&G.push(e);else if(e.isSprite)e.frustumCulled&&!_e.intersectsSprite(e)||X.push(e);else if(e.isLensFlare)Q.push(e);else if(e.isImmediateRenderObject)n&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(xe),W.push(e,null,e.material,Se.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||_e.intersectsObject(e))){n&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(xe);var i=Ne.update(e),r=e.material;if(Array.isArray(r))for(var o=i.groups,a=0,s=o.length;a<s;a++){var l=o[a],u=r[l.materialIndex];u&&u.visible&&W.push(e,i,u,Se.z,l)}else r.visible&&W.push(e,i,r,Se.z,null)}for(var c=e.children,a=0,s=c.length;a<s;a++)g(c[a],t,n)}}function v(e,t,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r],s=a.object,l=a.geometry,u=void 0===i?a.material:i,c=a.group;if(n.isArrayCamera){oe=n;for(var d=n.cameras,h=0,p=d.length;h<p;h++){var f=d[h];if(s.layers.test(f.layers)){var m=f.bounds,g=m.x*pe,v=m.y*fe,_=m.z*pe,b=m.w*fe;Pe.viewport(ue.set(g,v,_,b).multiplyScalar(me)),y(s,t,f,l,u,c)}}}else oe=null,y(s,t,n,l,u,c)}}function y(e,t,n,i,r,o){if(e.onBeforeRender(Z,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){Pe.setMaterial(r);var a=b(n,t.fog,r,e);ie="",d(e,a,r)}else Z.renderBufferDirect(n,t.fog,i,r,e,o);e.onAfterRender(Z,t,n,i,r,o)}function _(e,t,n){var i=ke.get(e),r=je.getParameters(e,Be.state,G,t,be.numPlanes,be.numIntersection,n),o=je.getProgramCode(e,r),s=i.program,l=!0;if(void 0===s)e.addEventListener("dispose",a);else if(s.code!==o)u(e);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var c=ks[r.shaderID];i.shader={name:e.type,uniforms:As.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader),s=je.acquireProgram(e,i.shader,r,o),i.program=s,e.program=s}var d=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var h=0;h<Z.maxMorphTargets;h++)d["morphTarget"+h]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var h=0;h<Z.maxMorphNormals;h++)d["morphNormal"+h]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=be.numPlanes,i.numIntersection=be.numIntersection,p.clippingPlanes=be.uniform),i.fog=t,i.lightsHash=Be.state.hash,e.lights&&(p.ambientLightColor.value=Be.state.ambient,p.directionalLights.value=Be.state.directional,p.spotLights.value=Be.state.spot,p.rectAreaLights.value=Be.state.rectArea,p.pointLights.value=Be.state.point,p.hemisphereLights.value=Be.state.hemi,p.directionalShadowMap.value=Be.state.directionalShadowMap,p.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,p.spotShadowMap.value=Be.state.spotShadowMap,p.spotShadowMatrix.value=Be.state.spotShadowMatrix,p.pointShadowMap.value=Be.state.pointShadowMap,p.pointShadowMatrix.value=Be.state.pointShadowMatrix);var f=i.program.getUniforms(),m=q.seqWithValue(f.seq,p);i.uniformsList=m}function b(e,t,n,i){he=0;var r=ke.get(n);if(we&&(Me||e!==re)){var o=e===re&&n.id===ne;be.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,o)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==Be.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===be.numPlanes&&r.numIntersection===be.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(_(n,t,i),n.needsUpdate=!1);var a=!1,s=!1,l=!1,u=r.program,c=u.getUniforms(),d=r.shader.uniforms;if(Pe.useProgram(u.program)&&(a=!0,s=!0,l=!0),n.id!==ne&&(ne=n.id,s=!0),a||e!==re){if(c.setValue(Ce,"projectionMatrix",e.projectionMatrix),Ae.logarithmicDepthBuffer&&c.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),re!==(oe||e)&&(re=oe||e,s=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var h=c.map.cameraPosition;void 0!==h&&h.setValue(Ce,Se.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){c.setOptional(Ce,i,"bindMatrix"),c.setOptional(Ce,i,"bindMatrixInverse");var f=i.skeleton;if(f){var m=f.bones;if(Ae.floatVertexTextures){if(void 0===f.boneTexture){var g=Math.sqrt(4*m.length);g=_s.ceilPowerOfTwo(g),g=Math.max(g,4);var v=new Float32Array(g*g*4);v.set(f.boneMatrices);var y=new p(v,g,g,Va,Na);f.boneMatrices=v,f.boneTexture=y,f.boneTextureSize=g}c.setValue(Ce,"boneTexture",f.boneTexture),c.setValue(Ce,"boneTextureSize",f.boneTextureSize)}else c.setOptional(Ce,f,"boneMatrices")}}return s&&(c.setValue(Ce,"toneMappingExposure",Z.toneMappingExposure),c.setValue(Ce,"toneMappingWhitePoint",Z.toneMappingWhitePoint),n.lights&&I(d,l),t&&n.fog&&E(d,t),n.isMeshBasicMaterial?w(d,n):n.isMeshLambertMaterial?(w(d,n),T(d,n)):n.isMeshPhongMaterial?(w(d,n),n.isMeshToonMaterial?L(d,n):C(d,n)):n.isMeshStandardMaterial?(w(d,n),n.isMeshPhysicalMaterial?A(d,n):D(d,n)):n.isMeshDepthMaterial?(w(d,n),P(d,n)):n.isMeshDistanceMaterial?(w(d,n),k(d,n)):n.isMeshNormalMaterial?(w(d,n),O(d,n)):n.isLineBasicMaterial?(M(d,n),n.isLineDashedMaterial&&x(d,n)):n.isPointsMaterial?S(d,n):n.isShadowMaterial&&(d.color.value=n.color,d.opacity.value=n.opacity),void 0!==d.ltcMat&&(d.ltcMat.value=Ds.LTC_MAT_TEXTURE),void 0!==d.ltcMag&&(d.ltcMag.value=Ds.LTC_MAG_TEXTURE),q.upload(Ce,r.uniformsList,d,Z)),c.setValue(Ce,"modelViewMatrix",i.modelViewMatrix),c.setValue(Ce,"normalMatrix",i.normalMatrix),c.setValue(Ce,"modelMatrix",i.matrixWorld),u}function w(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var i=n.offset,r=n.repeat,o=n.rotation,a=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,o,a.x,a.y)}e.uvTransform.value.copy(n.matrix)}}function M(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function x(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function S(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*me,e.scale.value=.5*fe,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,i=t.map.repeat,r=t.map.rotation,o=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,o.x,o.y)}e.uvTransform.value.copy(t.map.matrix)}}function E(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function T(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function C(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function L(e,t){C(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function D(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function A(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,D(e,t)}function P(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function k(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function O(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function R(){var e=he;return e>=Ae.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+Ae.maxTextures),he+=1,e}console.log("THREE.WebGLRenderer",go),e=e||{};var N=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),B=void 0!==e.context?e.context:null,j=void 0!==e.alpha&&e.alpha,F=void 0===e.depth||e.depth,Y=void 0===e.stencil||e.stencil,z=void 0!==e.antialias&&e.antialias,U=void 0===e.premultipliedAlpha||e.premultipliedAlpha,H=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,V=[],G=[],W=null,X=[],Q=[];this.domElement=N,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ca,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Z=this,J=!1,ee=null,te=null,ne=-1,ie="",re=null,oe=null,ue=new c,ce=new c,de=null,he=0,pe=N.width,fe=N.height,me=1,ge=new c(0,0,pe,fe),ve=new c(0,0,pe,fe),ye=!1,_e=new ae,be=new wt,we=!1,Me=!1,xe=new o,Se=new s,Ee={geometries:0,textures:0},Te={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Te,memory:Ee,programs:null};var Ce;try{var Le={alpha:j,depth:F,stencil:Y,antialias:z,premultipliedAlpha:U,preserveDrawingBuffer:H};if(null===(Ce=B||N.getContext("webgl",Le)||N.getContext("experimental-webgl",Le)))throw null!==N.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),N.addEventListener("webglcontextlost",i,!1),N.addEventListener("webglcontextrestored",r,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var De,Ae,Pe,ke,Oe,Ie,Re,Ne,Be,je,Ye,ze,Ue,Ve,Qe,Je,$e,et;n();var tt=new _t(Z);this.vr=tt;var nt=new se(Z,Ne,Ae.maxTextureSize);this.shadowMap=nt,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=De.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=De.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return me},this.setPixelRatio=function(e){void 0!==e&&(me=e,this.setSize(pe,fe,!1))},this.getSize=function(){return{width:pe,height:fe}},this.setSize=function(e,t,n){var i=tt.getDevice();if(i&&i.isPresenting)return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");pe=e,fe=t,N.width=e*me,N.height=t*me,!1!==n&&(N.style.width=e+"px",N.style.height=t+"px"),this.setViewport(0,0,e,t)},this.getDrawingBufferSize=function(){return{width:pe*me,height:fe*me}},this.setDrawingBufferSize=function(e,t,n){pe=e,fe=t,me=n,N.width=e*n,N.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,i){ge.set(e,fe-t-i,n,i),Pe.viewport(ue.copy(ge).multiplyScalar(me))},this.setScissor=function(e,t,n,i){ve.set(e,fe-t-i,n,i),Pe.scissor(ce.copy(ve).multiplyScalar(me))},this.setScissorTest=function(e){Pe.setScissorTest(ye=e)},this.getClearColor=function(){return ze.getClearColor()},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=Ce.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=Ce.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=Ce.STENCIL_BUFFER_BIT),Ce.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){N.removeEventListener("webglcontextlost",i,!1),N.removeEventListener("webglcontextrestored",r,!1),Ye.dispose(),tt.dispose()},this.renderBufferImmediate=function(e,t,n){Pe.initAttributes();var i=ke.get(e);e.hasPositions&&!i.position&&(i.position=Ce.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=Ce.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=Ce.createBuffer()),e.hasColors&&!i.color&&(i.color=Ce.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,i.position),Ce.bufferData(Ce.ARRAY_BUFFER,e.positionArray,Ce.DYNAMIC_DRAW),Pe.enableAttribute(r.position),Ce.vertexAttribPointer(r.position,3,Ce.FLOAT,!1,0,0)),e.hasNormals){if(Ce.bindBuffer(Ce.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,l=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=l,s[o+1]=u,s[o+2]=c,s[o+3]=l,s[o+4]=u,s[o+5]=c,s[o+6]=l,s[o+7]=u,s[o+8]=c}Ce.bufferData(Ce.ARRAY_BUFFER,e.normalArray,Ce.DYNAMIC_DRAW),Pe.enableAttribute(r.normal),Ce.vertexAttribPointer(r.normal,3,Ce.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,i.uv),Ce.bufferData(Ce.ARRAY_BUFFER,e.uvArray,Ce.DYNAMIC_DRAW),Pe.enableAttribute(r.uv),Ce.vertexAttribPointer(r.uv,2,Ce.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Co&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,i.color),Ce.bufferData(Ce.ARRAY_BUFFER,e.colorArray,Ce.DYNAMIC_DRAW),Pe.enableAttribute(r.color),Ce.vertexAttribPointer(r.color,3,Ce.FLOAT,!1,0,0)),Pe.disableUnusedAttributes(),Ce.drawArrays(Ce.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,i,r,o,a){Pe.setMaterial(r);var s=b(e,n,r,o),l=i.id+"_"+s.id+"_"+(!0===r.wireframe),u=!1;l!==ie&&(ie=l,u=!0),o.morphTargetInfluences&&(Ue.update(o,i,r,s),u=!0);var c=i.index,d=i.attributes.position,p=1;!0===r.wireframe&&(c=Re.getWireframeAttribute(i),p=2);var f,m=Ve;null!==c&&(f=Ie.get(c),m=Qe,m.setIndex(f)),u&&(h(r,s,i),null!==c&&Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,f.buffer));var g=0;null!==c?g=c.count:void 0!==d&&(g=d.count);var v=i.drawRange.start*p,y=i.drawRange.count*p,_=null!==a?a.start*p:0,w=null!==a?a.count*p:1/0,M=Math.max(v,_),x=Math.min(g,v+y,_+w)-1,S=Math.max(0,x-M+1);if(0!==S){if(o.isMesh)if(!0===r.wireframe)Pe.setLineWidth(r.wireframeLinewidth*t()),m.setMode(Ce.LINES);else switch(o.drawMode){case ss:m.setMode(Ce.TRIANGLES);break;case ls:m.setMode(Ce.TRIANGLE_STRIP);break;case us:m.setMode(Ce.TRIANGLE_FAN)}else if(o.isLine){var E=r.linewidth;void 0===E&&(E=1),Pe.setLineWidth(E*t()),o.isLineSegments?m.setMode(Ce.LINES):o.isLineLoop?m.setMode(Ce.LINE_LOOP):m.setMode(Ce.LINE_STRIP)}else o.isPoints&&m.setMode(Ce.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&m.renderInstances(i,M,S):m.render(M,S)}},this.compile=function(e,t){V.length=0,G.length=0,e.traverse(function(e){e.isLight&&(V.push(e),e.castShadow&&G.push(e))}),Be.setup(V,G,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)_(t.material[n],e.fog,t);else _(t.material,e.fog,t)})};var it=!1,rt=null;this.animate=function(e){rt=e,f()},this.render=function(e,t,n,i){if(!t||!t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!J){ie="",ne=-1,re=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),tt.enabled&&(t=tt.getCamera(t)),xe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),_e.setFromMatrix(xe),V.length=0,G.length=0,X.length=0,Q.length=0,Me=this.localClippingEnabled,we=be.init(this.clippingPlanes,Me,t),W=Ye.get(e,t),W.init(),g(e,t,Z.sortObjects),!0===Z.sortObjects&&W.sort(),we&&be.beginShadows(),nt.render(G,e,t),Be.setup(V,G,t),we&&be.endShadows(),Te.frame++,Te.calls=0,Te.vertices=0,Te.faces=0,Te.points=0,void 0===n&&(n=null),this.setRenderTarget(n),ze.render(W,e,t,i);var r=W.opaque,o=W.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;r.length&&v(r,e,t,a),o.length&&v(o,e,t,a)}else r.length&&v(r,e,t),o.length&&v(o,e,t);$e.render(X,e,t),Je.render(Q,e,t,ue),n&&Oe.updateRenderTargetMipmap(n),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1),tt.enabled&&tt.submitFrame()}},this.setFaceCulling=function(e,t){Pe.setCullFace(e),Pe.setFlipSided(t===wo)},this.allocTextureUnit=R,this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Oe.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Oe.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Oe.setTextureCube(t,n):Oe.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===ke.get(e).__webglFramebuffer&&Oe.setupRenderTarget(e);var t=null,n=!1;if(e){var i=ke.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,ue.copy(e.viewport),ce.copy(e.scissor),de=e.scissorTest}else ue.copy(ge).multiplyScalar(me),ce.copy(ve).multiplyScalar(me),de=ye;if(te!==t&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,t),te=t),Pe.viewport(ue),Pe.scissor(ce),Pe.setScissorTest(de),n){var r=ke.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=ke.get(e).__webglFramebuffer;if(a){var s=!1;a!==te&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,a),s=!0);try{var l=e.texture,u=l.format,c=l.type;if(u!==Va&&et.convert(u)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===Aa||et.convert(c)===Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)||c===Na&&(De.get("OES_texture_float")||De.get("WEBGL_color_buffer_float"))||c===Ba&&De.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ce.checkFramebufferStatus(Ce.FRAMEBUFFER)===Ce.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&Ce.readPixels(t,n,i,r,et.convert(u),et.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ce.bindFramebuffer(Ce.FRAMEBUFFER,te)}}}}function St(e,t){this.name="",this.color=new Q(e),this.density=void 0!==t?t:25e-5}function Et(e,t,n){this.name="",this.color=new Q(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Tt(){de.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ct(e,t,n,i,r){de.call(this),this.lensFlares=[],this.positionScreen=new s,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,i,r)}function Lt(e){ee.call(this),this.type="SpriteMaterial",this.color=new Q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Dt(e){de.call(this),this.type="Sprite",this.material=void 0!==e?e:new Lt}function At(){de.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Pt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new o)}}function kt(){de.call(this),this.type="Bone"}function Ot(e,t){je.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new o,this.bindMatrixInverse=new o;var n=this.initBones(),i=new Pt(n);this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function It(e){ee.call(this),this.type="LineBasicMaterial",this.color=new Q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Rt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Nt(e,t);de.call(this),this.type="Line",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new It({color:16777215*Math.random()})}function Nt(e,t){Rt.call(this,e,t),this.type="LineSegments"}function Bt(e,t){Rt.call(this,e,t),this.type="LineLoop"}function jt(e){ee.call(this),this.type="PointsMaterial",this.color=new Q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Ft(e,t){de.call(this),this.type="Points",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new jt({color:16777215*Math.random()})}function Yt(){de.call(this),this.type="Group"}function zt(e,t,n,i,r,o,a,s,l){function c(){var e=d.image;e.readyState>=e.HAVE_CURRENT_DATA&&(d.needsUpdate=!0),requestAnimationFrame(c)}u.call(this,e,t,n,i,r,o,a,s,l),this.generateMipmaps=!1;var d=this;requestAnimationFrame(c)}function Ut(e,t,n,i,r,o,a,s,l,c,d,h){u.call(this,null,o,a,s,l,c,i,r,d,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ht(e,t,n,i,r,o,a,s,l,c){if((c=void 0!==c?c:qa)!==qa&&c!==Qa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===qa&&(n=Oa),void 0===n&&c===Qa&&(n=za),u.call(this,null,i,r,o,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:Sa,this.minFilter=void 0!==s?s:Sa,this.flipY=!1,this.generateMipmaps=!1}function Vt(e){Le.call(this),this.type="WireframeGeometry";var t,n,i,r,o,a,l,u,c,d,h=[],p=[0,0],f={},m=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,i=g.length;t<i;t++){var v=g[t];for(n=0;n<3;n++)l=v[m[n]],u=v[m[(n+1)%3]],p[0]=Math.min(l,u),p[1]=Math.max(l,u),c=p[0]+","+p[1],void 0===f[c]&&(f[c]={index1:p[0],index2:p[1]})}for(c in f)a=f[c],d=e.vertices[a.index1],h.push(d.x,d.y,d.z),d=e.vertices[a.index2],h.push(d.x,d.y,d.z)}else if(e&&e.isBufferGeometry){var y,_,b,w,M,x,S,E;if(d=new s,null!==e.index){for(y=e.attributes.position,_=e.index,b=e.groups,0===b.length&&(b=[{start:0,count:_.count,materialIndex:0}]),r=0,o=b.length;r<o;++r)for(w=b[r],M=w.start,x=w.count,t=M,i=M+x;t<i;t+=3)for(n=0;n<3;n++)l=_.getX(t+n),u=_.getX(t+(n+1)%3),p[0]=Math.min(l,u),p[1]=Math.max(l,u),c=p[0]+","+p[1],void 0===f[c]&&(f[c]={index1:p[0],index2:p[1]});for(c in f)a=f[c],d.fromBufferAttribute(y,a.index1),h.push(d.x,d.y,d.z),d.fromBufferAttribute(y,a.index2),h.push(d.x,d.y,d.z)}else for(y=e.attributes.position,t=0,i=y.count/3;t<i;t++)for(n=0;n<3;n++)S=3*t+n,d.fromBufferAttribute(y,S),h.push(d.x,d.y,d.z),E=3*t+(n+1)%3,d.fromBufferAttribute(y,E),h.push(d.x,d.y,d.z)}this.addAttribute("position",new Se(h,3))}function Gt(e,t,n){me.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Wt(e,t,n)),this.mergeVertices()}function Wt(e,t,n){Le.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,o=[],a=[],l=[],u=[],c=new s,d=new s,h=new s,p=new s,f=new s,m=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var v=r/t;d=e(v,g,d),a.push(d.x,d.y,d.z),v-1e-5>=0?(h=e(v-1e-5,g,h),p.subVectors(d,h)):(h=e(v+1e-5,g,h),p.subVectors(h,d)),g-1e-5>=0?(h=e(v,g-1e-5,h),f.subVectors(d,h)):(h=e(v,g+1e-5,h),f.subVectors(h,d)),c.crossVectors(p,f).normalize(),l.push(c.x,c.y,c.z),u.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var y=i*m+r,_=i*m+r+1,b=(i+1)*m+r+1,w=(i+1)*m+r;o.push(y,_,w),o.push(_,b,w)}this.setIndex(o),this.addAttribute("position",new Se(a,3)),this.addAttribute("normal",new Se(l,3)),this.addAttribute("uv",new Se(u,2))}function Xt(e,t,n,i){me.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new qt(e,t,n,i)),this.mergeVertices()}function qt(e,t,n,i){function o(e,t,n,i){var r,o,a=Math.pow(2,i),s=[];for(r=0;r<=a;r++){s[r]=[];var u=e.clone().lerp(n,r/a),c=t.clone().lerp(n,r/a),d=a-r;for(o=0;o<=d;o++)s[r][o]=0===o&&r===a?u:u.clone().lerp(c,o/d)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var h=Math.floor(o/2);o%2==0?(l(s[r][h+1]),l(s[r+1][h]),l(s[r][h])):(l(s[r][h+1]),l(s[r+1][h+1]),l(s[r+1][h]))}}function a(){for(var e=0;e<m.length;e+=6){var t=m[e+0],n=m[e+2],i=m[e+4],r=Math.max(t,n,i),o=Math.min(t,n,i);r>.9&&o<.1&&(t<.2&&(m[e+0]+=1),n<.2&&(m[e+2]+=1),i<.2&&(m[e+4]+=1))}}function l(e){f.push(e.x,e.y,e.z)}function u(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(){for(var e=new s,t=new s,n=new s,i=new s,o=new r,a=new r,l=new r,u=0,c=0;u<f.length;u+=9,c+=6){e.set(f[u+0],f[u+1],f[u+2]),t.set(f[u+3],f[u+4],f[u+5]),n.set(f[u+6],f[u+7],f[u+8]),o.set(m[c+0],m[c+1]),a.set(m[c+2],m[c+3]),l.set(m[c+4],m[c+5]),i.copy(e).add(t).add(n).divideScalar(3);var p=h(i);d(o,c+0,e,p),d(a,c+2,t,p),d(l,c+4,n,p)}}function d(e,t,n,i){i<0&&1===e.x&&(m[t]=e.x-1),0===n.x&&0===n.z&&(m[t]=i/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}function p(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}Le.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;var f=[],m=[];!function(e){for(var n=new s,i=new s,r=new s,a=0;a<t.length;a+=3)u(t[a+0],n),u(t[a+1],i),u(t[a+2],r),o(n,i,r,e)}(i),function(e){for(var t=new s,n=0;n<f.length;n+=3)t.x=f[n+0],t.y=f[n+1],t.z=f[n+2],t.normalize().multiplyScalar(e),f[n+0]=t.x,f[n+1]=t.y,f[n+2]=t.z}(n),function(){for(var e=new s,t=0;t<f.length;t+=3){e.x=f[t+0],e.y=f[t+1],e.z=f[t+2];var n=h(e)/2/Math.PI+.5,i=p(e)/Math.PI+.5;m.push(n,1-i)}c(),a()}(),this.addAttribute("position",new Se(f,3)),this.addAttribute("normal",new Se(f.slice(),3)),this.addAttribute("uv",new Se(m,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Qt(e,t){me.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zt(e,t)),this.mergeVertices()}function Zt(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];qt.call(this,n,i,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Kt(e,t){me.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];qt.call(this,n,i,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $t(e,t){me.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new en(e,t)),this.mergeVertices()}function en(e,t){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];qt.call(this,i,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function tn(e,t){me.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new nn(e,t)),this.mergeVertices()}function nn(e,t){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];qt.call(this,r,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function rn(e,t,n,i,r,o){me.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new on(e,t,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function on(e,t,n,i,o){function a(r){g=e.getPointAt(r/t,g);var o=c.normals[r],a=c.binormals[r];for(h=0;h<=i;h++){var s=h/i*Math.PI*2,l=Math.sin(s),u=-Math.cos(s);f.x=u*o.x+l*a.x,f.y=u*o.y+l*a.y,f.z=u*o.z+l*a.z,f.normalize(),y.push(f.x,f.y,f.z),p.x=g.x+n*f.x,p.y=g.y+n*f.y,p.z=g.z+n*f.z,v.push(p.x,p.y,p.z)}}function l(){for(h=1;h<=t;h++)for(d=1;d<=i;d++){var e=(i+1)*(h-1)+(d-1),n=(i+1)*h+(d-1),r=(i+1)*h+d,o=(i+1)*(h-1)+d;b.push(e,n,o),b.push(n,r,o)}}function u(){for(d=0;d<=t;d++)for(h=0;h<=i;h++)m.x=d/t,m.y=h/i,_.push(m.x,m.y)}Le.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:o},t=t||64,n=n||1,i=i||8,o=o||!1;var c=e.computeFrenetFrames(t,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var d,h,p=new s,f=new s,m=new r,g=new s,v=[],y=[],_=[],b=[];!function(){for(d=0;d<t;d++)a(d);a(!1===o?t:0),u(),l()}(),this.setIndex(b),this.addAttribute("position",new Se(v,3)),this.addAttribute("normal",new Se(y,3)),this.addAttribute("uv",new Se(_,2))}function an(e,t,n,i,r,o,a){me.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new sn(e,t,n,i,r,o)),this.mergeVertices()}function sn(e,t,n,i,r,o){function a(e,t,n,i,r){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(s)*.5}Le.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;var l,u,c=[],d=[],h=[],p=[],f=new s,m=new s,g=new s,v=new s,y=new s,_=new s,b=new s;for(l=0;l<=n;++l){var w=l/n*r*Math.PI*2;for(a(w,r,o,e,g),a(w+.01,r,o,e,v),_.subVectors(v,g),b.addVectors(v,g),y.crossVectors(_,b),b.crossVectors(y,_),y.normalize(),b.normalize(),u=0;u<=i;++u){var M=u/i*Math.PI*2,x=-t*Math.cos(M),S=t*Math.sin(M);f.x=g.x+(x*b.x+S*y.x),f.y=g.y+(x*b.y+S*y.y),f.z=g.z+(x*b.z+S*y.z),d.push(f.x,f.y,f.z),m.subVectors(f,g).normalize(),h.push(m.x,m.y,m.z),p.push(l/n),p.push(u/i)}}for(u=1;u<=n;u++)for(l=1;l<=i;l++){var E=(i+1)*(u-1)+(l-1),T=(i+1)*u+(l-1),C=(i+1)*u+l,L=(i+1)*(u-1)+l;c.push(E,T,L),c.push(T,C,L)}this.setIndex(c),this.addAttribute("position",new Se(d,3)),this.addAttribute("normal",new Se(h,3)),this.addAttribute("uv",new Se(p,2))}function ln(e,t,n,i,r){me.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new un(e,t,n,i,r)),this.mergeVertices()}function un(e,t,n,i,r){Le.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,a,l=[],u=[],c=[],d=[],h=new s,p=new s,f=new s;for(o=0;o<=n;o++)for(a=0;a<=i;a++){var m=a/i*r,g=o/n*Math.PI*2;p.x=(e+t*Math.cos(g))*Math.cos(m),p.y=(e+t*Math.cos(g))*Math.sin(m),p.z=t*Math.sin(g),u.push(p.x,p.y,p.z),h.x=e*Math.cos(m),h.y=e*Math.sin(m),f.subVectors(p,h).normalize(),c.push(f.x,f.y,f.z),d.push(a/i),d.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var v=(i+1)*o+a-1,y=(i+1)*(o-1)+a-1,_=(i+1)*(o-1)+a,b=(i+1)*o+a;l.push(v,y,b),l.push(y,_,b)}this.setIndex(l),this.addAttribute("position",new Se(u,3)),this.addAttribute("normal",new Se(c,3)),this.addAttribute("uv",new Se(d,2))}function cn(e,t){me.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new dn(e,t)),this.mergeVertices()}function dn(e,t){void 0!==e&&(Le.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function hn(e,t){me.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new pn(e,t)),this.mergeVertices()}function pn(e,t){t=t||{};var n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new me;var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),dn.call(this,i,t),this.type="TextBufferGeometry"}function fn(e,t,n,i,r,o,a){me.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new mn(e,t,n,i,r,o,a)),this.mergeVertices()}function mn(e,t,n,i,r,o,a){Le.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var l,u,c=o+a,d=0,h=[],p=new s,f=new s,m=[],g=[],v=[],y=[];for(u=0;u<=n;u++){var _=[],b=u/n;for(l=0;l<=t;l++){var w=l/t;p.x=-e*Math.cos(i+w*r)*Math.sin(o+b*a),p.y=e*Math.cos(o+b*a),p.z=e*Math.sin(i+w*r)*Math.sin(o+b*a),g.push(p.x,p.y,p.z),f.set(p.x,p.y,p.z).normalize(),v.push(f.x,f.y,f.z),y.push(w,1-b),_.push(d++)}h.push(_)}for(u=0;u<n;u++)for(l=0;l<t;l++){var M=h[u][l+1],x=h[u][l],S=h[u+1][l],E=h[u+1][l+1];(0!==u||o>0)&&m.push(M,x,E),(u!==n-1||c<Math.PI)&&m.push(x,S,E)}this.setIndex(m),this.addAttribute("position",new Se(g,3)),this.addAttribute("normal",new Se(v,3)),this.addAttribute("uv",new Se(y,2))}function gn(e,t,n,i,r,o){me.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new vn(e,t,n,i,r,o)),this.mergeVertices()}function vn(e,t,n,i,o,a){Le.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:a},e=e||.5,t=t||1,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var l,u,c,d=[],h=[],p=[],f=[],m=e,g=(t-e)/i,v=new s,y=new r;for(u=0;u<=i;u++){for(c=0;c<=n;c++)l=o+c/n*a,v.x=m*Math.cos(l),v.y=m*Math.sin(l),h.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,f.push(y.x,y.y);m+=g}for(u=0;u<i;u++){var _=u*(n+1);for(c=0;c<n;c++){l=c+_;var b=l,w=l+n+1,M=l+n+2,x=l+1;d.push(b,w,x),d.push(w,M,x)}}this.setIndex(d),this.addAttribute("position",new Se(h,3)),this.addAttribute("normal",new Se(p,3)),this.addAttribute("uv",new Se(f,2))}function yn(e,t,n,i){me.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new _n(e,t,n,i)),this.mergeVertices()}function _n(e,t,n,i){Le.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=_s.clamp(i,0,2*Math.PI);var o,a,l,u=[],c=[],d=[],h=1/t,p=new s,f=new r;for(a=0;a<=t;a++){var m=n+a*h*i,g=Math.sin(m),v=Math.cos(m);for(l=0;l<=e.length-1;l++)p.x=e[l].x*g,p.y=e[l].y,p.z=e[l].x*v,c.push(p.x,p.y,p.z),f.x=a/t,f.y=l/(e.length-1),d.push(f.x,f.y)}for(a=0;a<t;a++)for(l=0;l<e.length-1;l++){o=l+a*e.length;var y=o,_=o+e.length,b=o+e.length+1,w=o+1;u.push(y,_,w),u.push(_,b,w)}if(this.setIndex(u),this.addAttribute("position",new Se(c,3)),this.addAttribute("uv",new Se(d,2)),this.computeVertexNormals(),i===2*Math.PI){var M=this.attributes.normal.array,x=new s,S=new s,E=new s;for(o=t*e.length*3,a=0,l=0;a<e.length;a++,l+=3)x.x=M[l+0],x.y=M[l+1],x.z=M[l+2],S.x=M[o+l+0],S.y=M[o+l+1],S.z=M[o+l+2],E.addVectors(x,S).normalize(),M[l+0]=M[o+l+0]=E.x,M[l+1]=M[o+l+1]=E.y,M[l+2]=M[o+l+2]=E.z}}function bn(e,t){me.call(this),this.type="ShapeGeometry","object"===(void 0===t?"undefined":mo(t))&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new wn(e,t)),this.mergeVertices()}function wn(e,t){function n(e){var n,s,u,c=r.length/3,d=e.extractPoints(t),h=d.shape,p=d.holes;if(!1===js.isClockWise(h))for(h=h.reverse(),n=0,s=p.length;n<s;n++)u=p[n],!0===js.isClockWise(u)&&(p[n]=u.reverse());var f=js.triangulateShape(h,p);for(n=0,s=p.length;n<s;n++)u=p[n],h=h.concat(u);for(n=0,s=h.length;n<s;n++){var m=h[n];r.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=f.length;n<s;n++){var g=f[n],v=g[0]+c,y=g[1]+c,_=g[2]+c;i.push(v,y,_),l+=3}}Le.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],o=[],a=[],s=0,l=0;if(!1===Array.isArray(e))n(e);else for(var u=0;u<e.length;u++)n(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(i),this.addAttribute("position",new Se(r,3)),this.addAttribute("normal",new Se(o,3)),this.addAttribute("uv",new Se(a,2))}function Mn(e,t){Le.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,o,a=[],s=Math.cos(_s.DEG2RAD*t),l=[0,0],u={},c=["a","b","c"];e.isBufferGeometry?(o=new me,o.fromBufferGeometry(e)):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,h=o.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],g=0;g<3;g++)n=m[c[g]],i=m[c[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),r=l[0]+","+l[1],void 0===u[r]?u[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:u[r].face2=p;for(r in u){var v=u[r];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=d[v.index1];a.push(y.x,y.y,y.z),y=d[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Se(a,3))}function xn(e,t,n,i,r,o,a,s){me.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Sn(e,t,n,i,r,o,a,s)),this.mergeVertices()}function Sn(e,t,n,i,o,a,l,u){function c(n){var o,a,c,v=new r,b=new s,w=0,M=!0===n?e:t,x=!0===n?1:-1;for(a=g,o=1;o<=i;o++)p.push(0,y*x,0),f.push(0,x,0),m.push(.5,.5),g++;for(c=g,o=0;o<=i;o++){var S=o/i,E=S*u+l,T=Math.cos(E),C=Math.sin(E);b.x=M*C,b.y=y*x,b.z=M*T,p.push(b.x,b.y,b.z),f.push(0,x,0),v.x=.5*T+.5,v.y=.5*C*x+.5,m.push(v.x,v.y),g++}for(o=0;o<i;o++){var L=a+o,D=c+o;!0===n?h.push(D,D+1,L):h.push(D+1,D,L),w+=3}d.addGroup(_,w,!0===n?1:2),_+=w}Le.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:u};var d=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,l=void 0!==l?l:0,u=void 0!==u?u:2*Math.PI;var h=[],p=[],f=[],m=[],g=0,v=[],y=n/2,_=0;!function(){var r,a,c=new s,b=new s,w=0,M=(t-e)/n;for(a=0;a<=o;a++){var x=[],S=a/o,E=S*(t-e)+e;for(r=0;r<=i;r++){var T=r/i,C=T*u+l,L=Math.sin(C),D=Math.cos(C);b.x=E*L,b.y=-S*n+y,b.z=E*D,p.push(b.x,b.y,b.z),c.set(L,M,D).normalize(),f.push(c.x,c.y,c.z),m.push(T,1-S),x.push(g++)}v.push(x)}for(r=0;r<i;r++)for(a=0;a<o;a++){var A=v[a][r],P=v[a+1][r],k=v[a+1][r+1],O=v[a][r+1];h.push(A,P,O),h.push(P,k,O),w+=6}d.addGroup(_,w,0),_+=w}(),!1===a&&(e>0&&c(!0),t>0&&c(!1)),this.setIndex(h),this.addAttribute("position",new Se(p,3)),this.addAttribute("normal",new Se(f,3)),this.addAttribute("uv",new Se(m,2))}function En(e,t,n,i,r,o,a){xn.call(this,0,e,t,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function Tn(e,t,n,i,r,o,a){Sn.call(this,0,e,t,n,i,r,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function Cn(e,t,n,i){me.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Ln(e,t,n,i)),this.mergeVertices()}function Ln(e,t,n,i){Le.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var o,a,l=[],u=[],c=[],d=[],h=new s,p=new r;for(u.push(0,0,0),c.push(0,0,1),d.push(.5,.5),a=0,o=3;a<=t;a++,o+=3){var f=n+a/t*i;h.x=e*Math.cos(f),h.y=e*Math.sin(f),u.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(u[o]/e+1)/2,p.y=(u[o+1]/e+1)/2,d.push(p.x,p.y)}for(o=1;o<=t;o++)l.push(o,o+1,0);this.setIndex(l),this.addAttribute("position",new Se(u,3)),this.addAttribute("normal",new Se(c,3)),this.addAttribute("uv",new Se(d,2))}function Dn(e){ee.call(this),this.type="ShadowMaterial",this.color=new Q(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function An(e){Ie.call(this,e),this.type="RawShaderMaterial"}function Pn(e){ee.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kn(e){Pn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function On(e){ee.call(this),this.type="MeshPhongMaterial",this.color=new Q(16777215),this.specular=new Q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=aa,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function In(e){On.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Rn(e){ee.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Nn(e){ee.call(this),this.type="MeshLambertMaterial",this.color=new Q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=aa,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Bn(e){It.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function jn(e,t,n){var i=this,r=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===r&&void 0!==i.onStart&&i.onStart(e,o,a),r=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){s=e}}function Fn(e){this.manager=void 0!==e?e:Us}function Yn(e){this.manager=void 0!==e?e:Us,this._parser=null}function zn(e){this.manager=void 0!==e?e:Us,this._parser=null}function Un(e){this.manager=void 0!==e?e:Us}function Hn(e){this.manager=void 0!==e?e:Us}function Vn(e){this.manager=void 0!==e?e:Us}function Gn(e,t){de.call(this),this.type="Light",this.color=new Q(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Wn(e,t,n){Gn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(de.DefaultUp),this.updateMatrix(),this.groundColor=new Q(t)}function Xn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new o}function qn(){Xn.call(this,new vt(50,1,.5,500))}function Qn(e,t,n,i,r,o){Gn.call(this,e,t),this.type="SpotLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new qn}function Zn(e,t,n,i){Gn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Xn(new vt(90,1,.5,500))}function Kn(){Xn.call(this,new pe(-5,5,5,-5,.5,500))}function Jn(e,t){Gn.call(this,e,t),this.type="DirectionalLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,this.shadow=new Kn}function $n(e,t){Gn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function ei(e,t,n,i){Gn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function ti(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function ni(e,t,n,i){ti.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ii(e,t,n,i){ti.call(this,e,t,n,i)}function ri(e,t,n,i){ti.call(this,e,t,n,i)}function oi(e,t,n,i){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=Vs.convertArray(t,this.TimeBufferType),this.values=Vs.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function ai(e,t,n,i){oi.call(this,e,t,n,i)}function si(e,t,n,i){ti.call(this,e,t,n,i)}function li(e,t,n,i){oi.call(this,e,t,n,i)}function ui(e,t,n,i){oi.call(this,e,t,n,i)}function ci(e,t,n,i){oi.call(this,e,t,n,i)}function di(e,t,n){oi.call(this,e,t,n)}function hi(e,t,n,i){oi.call(this,e,t,n,i)}function pi(e,t,n,i){oi.apply(this,e,t,n,i)}function fi(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=_s.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function mi(e){this.manager=void 0!==e?e:Us,this.textures={}}function gi(e){this.manager=void 0!==e?e:Us}function vi(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function yi(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Us,this.withCredentials=!1}function _i(e){this.manager=void 0!==e?e:Us,this.texturePath=""}function bi(e,t,n,i,r){var o=.5*(i-t),a=.5*(r-n),s=e*e;return(2*n-2*i+o+a)*(e*s)+(-3*n+3*i-2*o-a)*s+o*e+n}function wi(e,t){var n=1-e;return n*n*t}function Mi(e,t){return 2*(1-e)*e*t}function xi(e,t){return e*e*t}function Si(e,t,n,i){return wi(e,t)+Mi(e,n)+xi(e,i)}function Ei(e,t){var n=1-e;return n*n*n*t}function Ti(e,t){var n=1-e;return 3*n*n*e*t}function Ci(e,t){return 3*(1-e)*e*e*t}function Li(e,t){return e*e*e*t}function Di(e,t,n,i,r){return Ei(e,t)+Ti(e,n)+Ci(e,i)+Li(e,r)}function Ai(){this.type="Curve",this.arcLengthDivisions=200}function Pi(e,t){Ai.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function ki(){Ai.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Oi(e,t,n,i,r,o,a,s){Ai.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Ii(e){Ai.call(this),this.type="SplineCurve",this.points=e||[]}function Ri(e,t,n,i){Ai.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function Ni(e,t,n){Ai.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function Bi(e){ki.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function ji(e){Bi.call(this,e),this.type="Shape",this.holes=[]}function Fi(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Yi(e){this.type="Font",this.data=e}function zi(e){this.manager=void 0!==e?e:Us}function Ui(e){this.manager=void 0!==e?e:Us}function Hi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Vi(e,t,n){de.call(this),this.type="CubeCamera";var i=new vt(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new s(1,0,0)),this.add(i);var r=new vt(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new s(-1,0,0)),this.add(r);var o=new vt(90,1,e,t);o.up.set(0,0,1),o.lookAt(new s(0,1,0)),this.add(o);var a=new vt(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new s(0,-1,0)),this.add(a);var l=new vt(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new s(0,0,1)),this.add(l);var u=new vt(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new s(0,0,-1)),this.add(u);var c={format:Ha,magFilter:Ca,minFilter:Ca};this.renderTarget=new h(n,n,c),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,s=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,r,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,a,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=s,n.activeCubeFace=5,e.render(t,u,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,o=0;o<6;o++)r.activeCubeFace=o,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function Gi(){de.call(this),this.type="AudioListener",this.context=Js.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Wi(e){de.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Xi(e){Wi.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function qi(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Qi(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Zi(e,t,n){var i=n||Ki.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function Ki(e,t,n){this.path=t,this.parsedPath=n||Ki.parseTrackName(t),this.node=Ki.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ji(){this.uuid=_s.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function $i(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,o=new Array(r),a={endingStart:as,endingEnd:as},s=0;s!==r;++s){var l=i[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=os,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function er(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function tr(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function nr(){Le.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ir(e,t,n,i){this.uuid=_s.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function rr(e,t){this.uuid=_s.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function or(e,t,n){rr.call(this,e,t),this.meshPerAttribute=n||1}function ar(e,t,n){ge.call(this,e,t),this.meshPerAttribute=n||1}function sr(e,t,n,i){this.ray=new Re(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function lr(e,t){return e.distance-t.distance}function ur(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,o=0,a=r.length;o<a;o++)ur(r[o],t,n,!0)}function cr(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function dr(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function hr(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function pr(e){de.call(this),this.material=e,this.render=function(){}}function fr(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Le,u=new Se(2*a*3,3);l.addAttribute("position",u),Nt.call(this,l,new It({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function mr(e,t){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Le,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1;r<32;r++,o++){var a=r/32*Math.PI*2,s=o/32*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Se(i,3));var l=new It({fog:!1});this.cone=new Nt(n,l),this.add(this.cone),this.update()}function gr(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,gr(e.children[n]));return t}function vr(e){for(var t=gr(e),n=new Le,i=[],r=[],o=new Q(0,0,1),a=new Q(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}n.addAttribute("position",new Se(i,3)),n.addAttribute("color",new Se(r,3));var u=new It({vertexColors:Do,depthTest:!1,depthWrite:!1,transparent:!0});Nt.call(this,n,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function yr(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new mn(t,4,2),r=new Oe({wireframe:!0,fog:!1});je.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function _r(e,t){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new It({fog:!1}),i=new Le;i.addAttribute("position",new ge(new Float32Array(15),3)),this.line=new Rt(i,n),this.add(this.line),this.update()}function br(e,t,n){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Jt(t);i.rotateY(.5*Math.PI),this.material=new Oe({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Do);var r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.addAttribute("color",new ge(o,3)),this.add(new je(i,this.material)),this.update()}function wr(e,t,n,i){e=e||10,t=t||10,n=new Q(void 0!==n?n:4473924),i=new Q(void 0!==i?i:8947848);for(var r=t/2,o=e/t,a=e/2,s=[],l=[],u=0,c=0,d=-a;u<=t;u++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var h=u===r?n:i;h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3}var p=new Le;p.addAttribute("position",new Se(s,3)),p.addAttribute("color",new Se(l,3));var f=new It({vertexColors:Do});Nt.call(this,p,f)}function Mr(e,t,n,i,r,o){e=e||10,t=t||16,n=n||8,i=i||64,r=new Q(void 0!==r?r:4473924),o=new Q(void 0!==o?o:8947848);var a,s,l,u,c,d,h,p=[],f=[];for(u=0;u<=t;u++)l=u/t*(2*Math.PI),a=Math.sin(l)*e,s=Math.cos(l)*e,p.push(0,0,0),p.push(a,0,s),h=1&u?r:o,f.push(h.r,h.g,h.b),f.push(h.r,h.g,h.b);for(u=0;u<=n;u++)for(h=1&u?r:o,d=e-e/n*u,c=0;c<i;c++)l=c/i*(2*Math.PI),a=Math.sin(l)*d,s=Math.cos(l)*d,p.push(a,0,s),f.push(h.r,h.g,h.b),l=(c+1)/i*(2*Math.PI),a=Math.sin(l)*d,s=Math.cos(l)*d,p.push(a,0,s),f.push(h.r,h.g,h.b);var m=new Le;m.addAttribute("position",new Se(p,3)),m.addAttribute("color",new Se(f,3));var g=new It({vertexColors:Do});Nt.call(this,m,g)}function xr(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Le,u=new Se(2*a*3,3);l.addAttribute("position",u),Nt.call(this,l,new It({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Sr(e,t,n){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new Le;i.addAttribute("position",new Se([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new It({fog:!1});this.lightPlane=new Rt(i,r),this.add(this.lightPlane),i=new Le,i.addAttribute("position",new Se([0,0,0,0,0,1],3)),this.targetLine=new Rt(i,r),this.add(this.targetLine),this.update()}function Er(e){function t(e,t,i){n(e,i),n(t,i)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var i=new Le,r=new It({color:16777215,vertexColors:Lo}),o=[],a=[],s={},l=new Q(16755200),u=new Q(16711680),c=new Q(43775),d=new Q(16777215),h=new Q(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",u),t("p","n2",u),t("p","n3",u),t("p","n4",u),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",d),t("p","c",h),t("cn1","cn2",h),t("cn3","cn4",h),t("cf1","cf2",h),t("cf3","cf4",h),i.addAttribute("position",new Se(o,3)),i.addAttribute("color",new Se(a,3)),Nt.call(this,i,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Tr(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Le;r.setIndex(new ge(n,1)),r.addAttribute("position",new ge(i,3)),Nt.call(this,r,new It({color:t})),this.matrixAutoUpdate=!1,this.update()}function Cr(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Le;o.setIndex(new ge(i,1)),o.addAttribute("position",new Se(r,3)),Nt.call(this,o,new It({color:n})),this.geometry.computeBoundingSphere()}function Lr(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Le;o.addAttribute("position",new Se(r,3)),o.computeBoundingSphere(),Rt.call(this,o,new It({color:i}));var a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new Le;s.addAttribute("position",new Se(a,3)),s.computeBoundingSphere(),this.add(new je(s,new Oe({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Dr(e,t,n,i,r,o){de.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===$s&&($s=new Le,$s.addAttribute("position",new Se([0,0,0,0,1,0],3)),el=new Sn(0,.5,1,5,1),el.translate(0,-.5,0)),this.position.copy(t),this.line=new Rt($s,new It({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new je(el,new Oe({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}function Ar(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Le;i.addAttribute("position",new Se(t,3)),i.addAttribute("color",new Se(n,3));var r=new It({vertexColors:Do});Nt.call(this,i,r)}function Pr(){function e(e,o,a,s){t=e,n=a,i=-3*e+3*o-2*a-s,r=2*e-2*o+a+s}var t=0,n=0,i=0,r=0;return{initCatmullRom:function(t,n,i,r,o){e(n,i,o*(i-t),o*(r-n))},initNonuniformCatmullRom:function(t,n,i,r,o,a,s){var l=(n-t)/o-(i-t)/(o+a)+(i-n)/a,u=(i-n)/a-(r-n)/(a+s)+(r-i)/s;l*=a,u*=a,e(n,i,l,u)},calc:function(e){var o=e*e;return t+n*e+i*o+r*(o*e)}}}function kr(e,t,n,i){Ai.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Or(e,t,n,i){Ai.call(this),this.type="CubicBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s,this.v3=i||new s}function Ir(e,t,n){Ai.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s}function Rr(e,t){Ai.call(this),this.type="LineCurve3",this.v1=e||new s,this.v2=t||new s}function Nr(e,t,n,i,r,o){Oi.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}function Br(e,t,n,i,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new fe(e,t,n,r,o,a)}function jr(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Fr(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Yr(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ft(e,t)}function zr(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Dt(e)}function Ur(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ft(e,t)}function Hr(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function Vr(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function Gr(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function Wr(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(e,t,n)}function Xr(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new ge(e,t).setDynamic(!0)}function qr(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ve(e,t)}function Qr(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ye(e,t)}function Zr(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new _e(e,t)}function Kr(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new be(e,t)}function Jr(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new we(e,t)}function $r(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Me(e,t)}function eo(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new xe(e,t)}function to(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Se(e,t)}function no(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ee(e,t)}function io(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),kr.call(this,e),this.type="catmullrom",this.closed=!0}function ro(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),kr.call(this,e),this.type="catmullrom"}function oo(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),kr.call(this,e),this.type="catmullrom"}function ao(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ar(e)}function so(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Tr(e,t)}function lo(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Nt(new Mn(e.geometry),new It({color:void 0!==t?t:16777215}))}function uo(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Nt(new Vt(e.geometry),new It({color:void 0!==t?t:16777215}))}function co(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Fn(e)}function ho(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new zn(e)}function po(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function fo(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(t,"__esModule",{value:!0});var mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}}(),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,i=n[e];if(void 0!==i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var i=n.slice(0),r=0,o=i.length;r<o;r++)i[r].call(this,e)}}}});var go="88",vo={LEFT:0,MIDDLE:1,RIGHT:2},yo=0,_o=1,bo=2,wo=0,Mo=1,xo=2,So=0,Eo=1,To=2,Co=0,Lo=1,Do=2,Ao=0,Po=1,ko=2,Oo=3,Io=4,Ro=5,No=100,Bo=101,jo=102,Fo=103,Yo=104,zo=200,Uo=201,Ho=202,Vo=203,Go=204,Wo=205,Xo=206,qo=207,Qo=208,Zo=209,Ko=210,Jo=0,$o=1,ea=2,ta=3,na=4,ia=5,ra=6,oa=7,aa=0,sa=1,la=2,ua=0,ca=1,da=2,ha=3,pa=4,fa=301,ma=302,ga=303,va=304,ya=305,_a=306,ba=307,wa=1e3,Ma=1001,xa=1002,Sa=1003,Ea=1004,Ta=1005,Ca=1006,La=1007,Da=1008,Aa=1009,Pa=1010,ka=1011,Oa=1012,Ia=1013,Ra=1014,Na=1015,Ba=1016,ja=1017,Fa=1018,Ya=1019,za=1020,Ua=1021,Ha=1022,Va=1023,Ga=1024,Wa=1025,Xa=Va,qa=1026,Qa=1027,Za=2001,Ka=2002,Ja=2003,$a=2004,es=2100,ts=2101,ns=2102,is=2103,rs=2151,os=2201,as=2400,ss=0,ls=1,us=2,cs=3e3,ds=3001,hs=3007,ps=3002,fs=3004,ms=3005,gs=3006,vs=3200,ys=3201,_s={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var i="",r=0;r<36;r++)8===r||13===r||18===r||23===r?i+="-":14===r?i+="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,i+=t[19===r?3&e|8:e]);return i}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*_s.DEG2RAD},radToDeg:function(e){return e*_s.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new r,t=new r;return function(n,i){return e.set(n,n),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}}),Object.assign(o.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,o,a,s,l,u,c,d,h,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new o).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new s;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var d=o*u,h=o*c,p=a*u,f=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=h+p*l,t[5]=d-f*l,t[9]=-a*s,t[2]=f-d*l,t[6]=p+h*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,g=s*c,v=l*u,y=l*c;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*u,g=s*c,v=l*u,y=l*c;t[0]=m-y*a,t[4]=-o*c,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*u,t[9]=y-m*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var d=o*u,h=o*c,p=a*u,f=a*c;t[0]=s*u,t[4]=p*l-h,t[8]=d*l+f,t[1]=s*c,t[5]=f*l+d,t[9]=h*l-p,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var _=o*s,b=o*l,w=a*s,M=a*l;t[0]=s*u,t[4]=M-_*c,t[8]=w*c+b,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=b*c+w,t[10]=_-M*c}else if("XZY"===e.order){var _=o*s,b=o*l,w=a*s,M=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=_*c+M,t[5]=o*u,t[9]=b*c-w,t[2]=w*c-b,t[6]=a*u,t[10]=M*c+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,o=e._w,a=n+n,s=i+i,l=r+r,u=n*a,c=n*s,d=n*l,h=i*s,p=i*l,f=r*l,m=o*a,g=o*s,v=o*l;return t[0]=1-(h+f),t[4]=c-v,t[8]=d+g,t[1]=c+v,t[5]=1-(u+f),t[9]=p-m,t[2]=d-g,t[6]=p+m,t[10]=1-(u+h),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new s,t=new s,n=new s;return function(i,r,o){var a=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],w=i[0],M=i[4],x=i[8],S=i[12],E=i[1],T=i[5],C=i[9],L=i[13],D=i[2],A=i[6],P=i[10],k=i[14],O=i[3],I=i[7],R=i[11],N=i[15];return r[0]=o*w+a*E+s*D+l*O,r[4]=o*M+a*T+s*A+l*I,r[8]=o*x+a*C+s*P+l*R,r[12]=o*S+a*L+s*k+l*N,r[1]=u*w+c*E+d*D+h*O,r[5]=u*M+c*T+d*A+h*I,r[9]=u*x+c*C+d*P+h*R,r[13]=u*S+c*L+d*k+h*N,r[2]=p*w+f*E+m*D+g*O,r[6]=p*M+f*T+m*A+g*I,r[10]=p*x+f*C+m*P+g*R,r[14]=p*S+f*L+m*k+g*N,r[3]=v*w+y*E+_*D+b*O,r[7]=v*M+y*T+_*A+b*I,r[11]=v*x+y*C+_*P+b*R,r[15]=v*S+y*L+_*k+b*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+r*s*c-i*l*c-r*a*d+n*l*d+i*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+r*o*d-i*o*h+i*l*u-r*s*u)+e[11]*(+t*l*c-t*a*h-r*o*c+n*o*h+r*a*u-n*l*u)+e[15]*(-i*a*u-t*s*c+t*a*d+i*o*c-n*o*d+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],u=i[5],c=i[6],d=i[7],h=i[8],p=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],_=i[15],b=p*y*d-v*f*d+v*c*m-u*y*m-p*c*_+u*f*_,w=g*f*d-h*y*d-g*c*m+l*y*m+h*c*_-l*f*_,M=h*v*d-g*p*d+g*u*m-l*v*m-h*u*_+l*p*_,x=g*p*c-h*v*c-g*u*f+l*v*f+h*u*y-l*p*y,S=r*b+o*w+a*M+s*x;if(0===S){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var T=1/S;return n[0]=b*T,n[1]=(v*f*s-p*y*s-v*a*m+o*y*m+p*a*_-o*f*_)*T,n[2]=(u*y*s-v*c*s+v*a*d-o*y*d-u*a*_+o*c*_)*T,n[3]=(p*c*s-u*f*s-p*a*d+o*f*d+u*a*m-o*c*m)*T,n[4]=w*T,n[5]=(h*y*s-g*f*s+g*a*m-r*y*m-h*a*_+r*f*_)*T,n[6]=(g*c*s-l*y*s-g*a*d+r*y*d+l*a*_-r*c*_)*T,n[7]=(l*f*s-h*c*s+h*a*d-r*f*d-l*a*m+r*c*m)*T,n[8]=M*T,n[9]=(g*p*s-h*v*s-g*o*m+r*v*m+h*o*_-r*p*_)*T,n[10]=(l*v*s-g*u*s+g*o*d-r*v*d-l*o*_+r*u*_)*T,n[11]=(h*u*s-l*p*s-h*o*d+r*p*d+l*o*m-r*u*m)*T,n[12]=x*T,n[13]=(h*v*a-g*p*a+g*o*f-r*v*f-h*o*y+r*p*y)*T,n[14]=(g*u*a-l*v*a-g*o*c+r*v*c+l*o*y-r*u*y)*T,n[15]=(l*p*a-h*u*a+h*o*c-r*p*c-l*o*f+r*u*f)*T,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,a=e.y,s=e.z,l=r*o,u=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,u*a+n,u*s-i*o,0,l*s-i*a,u*s+i*o,r*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new s,t=new o;return function(n,i,r){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var u=1/a,c=1/s,d=1/l;return t.elements[0]*=u,t.elements[1]*=u,t.elements[2]*=u,t.elements[4]*=c,t.elements[5]*=c,t.elements[6]*=c,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,i.setFromRotationMatrix(t),r.x=a,r.y=s,r.z=l,this}}(),makePerspective:function(e,t,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(t-e),l=2*r/(n-i),u=(t+e)/(t-e),c=(n+i)/(n-i),d=-(o+r)/(o-r),h=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,i,r,o){var a=this.elements,s=1/(t-e),l=1/(n-i),u=1/(o-r),c=(t+e)*s,d=(n+i)*l,h=(o+r)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(a,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,o,a){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],d=r[o+0],h=r[o+1],p=r[o+2],f=r[o+3];if(c!==f||s!==d||l!==h||u!==p){var m=1-a,g=s*d+l*h+u*p+c*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,g*v);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var w=a*v;if(s=s*m+d*w,l=l*m+h*w,u=u*m+p*w,c=c*m+f*w,m===1-a){var M=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=M,l*=M,u*=M,c*=M}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}}),Object.defineProperties(a.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(a.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,o=e.order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(i/2),c=a(r/2),d=s(n/2),h=s(i/2),p=s(r/2);return"XYZ"===o?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"YXZ"===o?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"ZXY"===o?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"ZYX"===o?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"YZX"===o?(this._x=d*u*c+l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c-d*h*p):"XZY"===o&&(this._x=d*u*c-l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c+d*h*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],d=n[10],h=i+s+d;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-l)*t,this._y=(o-u)*t,this._z=(a-r)*t):i>s&&i>d?(t=2*Math.sqrt(1+i-s-d),this._w=(c-l)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(o+u)/t):s>d?(t=2*Math.sqrt(1+s-i-d),this._w=(o-u)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(l+c)/t):(t=2*Math.sqrt(1+d-i-s),this._w=(a-r)/t,this._x=(o+u)/t,this._y=(l+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new s;return function(n,i){return void 0===t&&(t=new s),e=n.dot(i)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+i*l-r*s,this._y=i*u+o*s+r*a-n*l,this._z=r*u+o*l+n*s-i*a,this._w=o*u-n*a-i*s-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(s,a),u=Math.sin((1-t)*l)/s,c=Math.sin(t*l)/s;return this._w=o*u+this._w*c,this._x=n*u+this._x*c,this._y=i*u+this._y*c,this._z=r*u+this._z*c,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new a;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new a;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*n,u=s*n+a*t-r*i,c=s*i+r*n-o*t,d=-r*t-o*n-a*i;return this.x=l*s+d*-r+u*-a-c*-o,this.y=u*s+d*-o+c*-r-l*-a,this.z=c*s+d*-a+l*-o-u*-r,this},project:function(){var e=new o;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new o;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new s,t=new s;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new s;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new s;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(_s.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=r,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],_=i[7],b=i[2],w=i[5],M=i[8];return r[0]=o*f+a*v+s*b,r[3]=o*m+a*y+s*w,r[6]=o*g+a*_+s*M,r[1]=l*f+u*v+c*b,r[4]=l*m+u*y+c*w,r[7]=l*g+u*_+c*M,r[2]=d*f+h*v+p*b,r[5]=d*m+h*y+p*w,r[8]=d*g+h*_+p*M,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*r*u+n*a*s+i*r*l-i*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],h=n[8],p=h*l-u*d,f=u*c-h*s,m=d*s-l*c,g=r*p+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(a*d-h*o)*y,i[2]=(u*o-a*l)*y,i[3]=f*y,i[4]=(h*r-a*c)*y,i[5]=(a*s-u*r)*y,i[6]=m*y,i[7]=(o*c-d*r)*y,i[8]=(l*r-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,o,a){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-i*l,i*s,-i*(-l*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],l=i[4],u=i[7];return i[0]=t*r+n*s,i[3]=t*o+n*l,i[6]=t*a+n*u,i[1]=-n*r+t*s,i[4]=-n*o+t*l,i[7]=-n*a+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var bs=0;u.DEFAULT_IMAGE=void 0,u.DEFAULT_MAPPING=300,Object.defineProperty(u.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(u.prototype,i.prototype,{constructor:u,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=_s.generateUUID()),t||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t.width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wa:e.x=e.x-Math.floor(e.x);break;case Ma:e.x=e.x<0?0:1;break;case xa:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case wa:e.y=e.y-Math.floor(e.y);break;case Ma:e.y=e.y<0?0:1;break;case xa:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(c.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,o=e.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],d=o[9],h=o[2],p=o[6],f=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+h)<.1&&Math.abs(d+p)<.1&&Math.abs(a+c+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(c+1)/2,v=(f+1)/2,y=(s+u)/4,_=(l+h)/4,b=(d+p)/4;return m>g&&m>v?m<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(m),i=y/n,r=_/n):g>v?g<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(g),n=y/i,r=b/i):v<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=_/r,i=b/r),this.set(n,i,r,t),this}var w=Math.sqrt((p-d)*(p-d)+(l-h)*(l-h)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(l-h)/w,this.z=(u-s)/w,this.w=Math.acos((a+c+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new c,t=new c),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(d.prototype,i.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.isWebGLRenderTargetCube=!0,p.prototype=Object.create(u.prototype),p.prototype.constructor=p,p.prototype.isDataTexture=!0,f.prototype=Object.create(u.prototype),f.prototype.constructor=f,f.prototype.isCubeTexture=!0,Object.defineProperty(f.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var ws=new u,Ms=new f,xs=[],Ss=[],Es=new Float32Array(16),Ts=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var o=n[i];o.setValue(e,t[o.id])}};var Cs=/([\w\d_]+)(\])?(\[|\.)?/g;q.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},q.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},q.upload=function(e,t,n,i){for(var r=0,o=t.length;r!==o;++r){var a=t[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,i)}},q.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var o=e[i];o.id in t&&n.push(o)}return n};var Ls={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=_s.euclideanModulo(t,1),n=_s.clamp(n,0,1),i=_s.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=e(o,r,t+1/3),this.g=e(o,r,t),this.b=e(o,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(e&&e.length>0){var u=Ls[e];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,i=e||{h:0,s:0,l:0},r=this.r,o=this.g,a=this.b,s=Math.max(r,o,a),l=Math.min(r,o,a),u=(l+s)/2;if(l===s)t=0,n=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case r:t=(o-a)/c+(o<a?6:0);break;case o:t=(a-r)/c+2;break;case a:t=(r-o)/c+4}t/=6}return i.h=t,i.s=n,i.l=u,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Ds={common:{diffuse:{value:new Q(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}}},As={merge:function(e){for(var t={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i)t[r]=i[r]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}},Ps={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},ks={basic:{uniforms:As.merge([Ds.common,Ds.specularmap,Ds.envmap,Ds.aomap,Ds.lightmap,Ds.fog]),vertexShader:Ps.meshbasic_vert,fragmentShader:Ps.meshbasic_frag},lambert:{uniforms:As.merge([Ds.common,Ds.specularmap,Ds.envmap,Ds.aomap,Ds.lightmap,Ds.emissivemap,Ds.fog,Ds.lights,{emissive:{value:new Q(0)}}]),vertexShader:Ps.meshlambert_vert,fragmentShader:Ps.meshlambert_frag},phong:{uniforms:As.merge([Ds.common,Ds.specularmap,Ds.envmap,Ds.aomap,Ds.lightmap,Ds.emissivemap,Ds.bumpmap,Ds.normalmap,Ds.displacementmap,Ds.gradientmap,Ds.fog,Ds.lights,{emissive:{value:new Q(0)},specular:{value:new Q(1118481)},shininess:{value:30}}]),vertexShader:Ps.meshphong_vert,fragmentShader:Ps.meshphong_frag},standard:{uniforms:As.merge([Ds.common,Ds.envmap,Ds.aomap,Ds.lightmap,Ds.emissivemap,Ds.bumpmap,Ds.normalmap,Ds.displacementmap,Ds.roughnessmap,Ds.metalnessmap,Ds.fog,Ds.lights,{emissive:{value:new Q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ps.meshphysical_vert,fragmentShader:Ps.meshphysical_frag},points:{uniforms:As.merge([Ds.points,Ds.fog]),vertexShader:Ps.points_vert,fragmentShader:Ps.points_frag},dashed:{uniforms:As.merge([Ds.common,Ds.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ps.linedashed_vert,fragmentShader:Ps.linedashed_frag},depth:{uniforms:As.merge([Ds.common,Ds.displacementmap]),vertexShader:Ps.depth_vert,fragmentShader:Ps.depth_frag},normal:{uniforms:As.merge([Ds.common,Ds.bumpmap,Ds.normalmap,Ds.displacementmap,{opacity:{value:1}}]),vertexShader:Ps.normal_vert,fragmentShader:Ps.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ps.cube_vert,fragmentShader:Ps.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ps.equirect_vert,fragmentShader:Ps.equirect_frag},distanceRGBA:{uniforms:As.merge([Ds.common,Ds.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ps.distanceRGBA_vert,fragmentShader:Ps.distanceRGBA_frag},shadow:{uniforms:As.merge([Ds.lights,Ds.fog,{color:{value:new Q(0)},opacity:{value:1}}]),vertexShader:Ps.shadow_vert,fragmentShader:Ps.shadow_frag}};ks.physical={uniforms:As.merge([ks.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ps.meshphysical_vert,fragmentShader:Ps.meshphysical_frag},Object.assign(Z.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new r).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new r).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),J.prototype=Object.create(u.prototype),J.prototype.constructor=J;var Os=0;Object.assign(ee.prototype,i.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Po&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==So&&(i.side=this.side),this.vertexColors!==Co&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=t(e.textures),o=t(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.prototype.isMeshDepthMaterial=!0,te.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ne.prototype=Object.create(ee.prototype),ne.prototype.constructor=ne,ne.prototype.isMeshDistanceMaterial=!0,ne.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(ie.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],d=e[s+2];u<t&&(t=u),c<n&&(n=c),d<i&&(i=d),u>r&&(r=u),c>o&&(o=c),d>a&&(a=d)}return this.min.set(t,n,i),this.max.set(r,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),d=e.getZ(s);u<t&&(t=u),c<n&&(n=c),d<i&&(i=d),u>r&&(r=u),c>o&&(o=c),d>a&&(a=d)}return this.min.set(t,n,i),this.max.set(r,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new s;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new s;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new s;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,i=a.length;n<i;n++)r.copy(a[n]),r.applyMatrix4(e.matrixWorld),t.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)r.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),t.expandByPoint(r)}}var t,n,i,r=new s;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new s).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new s;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new s).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new s;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new s;return function(t){var n=t||new re;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new s,new s,new s,new s,new s,new s,new s,new s];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(re.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new ie;return function(t,n){var i=this.center;void 0!==n?i.copy(n):e.setFromPoints(t).getCenter(i);for(var r=0,o=0,a=t.length;o<a;o++)r=Math.max(r,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),i=t||new s;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new ie;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(oe.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new s,t=new s;return function(n,i,r){var o=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new s).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new s;return function(t,n){var i=n||new s,r=t.delta(e),o=this.normal.dot(r);if(0!==o){var a=-(t.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return i.copy(r).multiplyScalar(a).add(t.start)}else if(0===this.distanceToPoint(t.start))return i.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new s).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new s,t=new l;return function(n,i){var r=i||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ae.prototype,{set:function(e,t,n,i,r,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-i,c-s,f-d,y-m).normalize(),t[1].setComponents(a+i,c+s,f+d,y+m).normalize(),t[2].setComponents(a+r,c+l,f+h,y+g).normalize(),t[3].setComponents(a-r,c-l,f-h,y-g).normalize(),t[4].setComponents(a-o,c-u,f-p,y-v).normalize(),t[5].setComponents(a+o,c+u,f+p,y+v).normalize(),this},intersectsObject:function(){var e=new re;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new re;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(){var e=new s,t=new s;return function(n){for(var i=this.planes,r=0;r<6;r++){var o=i[r];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),ue.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ue.DefaultOrder="XYZ",Object.defineProperties(ue.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ue.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=_s.clamp,r=e.elements,o=r[0],a=r[4],s=r[8],l=r[1],u=r[5],c=r[9],d=r[2],h=r[6],p=r[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===t?(this._y=Math.asin(-i(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new o;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new a;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(ce.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Is=0;de.DefaultUp=new s(0,1,0),de.DefaultMatrixAutoUpdate=!0,Object.assign(de.prototype,i.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new s(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new s(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new s(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new s;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new s(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new s(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new s(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new o;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new o,t=new s;return function(n,i,r){n.isVector3?t.copy(n):t.set(n,i,r),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],o=r.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new s;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new s,t=new s;return function(n){var i=n||new a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,t),i}}(),getWorldRotation:function(){var e=new a;return function(t){var n=t||new ue;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new s,t=new a;return function(n){var i=n||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(){var e=new a;return function(t){var n=t||new s;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,l=this.material.length;s<l;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object)}if(i){var u=n(e.geometries),c=n(e.materials),d=n(e.textures),h=n(e.images);u.length>0&&(r.geometries=u),c.length>0&&(r.materials=c),d.length>0&&(r.textures=d),h.length>0&&(r.images=h)}return r.object=o,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),he.prototype=Object.assign(Object.create(de.prototype),{constructor:he,isCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new a;return function(t){var n=t||new s;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){de.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),pe.prototype=Object.assign(Object.create(he.prototype),{constructor:pe,isOrthographicCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,a=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;r+=c*(this.view.offsetX/l),o=r+c*(this.view.width/l),a-=d*(this.view.offsetY/u),s=a-d*(this.view.height/u)}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far)},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(fe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Rs=0;Object.assign(me.prototype,i.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new l).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(var n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new de;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,r){var o=void 0!==l?[h[e].clone(),h[t].clone(),h[i].clone()]:[],a=void 0!==u?[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()]:[],s=new fe(e,t,i,o,a,r);n.faces.push(s),void 0!==c&&n.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==d&&n.faceVertexUvs[1].push([f[e].clone(),f[t].clone(),f[i].clone()])}var n=this,i=null!==e.index?e.index.array:void 0,o=e.attributes,a=o.position.array,l=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,d=void 0!==o.uv2?o.uv2.array:void 0;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var h=[],p=[],f=[],m=0,g=0;m<a.length;m+=3,g+=2)n.vertices.push(new s(a[m],a[m+1],a[m+2])),void 0!==l&&h.push(new s(l[m],l[m+1],l[m+2])),void 0!==u&&n.colors.push(new Q(u[m],u[m+1],u[m+2])),void 0!==c&&p.push(new r(c[g],c[g+1])),void 0!==d&&f.push(new r(d[g],d[g+1]));var v=e.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],_=y.start,b=y.count,g=_,w=_+b;g<w;g+=3)void 0!==i?t(i[g],i[g+1],i[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==i)for(var m=0;m<i.length;m+=3)t(i[m],i[m+1],i[m+2]);else for(var m=0;m<a.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new o;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new s,t=new s,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],l=this.vertices[r.c];e.subVectors(l,a),t.subVectors(o,a),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,i,r,o,a;for(a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new s;if(e){var l,u,c,d=new s,h=new s;for(i=0,r=this.faces.length;i<r;i++)o=this.faces[i],l=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],d.subVectors(c,u),h.subVectors(l,u),d.cross(h),a[o.a].add(d),a[o.b].add(d),a[o.c].add(d)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o=this.faces[i],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(i=0,r=this.faces.length;i<r;i++){o=this.faces[i];var p=o.vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var o=new me;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a,l,u=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)a=new s,l={a:new s,b:new s,c:new s},u.push(a),c.push(l)}var d=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,l;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],a=d.faceNormals[n],l=d.vertexNormals[n],a.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,i=t.length;n<i;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ie),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new re),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var i,r=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],d=e.faceVertexUvs[0],h=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new l).getNormalMatrix(t));for(var f=0,m=a.length;f<m;f++){var g=a[f],v=g.clone();void 0!==t&&v.applyMatrix4(t),o.push(v)}for(var f=0,m=p.length;f<m;f++)h.push(p[f].clone());for(f=0,m=u.length;f<m;f++){var y,_,b,w=u[f],M=w.vertexNormals,x=w.vertexColors;y=new fe(w.a+r,w.b+r,w.c+r),y.normal.copy(w.normal),void 0!==i&&y.normal.applyMatrix3(i).normalize();for(var S=0,E=M.length;S<E;S++)_=M[S].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),y.vertexNormals.push(_);y.color.copy(w.color);for(var S=0,E=x.length;S<E;S++)b=x[S],y.vertexColors.push(b.clone());y.materialIndex=w.materialIndex+n,s.push(y)}for(f=0,m=d.length;f<m;f++){var T=d[f],C=[];if(void 0!==T){for(var S=0,E=T.length;S<E;S++)C.push(T[S].clone());c.push(C)}}},mergeMesh:function(e){if(!e||!e.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e,t,n,i,r,o,a,s,l={},u=[],c=[],d=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d),void 0===l[t]?(l[t]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[t]];var h=[];for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n],r.a=c[r.a],r.b=c[r.b],r.c=c[r.c],o=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var f=h[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new s(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,i=0;i<n;i++)t[i]._id=i;t.sort(e);var r,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(r=[]),s&&s.length===n&&(o=[]);for(var i=0;i<n;i++){var l=t[i]._id;r&&r.push(a[l]),o&&o.push(s[l])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==h[t]?h[t]:(h[t]=d.length/3,d.push(e.x,e.y,e.z),h[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==f[t]?f[t]:(f[t]=p.length,p.push(e.getHex()),f[t])}function i(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(r[a]=o[a]);return r}for(var s=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];s.push(u.x,u.y,u.z)}for(var c=[],d=[],h={},p=[],f={},m=[],g={},l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],_=v.normal.length()>0,b=v.vertexNormals.length>0,w=1!==v.color.r||1!==v.color.g||1!==v.color.b,M=v.vertexColors.length>0,x=0;if(x=e(x,0,0),x=e(x,1,!0),x=e(x,2,!1),x=e(x,3,y),x=e(x,4,_),x=e(x,5,b),x=e(x,6,w),x=e(x,7,M),c.push(x),c.push(v.a,v.b,v.c),c.push(v.materialIndex),y){var S=this.faceVertexUvs[0][l];c.push(i(S[0]),i(S[1]),i(S[2]))}if(_&&c.push(t(v.normal)),b){var E=v.vertexNormals;c.push(t(E[0]),t(E[1]),t(E[2]))}if(w&&c.push(n(v.color)),M){var T=v.vertexColors;c.push(n(T[0]),n(T[1]),n(T[2]))}}return r.data={},r.data.vertices=s,r.data.normals=d,p.length>0&&(r.data.colors=p),m.length>0&&(r.data.uvs=[m]),r.data.faces=c,r},clone:function(){return(new me).copy(this)},copy:function(e){var t,n,i,r,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var u=e.faces;for(t=0,n=u.length;t<n;t++)this.faces.push(u[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=c.length;i<r;i++){var d=c[i],h=[];for(o=0,a=d.length;o<a;o++){var p=d[o];h.push(p.clone())}this.faceVertexUvs[t].push(h)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],i=0,r=f[t].vertices.length;i<r;i++)m.vertices.push(f[t].vertices[i].clone());if(void 0!==f[t].normals)for(m.normals=[],i=0,r=f[t].normals.length;i<r;i++)m.normals.push(f[t].normals[i].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var y=g[t].vertexNormals[i],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),v.vertexNormals.push(_)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)v.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(v)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var M=e.lineDistances;for(t=0,n=M.length;t<n;t++)this.lineDistances.push(M[t]);var x=e.boundingBox;null!==x&&(this.boundingBox=x.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ge.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ge.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Q),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,o=e.length;i<o;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new r),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new s),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new c),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),ve.prototype=Object.create(ge.prototype),ve.prototype.constructor=ve,ye.prototype=Object.create(ge.prototype),ye.prototype.constructor=ye,_e.prototype=Object.create(ge.prototype),_e.prototype.constructor=_e,be.prototype=Object.create(ge.prototype),be.prototype.constructor=be,we.prototype=Object.create(ge.prototype),we.prototype.constructor=we,Me.prototype=Object.create(ge.prototype),Me.prototype.constructor=Me,xe.prototype=Object.create(ge.prototype),xe.prototype.constructor=xe,Se.prototype=Object.create(ge.prototype),Se.prototype.constructor=Se,Ee.prototype=Object.create(ge.prototype),Ee.prototype.constructor=Ee,Object.assign(Te.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:i})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,o=e.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,l=e.morphTargets,u=l.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]=[];this.morphTargets.position=t}var d,h=e.morphNormals,p=h.length;if(p>0){d=[];for(var c=0;c<p;c++)d[c]=[];this.morphTargets.normal=d}for(var f=e.skinIndices,m=e.skinWeights,g=f.length===i.length,v=m.length===i.length,c=0;c<n.length;c++){var y=n[c];this.vertices.push(i[y.a],i[y.b],i[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var b=y.normal;this.normals.push(b,b,b)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var M=y.color;this.colors.push(M,M,M)}if(!0===a){var x=o[0][c];void 0!==x?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new r,new r,new r))}if(!0===s){var x=o[1][c];void 0!==x?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new r,new r,new r))}for(var S=0;S<u;S++){var E=l[S].vertices;t[S].push(E[y.a],E[y.b],E[y.c])}for(var S=0;S<p;S++){var T=h[S].vertexNormals[c];d[S].push(T.a,T.b,T.c)}g&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Ns=1;Object.assign(Le.prototype,i.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ce(e)>65535?xe:we)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new ge(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;return void 0!==n&&((new l).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new de;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Se(3*t.vertices.length,3),i=new Se(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Se(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new Se(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var i;return!0===t.verticesNeedUpdate&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Te).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new ge(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new ge(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new ge(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new ge(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new ge(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var a=Ce(e.indices)>65535?Uint32Array:Uint16Array,s=new a(3*e.indices.length);this.setIndex(new ge(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var l in e.morphTargets){for(var u=[],c=e.morphTargets[l],d=0,h=c.length;d<h;d++){var p=c[d],f=new Se(3*p.length,3);u.push(f.copyVector3sArray(p))}this.morphAttributes[l]=u}if(e.skinIndices.length>0){var m=new Se(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new Se(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ie);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new ie,t=new s;return function(){null===this.boundingSphere&&(this.boundingSphere=new re);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new ge(new Float32Array(i.length),3));else for(var r=t.normal.array,o=0,a=r.length;o<a;o++)r[o]=0;var l,u,c,d=t.normal.array,h=new s,p=new s,f=new s,m=new s,g=new s;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,_=n.length;y<_;++y)for(var b=n[y],w=b.start,M=b.count,o=w,a=w+M;o<a;o+=3)l=3*v[o+0],u=3*v[o+1],c=3*v[o+2],h.fromArray(i,l),p.fromArray(i,u),f.fromArray(i,c),m.subVectors(f,p),g.subVectors(h,p),m.cross(g),d[l]+=m.x,d[l+1]+=m.y,d[l+2]+=m.z,d[u]+=m.x,d[u+1]+=m.y,d[u+2]+=m.z,d[c]+=m.x,d[c+1]+=m.y,d[c+2]+=m.z}else for(var o=0,a=i.length;o<a;o+=9)h.fromArray(i,o),p.fromArray(i,o+3),f.fromArray(i,o+6),m.subVectors(f,p),g.subVectors(h,p),m.cross(g),d[o]=m.x,d[o+1]=m.y,d[o+2]=m.z,d[o+3]=m.x,d[o+4]=m.y,d[o+5]=m.z,d[o+6]=m.x,d[o+7]=m.y,d[o+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i],o=r.array,a=e.attributes[i],s=a.array,l=a.itemSize,u=0,c=l*t;u<s.length;u++,c++)o[c]=s[u];return this},normalizeNormals:function(){var e=new s;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Le,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],o=r.array,a=r.itemSize,s=new o.constructor(t.length*a),l=0,u=0,c=0,d=t.length;c<d;c++){l=t[c]*a;for(var h=0;h<a;h++)s[u++]=o[l++]}e.addAttribute(i,new ge(s,a))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var o=this.attributes;for(var n in o){var a=o[n],r=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:r,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new Le).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var l=[],u=s[t];for(n=0,i=u.length;n<i;n++)l.push(u[n].clone());this.morphAttributes[t]=l}var c=e.groups;for(n=0,i=c.length;n<i;n++){var d=c[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),De.prototype=Object.create(me.prototype),De.prototype.constructor=De,Ae.prototype=Object.create(Le.prototype),Ae.prototype.constructor=Ae,Pe.prototype=Object.create(me.prototype),Pe.prototype.constructor=Pe,ke.prototype=Object.create(Le.prototype),ke.prototype.constructor=ke,Oe.prototype=Object.create(ee.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isMeshBasicMaterial=!0,Oe.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Ie.prototype=Object.create(ee.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isShaderMaterial=!0,Ie.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=As.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ie.prototype.toJSON=function(e){var t=ee.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Re.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new s).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new s;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new s;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new s;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new s,t=new s,n=new s;return function(i,r,o,a){e.copy(i).add(r).multiplyScalar(.5),t.copy(r).sub(i).normalize(),n.copy(this.origin).sub(e);var s,l,u,c,d=.5*i.distanceTo(r),h=-this.direction.dot(t),p=n.dot(this.direction),f=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-h*h);if(g>0)if(s=h*f-p,l=h*p-f,c=d*g,s>=0)if(l>=-c)if(l<=c){var v=1/g;s*=v,l*=v,u=s*(s+h*l+2*p)+l*(h*s+l+2*f)+m}else l=d,s=Math.max(0,-(h*l+p)),u=-s*s+l*(l+2*f)+m;else l=-d,s=Math.max(0,-(h*l+p)),u=-s*s+l*(l+2*f)+m;else l<=-c?(s=Math.max(0,-(-h*d+p)),l=s>0?-d:Math.min(Math.max(-d,-f),d),u=-s*s+l*(l+2*f)+m):l<=c?(s=0,l=Math.min(Math.max(-d,-f),d),u=l*(l+2*f)+m):(s=Math.max(0,-(h*d+p)),l=s>0?d:Math.min(Math.max(-d,-f),d),u=-s*s+l*(l+2*f)+m);else l=h>0?-d:d,s=Math.max(0,-(h*l+p)),u=-s*s+l*(l+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(l).add(e),u}}(),intersectSphere:function(){var e=new s;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,o=t.radius*t.radius;if(r>o)return null;var a=Math.sqrt(o-r),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),u>=0?(r=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(r=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),n>o||r>i?null:((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),c>=0?(a=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(a=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||a>i?null:((a>n||n!==n)&&(n=a),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(){var e=new s;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new s,t=new s,n=new s,i=new s;return function(r,o,a,s,l){t.subVectors(o,r),n.subVectors(a,r),i.crossVectors(t,n);var u,c=this.direction.dot(i);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}e.subVectors(this.origin,r);var d=u*this.direction.dot(n.crossVectors(e,n));if(d<0)return null;var h=u*this.direction.dot(t.cross(e));if(h<0)return null;if(d+h>c)return null;var p=-u*e.dot(i);return p<0?null:this.at(p/c,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Ne.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new s).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new s).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new s;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new s,t=new s;return function(n,i){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),o=t.dot(e),a=o/r;return i&&(a=_s.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t),r=n||new s;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Be,{normal:function(){var e=new s;return function(t,n,i,r){var o=r||new s;o.subVectors(i,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new s,t=new s,n=new s;return function(i,r,o,a,l){e.subVectors(a,r),t.subVectors(o,r),n.subVectors(i,r);var u=e.dot(e),c=e.dot(t),d=e.dot(n),h=t.dot(t),p=t.dot(n),f=u*h-c*c,m=l||new s;if(0===f)return m.set(-2,-1,-1);var g=1/f,v=(h*d-c*p)*g,y=(u*p-c*d)*g;return m.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new s;return function(t,n,i,r){var o=Be.barycoordFromPoint(t,n,i,r,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}()}),Object.assign(Be.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new s,t=new s;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new s).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Be.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new oe).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Be.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Be.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new oe,t=[new Ne,new Ne,new Ne],n=new s,i=new s;return function(r,o){var a=o||new s,l=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,n),!0===this.containsPoint(n))a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(n,!0,i);var c=n.distanceToSquared(i);c<l&&(l=c,a.copy(i))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),je.prototype=Object.assign(Object.create(de.prototype),{constructor:je,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return de.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var a=r[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,i,r,o,a){return Be.barycoordFromPoint(e,t,n,i,y),r.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),r.add(o).add(a),r.clone()}function t(e,t,n,i,r,o,a,s){if(null===(t.side===Eo?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,t.side!==To,s)))return null;b.copy(s),b.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(b);return l<n.near||l>n.far?null:{distance:l,point:b.clone(),object:e}}function n(n,i,r,o,a,s,l,h){u.fromBufferAttribute(o,s),c.fromBufferAttribute(o,l),d.fromBufferAttribute(o,h);var p=t(n,n.material,i,r,u,c,d,_);return p&&(a&&(m.fromBufferAttribute(a,s),g.fromBufferAttribute(a,l),v.fromBufferAttribute(a,h),p.uv=e(_,u,c,d,m,g,v)),p.face=new fe(s,l,h,Be.normal(u,c,d)),p.faceIndex=s),p}var i=new o,a=new Re,l=new re,u=new s,c=new s,d=new s,h=new s,p=new s,f=new s,m=new r,g=new r,v=new r,y=new s,_=new s,b=new s;return function(r,o){var s=this.geometry,y=this.material,b=this.matrixWorld;if(void 0!==y&&(null===s.boundingSphere&&s.computeBoundingSphere(),l.copy(s.boundingSphere),l.applyMatrix4(b),!1!==r.ray.intersectsSphere(l)&&(i.getInverse(b),a.copy(r.ray).applyMatrix4(i),null===s.boundingBox||!1!==a.intersectsBox(s.boundingBox)))){var w;if(s.isBufferGeometry){var M,x,S,E,T,C=s.index,L=s.attributes.position,D=s.attributes.uv;if(null!==C)for(E=0,T=C.count;E<T;E+=3)M=C.getX(E),x=C.getX(E+1),S=C.getX(E+2),(w=n(this,r,a,L,D,M,x,S))&&(w.faceIndex=Math.floor(E/3),o.push(w));else if(void 0!==L)for(E=0,T=L.count;E<T;E+=3)M=E,x=E+1,S=E+2,(w=n(this,r,a,L,D,M,x,S))&&(w.index=M,o.push(w))}else if(s.isGeometry){var A,P,k,O,I=Array.isArray(y),R=s.vertices,N=s.faces,B=s.faceVertexUvs[0];B.length>0&&(O=B);for(var j=0,F=N.length;j<F;j++){var Y=N[j],z=I?y[Y.materialIndex]:y;if(void 0!==z){if(A=R[Y.a],P=R[Y.b],k=R[Y.c],!0===z.morphTargets){var U=s.morphTargets,H=this.morphTargetInfluences;u.set(0,0,0),c.set(0,0,0),d.set(0,0,0);for(var V=0,G=U.length;V<G;V++){var W=H[V];if(0!==W){var X=U[V].vertices;u.addScaledVector(h.subVectors(X[Y.a],A),W),c.addScaledVector(p.subVectors(X[Y.b],P),W),d.addScaledVector(f.subVectors(X[Y.c],k),W)}}u.add(A),c.add(P),d.add(k),A=u,P=c,k=d}if(w=t(this,z,r,a,A,P,k,_)){if(O&&O[j]){var q=O[j];m.copy(q[0]),g.copy(q[1]),v.copy(q[2]),w.uv=e(_,A,P,k,m,g,v)}w.face=Y,w.faceIndex=j,o.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Bs=0;vt.prototype=Object.assign(Object.create(he.prototype),{constructor:vt,isPerspectiveCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*_s.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*_s.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*_s.RAD2DEG*Math.atan(Math.tan(.5*_s.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*_s.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),yt.prototype=Object.assign(Object.create(vt.prototype),{constructor:yt,isArrayCamera:!0}),St.prototype.isFogExp2=!0,St.prototype.clone=function(){return new St(this.color.getHex(),this.density)},St.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Et.prototype.isFog=!0,Et.prototype.clone=function(){return new Et(this.color.getHex(),this.near,this.far)},Et.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Tt.prototype=Object.assign(Object.create(de.prototype),{constructor:Tt,copy:function(e,t){return de.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Ct.prototype=Object.assign(Object.create(de.prototype),{constructor:Ct,isLensFlare:!0,copy:function(e){de.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,i,r,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=new Q(16777215)),void 0===i&&(i=Po),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:r,blending:i})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<n;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),Lt.prototype=Object.create(ee.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isSpriteMaterial=!0,Lt.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Dt.prototype=Object.assign(Object.create(de.prototype),{constructor:Dt,isSprite:!0,raycast:function(){var e=new s,t=new s,n=new s;return function(i,r){t.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(t.distanceToSquared(e)>o)){var a=i.ray.origin.distanceTo(e);a<i.near||a>i.far||r.push({distance:a,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),At.prototype=Object.assign(Object.create(de.prototype),{constructor:At,copy:function(e){de.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new s;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var e=new s,t=new s;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var o=1,a=i.length;o<a&&r>=i[o].distance;o++)i[o-1].object.visible=!1,i[o].object.visible=!0;for(;o<a;o++)i[o].object.visible=!1}}}(),toJSON:function(e){var t=de.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(Pt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new o;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new o,t=new o;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var l=n[a]?n[a].matrixWorld:t;e.multiplyMatrices(l,i[a]),e.toArray(r,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Pt(this.bones,this.boneInverses)}}),kt.prototype=Object.assign(Object.create(de.prototype),{constructor:kt,isBone:!0}),Ot.prototype=Object.assign(Object.create(je.prototype),{constructor:Ot,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new kt,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],-1!==t.parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];e=1/n.manhattanLength(),e!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new c,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++)i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t),e=1/i.manhattanLength(),e!==1/0?i.multiplyScalar(e):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(e){je.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),It.prototype=Object.create(ee.prototype),It.prototype.constructor=It,It.prototype.isLineBasicMaterial=!0,It.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Rt.prototype=Object.assign(Object.create(de.prototype),{constructor:Rt,isLine:!0,raycast:function(){var e=new o,t=new Re,n=new re;return function(i,r){var o=i.linePrecision,a=o*o,l=this.geometry,u=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),!1!==i.ray.intersectsSphere(n)){e.getInverse(u),t.copy(i.ray).applyMatrix4(e);var c=new s,d=new s,h=new s,p=new s,f=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var m=l.index,g=l.attributes,v=g.position.array;if(null!==m)for(var y=m.array,_=0,b=y.length-1;_<b;_+=f){var w=y[_],M=y[_+1];c.fromArray(v,3*w),d.fromArray(v,3*M);var x=t.distanceSqToSegment(c,d,p,h);if(!(x>a)){p.applyMatrix4(this.matrixWorld);var S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,b=v.length/3-1;_<b;_+=f){c.fromArray(v,3*_),d.fromArray(v,3*_+3);var x=t.distanceSqToSegment(c,d,p,h);if(!(x>a)){p.applyMatrix4(this.matrixWorld);var S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry)for(var E=l.vertices,T=E.length,_=0;_<T-1;_+=f){var x=t.distanceSqToSegment(E[_],E[_+1],p,h);if(!(x>a)){p.applyMatrix4(this.matrixWorld);var S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Nt.prototype=Object.assign(Object.create(Rt.prototype),{constructor:Nt,isLineSegments:!0}),Bt.prototype=Object.assign(Object.create(Rt.prototype),{constructor:Bt,isLineLoop:!0}),jt.prototype=Object.create(ee.prototype),jt.prototype.constructor=jt,jt.prototype.isPointsMaterial=!0,jt.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Ft.prototype=Object.assign(Object.create(de.prototype),{constructor:Ft,isPoints:!0,raycast:function(){var e=new o,t=new Re,n=new re;return function(i,r){function o(e,n){var o=t.distanceSqToPoint(e);if(o<h){var s=t.closestPointToPoint(e);s.applyMatrix4(u);var l=i.ray.origin.distanceTo(s);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,l=this.geometry,u=this.matrixWorld,c=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),n.radius+=c,!1!==i.ray.intersectsSphere(n)){e.getInverse(u),t.copy(i.ray).applyMatrix4(e);var d=c/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,p=new s;if(l.isBufferGeometry){var f=l.index,m=l.attributes,g=m.position.array;if(null!==f)for(var v=f.array,y=0,_=v.length;y<_;y++){var b=v[y];p.fromArray(g,3*b),o(p,b)}else for(var y=0,w=g.length/3;y<w;y++)p.fromArray(g,3*y),o(p,y)}else for(var M=l.vertices,y=0,w=M.length;y<w;y++)o(M[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Yt.prototype=Object.assign(Object.create(de.prototype),{constructor:Yt}),zt.prototype=Object.create(u.prototype),zt.prototype.constructor=zt,Ut.prototype=Object.create(u.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isCompressedTexture=!0,Ht.prototype=Object.create(u.prototype),Ht.prototype.constructor=Ht,Ht.prototype.isDepthTexture=!0,Vt.prototype=Object.create(Le.prototype),Vt.prototype.constructor=Vt,Gt.prototype=Object.create(me.prototype),Gt.prototype.constructor=Gt,Wt.prototype=Object.create(Le.prototype),Wt.prototype.constructor=Wt,Xt.prototype=Object.create(me.prototype),Xt.prototype.constructor=Xt,qt.prototype=Object.create(Le.prototype),qt.prototype.constructor=qt,Qt.prototype=Object.create(me.prototype),Qt.prototype.constructor=Qt,Zt.prototype=Object.create(qt.prototype),Zt.prototype.constructor=Zt,Kt.prototype=Object.create(me.prototype),Kt.prototype.constructor=Kt,Jt.prototype=Object.create(qt.prototype),Jt.prototype.constructor=Jt,$t.prototype=Object.create(me.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(qt.prototype),en.prototype.constructor=en,tn.prototype=Object.create(me.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(qt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(me.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Le.prototype),on.prototype.constructor=on,an.prototype=Object.create(me.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Le.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(me.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(Le.prototype),un.prototype.constructor=un;var js={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},triangulate:function(){function e(e,t,n,i,r,o){var a,s,l,u,c,d,h,p,f;if(s=e[o[t]].x,l=e[o[t]].y,u=e[o[n]].x,c=e[o[n]].y,d=e[o[i]].x,h=e[o[i]].y,(u-s)*(h-l)-(c-l)*(d-s)<=0)return!1;var m,g,v,y,_,b,w,M,x,S,E,T,C,L,D;for(m=d-u,g=h-c,v=s-d,y=l-h,_=u-s,b=c-l,a=0;a<r;a++)if(p=e[o[a]].x,f=e[o[a]].y,!(p===s&&f===l||p===u&&f===c||p===d&&f===h)&&(w=p-s,M=f-l,x=p-u,S=f-c,E=p-d,T=f-h,D=m*S-g*x,C=_*M-b*w,L=v*T-y*E,D>=-Number.EPSILON&&L>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,n){var i=t.length;if(i<3)return null;var r,o,a,s=[],l=[],u=[];if(js.area(t)>0)for(o=0;o<i;o++)l[o]=o;else for(o=0;o<i;o++)l[o]=i-1-o;var c=i,d=2*c;for(o=c-1;c>2;){if(d--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?u:s;if(r=o,c<=r&&(r=0),o=r+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),e(t,r,o,a,c,l)){var h,p,f,m,g;for(h=l[r],p=l[o],f=l[a],s.push([t[h],t[p],t[f]]),u.push([l[r],l[o],l[a]]),m=o,g=o+1;g<c;m++,g++)l[m]=l[g];c--,d=2*c}}return n?u:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function i(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function r(e,t,n,r,o){var a=t.x-e.x,s=t.y-e.y,l=r.x-n.x,u=r.y-n.y,c=e.x-n.x,d=e.y-n.y,h=s*l-a*u,p=s*c-a*d;if(Math.abs(h)>Number.EPSILON){var f;if(h>0){if(p<0||p>h)return[];if((f=u*c-l*d)<0||f>h)return[]}else{if(p>0||p<h)return[];if((f=u*c-l*d)>0||f<h)return[]}if(0===f)return!o||0!==p&&p!==h?[e]:[];if(f===h)return!o||0!==p&&p!==h?[t]:[];if(0===p)return[n];if(p===h)return[r];var m=f/h;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==p||u*c!=l*d)return[];var g=0===a&&0===s,v=0===l&&0===u;if(g&&v)return e.x!==n.x||e.y!==n.y?[]:[e];if(g)return i(n,r,e)?[e]:[];if(v)return i(e,t,n)?[n]:[];var y,_,b,w,M,x,S,E;return 0!==a?(e.x<t.x?(y=e,b=e.x,_=t,w=t.x):(y=t,b=t.x,_=e,w=e.x),n.x<r.x?(M=n,S=n.x,x=r,E=r.x):(M=r,S=r.x,x=n,E=n.x)):(e.y<t.y?(y=e,b=e.y,_=t,w=t.y):(y=t,b=t.y,_=e,w=e.y),n.y<r.y?(M=n,S=n.y,x=r,E=r.y):(M=r,S=r.y,x=n,E=n.y)),b<=S?w<S?[]:w===S?o?[]:[M]:w<=E?[M,_]:[M,x]:b>E?[]:b===E?o?[]:[y]:w<=E?[y,_]:[y,x]}function o(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,l=i.x-e.x,u=i.y-e.y,c=r*s-o*a,d=r*u-o*l;if(Math.abs(c)>Number.EPSILON){var h=l*s-u*a;return c>0?d>=0&&h>=0:d>=0||h>=0}return d>0}n(e),t.forEach(n);for(var a,s,l,u,c,d,h={},p=e.concat(),f=0,m=t.length;f<m;f++)Array.prototype.push.apply(p,t[f]);for(a=0,s=p.length;a<s;a++)c=p[a].x+":"+p[a].y,void 0!==h[c]&&console.warn("THREE.ShapeUtils: Duplicate point",c,a),h[c]=a;var g=function(e,t){for(var n,i,a,s,l,u,c,d,h,p,f,m=e.concat(),g=[],v=[],y=0,_=t.length;y<_;y++)g.push(y);for(var b=0,w=2*g.length;g.length>0;){if(--w<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(a=b;a<m.length;a++){s=m[a],i=-1;for(var y=0;y<g.length;y++)if(u=g[y],c=s.x+":"+s.y+":"+u,void 0===v[c]){n=t[u];for(var M=0;M<n.length;M++)if(l=n[M],function(e,t){var i=m.length-1,r=e-1;r<0&&(r=i);var a=e+1;a>i&&(a=0);var s=o(m[e],m[r],m[a],n[t]);if(!s)return!1;var l=n.length-1,u=t-1;u<0&&(u=l);var c=t+1;return c>l&&(c=0),!!(s=o(n[t],n[u],n[c],m[e]))}(a,M)&&!function(e,t){var n,i,o;for(n=0;n<m.length;n++)if(i=n+1,i%=m.length,o=r(e,t,m[n],m[i],!0),o.length>0)return!0;return!1}(s,l)&&!function(e,n){var i,o,a,s,l;for(i=0;i<g.length;i++)for(o=t[g[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,l=r(e,n,o[a],o[s],!0),l.length>0)return!0;return!1}(s,l)){i=M,g.splice(y,1),d=m.slice(0,a+1),h=m.slice(a),p=n.slice(i),f=n.slice(0,i+1),m=d.concat(p).concat(f).concat(h),b=a;break}if(i>=0)break;v[c]=!0}if(i>=0)break}}return m}(e,t),v=js.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(u=v[a],l=0;l<3;l++)c=u[l].x+":"+u[l].y,void 0!==(d=h[c])&&(u[l]=d);return v.concat()},isClockWise:function(e){return js.area(e)<0}};cn.prototype=Object.create(me.prototype),cn.prototype.constructor=cn,dn.prototype=Object.create(Le.prototype),dn.prototype.constructor=dn,dn.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index;return{position:t,uv:i,index:r?Array.prototype.slice.call(r.array):[]}},dn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new Se(t.arrays.position,3)),this.addAttribute("uv",new Se(t.arrays.uv,2))},dn.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,n){var i,o,a,s=e.x-t.x,l=e.y-t.y,u=n.x-e.x,c=n.y-e.y,d=s*s+l*l,h=s*c-l*u;if(Math.abs(h)>Number.EPSILON){var p=Math.sqrt(d),f=Math.sqrt(u*u+c*c),m=t.x-l/p,g=t.y+s/p,v=n.x-c/f,y=n.y+u/f,_=((v-m)*c-(y-g)*u)/(s*c-l*u);i=m+s*_-e.x,o=g+l*_-e.y;var b=i*i+o*o;if(b<=2)return new r(i,o);a=Math.sqrt(b/2)}else{var w=!1;s>Number.EPSILON?u>Number.EPSILON&&(w=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(w=!0):Math.sign(l)===Math.sign(c)&&(w=!0),w?(i=-l,o=s,a=Math.sqrt(d)):(i=s,o=l,a=Math.sqrt(d/2))}return new r(i/a,o/a)}function o(e,t){var n,i;for(Z=e.length;--Z>=0;){n=Z,(i=Z-1)<0&&(i=e.length-1);var r=0,o=L+2*E;for(r=0;r<o;r++){var a=X*r,s=X*(r+1);u(t+n+a,t+i+a,t+i+s,t+n+s)}}}function a(e,t,n){w.push(e),w.push(t),w.push(n)}function l(e,t,n){c(e),c(t),c(n);var i=y.length/3,r=P.generateTopUV(R,y,i-3,i-2,i-1);d(r[0]),d(r[1]),d(r[2])}function u(e,t,n,i){c(e),c(t),c(i),c(t),c(n),c(i);var r=y.length/3,o=P.generateSideWallUV(R,y,r-6,r-3,r-2,r-1);d(o[0]),d(o[1]),d(o[3]),d(o[1]),d(o[2]),d(o[3])}function c(e){_.push(y.length/3),y.push(w[3*e+0]),y.push(w[3*e+1]),y.push(w[3*e+2])}function d(e){b.push(e.x),b.push(e.y)}var h,p,f,m,g,v=t.arrays?t.arrays:this.getArrays(),y=v.position,_=v.index,b=v.uv,w=[],M=void 0!==t.amount?t.amount:100,x=void 0!==t.bevelThickness?t.bevelThickness:6,S=void 0!==t.bevelSize?t.bevelSize:x-2,E=void 0!==t.bevelSegments?t.bevelSegments:3,T=void 0===t.bevelEnabled||t.bevelEnabled,C=void 0!==t.curveSegments?t.curveSegments:12,L=void 0!==t.steps?t.steps:1,D=t.extrudePath,A=!1,P=void 0!==t.UVGenerator?t.UVGenerator:cn.WorldUVGenerator;D&&(h=D.getSpacedPoints(L),A=!0,T=!1,p=void 0!==t.frames?t.frames:D.computeFrenetFrames(L,!1),f=new s,m=new s,g=new s),T||(E=0,x=0,S=0);var k,O,I,R=this,N=e.extractPoints(C),B=N.shape,j=N.holes;if(!js.isClockWise(B))for(B=B.reverse(),O=0,I=j.length;O<I;O++)k=j[O],js.isClockWise(k)&&(j[O]=k.reverse());var F=js.triangulateShape(B,j),Y=B;for(O=0,I=j.length;O<I;O++)k=j[O],B=B.concat(k);for(var z,U,H,V,G,W,X=B.length,q=F.length,Q=[],Z=0,K=Y.length,J=K-1,$=Z+1;Z<K;Z++,J++,$++)J===K&&(J=0),$===K&&($=0),Q[Z]=i(Y[Z],Y[J],Y[$]);var ee,te=[],ne=Q.concat();for(O=0,I=j.length;O<I;O++){for(k=j[O],ee=[],Z=0,K=k.length,J=K-1,$=Z+1;Z<K;Z++,J++,$++)J===K&&(J=0),$===K&&($=0),ee[Z]=i(k[Z],k[J],k[$]);te.push(ee),ne=ne.concat(ee)}for(z=0;z<E;z++){for(H=z/E,V=x*Math.cos(H*Math.PI/2),U=S*Math.sin(H*Math.PI/2),Z=0,K=Y.length;Z<K;Z++)G=n(Y[Z],Q[Z],U),a(G.x,G.y,-V);for(O=0,I=j.length;O<I;O++)for(k=j[O],ee=te[O],Z=0,K=k.length;Z<K;Z++)G=n(k[Z],ee[Z],U),a(G.x,G.y,-V)}for(U=S,Z=0;Z<X;Z++)G=T?n(B[Z],ne[Z],U):B[Z],A?(m.copy(p.normals[0]).multiplyScalar(G.x),f.copy(p.binormals[0]).multiplyScalar(G.y),g.copy(h[0]).add(m).add(f),a(g.x,g.y,g.z)):a(G.x,G.y,0);var ie;for(ie=1;ie<=L;ie++)for(Z=0;Z<X;Z++)G=T?n(B[Z],ne[Z],U):B[Z],A?(m.copy(p.normals[ie]).multiplyScalar(G.x),f.copy(p.binormals[ie]).multiplyScalar(G.y),g.copy(h[ie]).add(m).add(f),a(g.x,g.y,g.z)):a(G.x,G.y,M/L*ie);for(z=E-1;z>=0;z--){for(H=z/E,V=x*Math.cos(H*Math.PI/2),U=S*Math.sin(H*Math.PI/2),Z=0,K=Y.length;Z<K;Z++)G=n(Y[Z],Q[Z],U),a(G.x,G.y,M+V);for(O=0,I=j.length;O<I;O++)for(k=j[O],ee=te[O],Z=0,K=k.length;Z<K;Z++)G=n(k[Z],ee[Z],U),A?a(G.x,G.y+h[L-1].y,h[L-1].x+V):a(G.x,G.y,M+V)}!function(){var e=y.length/3;if(T){var n=0,i=X*n;for(Z=0;Z<q;Z++)W=F[Z],l(W[2]+i,W[1]+i,W[0]+i);for(n=L+2*E,i=X*n,Z=0;Z<q;Z++)W=F[Z],l(W[0]+i,W[1]+i,W[2]+i)}else{for(Z=0;Z<q;Z++)W=F[Z],l(W[2],W[1],W[0]);for(Z=0;Z<q;Z++)W=F[Z],l(W[0]+X*L,W[1]+X*L,W[2]+X*L)}R.addGroup(e,y.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=y.length/3,n=0;for(o(Y,n),n+=Y.length,O=0,I=j.length;O<I;O++)k=j[O],o(k,n),n+=k.length;R.addGroup(e,y.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(_),this.addAttribute("position",new Se(y,3)),this.addAttribute("uv",new Se(t.arrays.uv,2)))},cn.WorldUVGenerator={generateTopUV:function(e,t,n,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*i],u=t[3*i+1],c=t[3*o],d=t[3*o+1];return[new r(a,s),new r(l,u),new r(c,d)]},generateSideWallUV:function(e,t,n,i,o,a){var s=t[3*n],l=t[3*n+1],u=t[3*n+2],c=t[3*i],d=t[3*i+1],h=t[3*i+2],p=t[3*o],f=t[3*o+1],m=t[3*o+2],g=t[3*a],v=t[3*a+1],y=t[3*a+2];return Math.abs(l-d)<.01?[new r(s,1-u),new r(c,1-h),new r(p,1-m),new r(g,1-y)]:[new r(l,1-u),new r(d,1-h),new r(f,1-m),new r(v,1-y)]}},hn.prototype=Object.create(me.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(dn.prototype),pn.prototype.constructor=pn,fn.prototype=Object.create(me.prototype),fn.prototype.constructor=fn,mn.prototype=Object.create(Le.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(me.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(Le.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(me.prototype),yn.prototype.constructor=yn,_n.prototype=Object.create(Le.prototype),_n.prototype.constructor=_n,bn.prototype=Object.create(me.prototype),bn.prototype.constructor=bn,wn.prototype=Object.create(Le.prototype),wn.prototype.constructor=wn,Mn.prototype=Object.create(Le.prototype),Mn.prototype.constructor=Mn,xn.prototype=Object.create(me.prototype),xn.prototype.constructor=xn,Sn.prototype=Object.create(Le.prototype),Sn.prototype.constructor=Sn,En.prototype=Object.create(xn.prototype),En.prototype.constructor=En,Tn.prototype=Object.create(Sn.prototype),Tn.prototype.constructor=Tn,Cn.prototype=Object.create(me.prototype),Cn.prototype.constructor=Cn,Ln.prototype=Object.create(Le.prototype),Ln.prototype.constructor=Ln;var Fs=Object.freeze({WireframeGeometry:Vt,ParametricGeometry:Gt,ParametricBufferGeometry:Wt,TetrahedronGeometry:Qt,TetrahedronBufferGeometry:Zt,OctahedronGeometry:Kt,OctahedronBufferGeometry:Jt,IcosahedronGeometry:$t,IcosahedronBufferGeometry:en,DodecahedronGeometry:tn,DodecahedronBufferGeometry:nn,PolyhedronGeometry:Xt,PolyhedronBufferGeometry:qt,TubeGeometry:rn,TubeBufferGeometry:on,TorusKnotGeometry:an,TorusKnotBufferGeometry:sn,TorusGeometry:ln,TorusBufferGeometry:un,TextGeometry:hn,TextBufferGeometry:pn,SphereGeometry:fn,SphereBufferGeometry:mn,RingGeometry:gn,RingBufferGeometry:vn,PlaneGeometry:Pe,PlaneBufferGeometry:ke,LatheGeometry:yn,LatheBufferGeometry:_n,ShapeGeometry:bn,ShapeBufferGeometry:wn,ExtrudeGeometry:cn,ExtrudeBufferGeometry:dn,EdgesGeometry:Mn,ConeGeometry:En,ConeBufferGeometry:Tn,CylinderGeometry:xn,CylinderBufferGeometry:Sn,CircleGeometry:Cn,CircleBufferGeometry:Ln,BoxGeometry:De,BoxBufferGeometry:Ae});Dn.prototype=Object.create(ee.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isShadowMaterial=!0,An.prototype=Object.create(Ie.prototype),An.prototype.constructor=An,An.prototype.isRawShaderMaterial=!0,Pn.prototype=Object.create(ee.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isMeshStandardMaterial=!0,Pn.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kn.prototype=Object.create(Pn.prototype),kn.prototype.constructor=kn,kn.prototype.isMeshPhysicalMaterial=!0,kn.prototype.copy=function(e){return Pn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},On.prototype=Object.create(ee.prototype),On.prototype.constructor=On,On.prototype.isMeshPhongMaterial=!0,On.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},In.prototype=Object.create(On.prototype),In.prototype.constructor=In,In.prototype.isMeshToonMaterial=!0,In.prototype.copy=function(e){return On.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Rn.prototype=Object.create(ee.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshNormalMaterial=!0,Rn.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Nn.prototype=Object.create(ee.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshLambertMaterial=!0,Nn.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Bn.prototype=Object.create(It.prototype),Bn.prototype.constructor=Bn,Bn.prototype.isLineDashedMaterial=!0,Bn.prototype.copy=function(e){return It.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Ys=Object.freeze({ShadowMaterial:Dn,SpriteMaterial:Lt,RawShaderMaterial:An,ShaderMaterial:Ie,PointsMaterial:jt,MeshPhysicalMaterial:kn,MeshStandardMaterial:Pn,MeshPhongMaterial:On,MeshToonMaterial:In,MeshNormalMaterial:Rn,MeshLambertMaterial:Nn,MeshDepthMaterial:te,MeshDistanceMaterial:ne,MeshBasicMaterial:Oe,LineDashedMaterial:Bn,LineBasicMaterial:It,Material:ee}),zs={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Us=new jn,Hs={};Object.assign(Fn.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=zs.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(void 0!==Hs[e])return void Hs[e].push({onLoad:t,onProgress:n,onError:i});var a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);if(s){var l=s[1],u=!!s[2],c=s[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var d,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var p=new Uint8Array(c.length),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);d="blob"===h?new Blob([p.buffer],{type:l}):p.buffer;break;case"document":var m=new DOMParser;d=m.parseFromString(c,l);break;case"json":d=JSON.parse(c);break;default:d=c}window.setTimeout(function(){t&&t(d),r.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{Hs[e]=[],Hs[e].push({onLoad:t,onProgress:n,onError:i});var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",function(t){var n=t.target.response;zs.add(e,n);var i=Hs[e];if(delete Hs[e],200===this.status){for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else{for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onError&&s.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)}},!1),g.addEventListener("progress",function(t){for(var n=Hs[e],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(t)}},!1),g.addEventListener("error",function(t){var n=Hs[e];delete Hs[e];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var v in this.requestHeader)g.setRequestHeader(v,this.requestHeader[v]);g.send(null)}return r.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Yn.prototype,{load:function(e,t,n,i){var r=this,o=[],a=new Ut;a.image=o;var s=new Fn(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,c=e.length;u<c;++u)!function(u){s.load(e[u],function(e){var n=r._parser(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Ca),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}(u);else s.load(e,function(e){var n=r._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ca),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a},setPath:function(e){return this.path=e,this}}),Object.assign(zn.prototype,{load:function(e,t,n,i){var r=this,o=new p,a=new Fn(this.manager);return a.setResponseType("arraybuffer"),a.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Ma,o.wrapT=void 0!==n.wrapT?n.wrapT:Ma,o.magFilter=void 0!==n.magFilter?n.magFilter:Ca,o.minFilter=void 0!==n.minFilter?n.minFilter:Da,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ca),o.needsUpdate=!0,t&&t(o,n))},n,i),o}}),Object.assign(Un.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=zs.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){zs.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),a.addEventListener("error",function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Hn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new f,o=new Un(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<e.length;++s)!function(n){o.load(e[n],function(e){r.images[n]=e,6==++a&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}(s);return r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Vn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new Un(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);var o=new u;return o.image=r.load(e,function(){var n=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);o.format=n?Ha:Va,o.needsUpdate=!0,void 0!==t&&t(o)},n,i),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Gn.prototype=Object.assign(Object.create(de.prototype),{constructor:Gn,isLight:!0,copy:function(e){return de.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Wn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Wn,isHemisphereLight:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Xn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),qn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:qn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*_s.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),Qn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Qn,isSpotLight:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Zn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Zn,isPointLight:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Kn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Kn}),Jn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Jn,isDirectionalLight:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$n.prototype=Object.assign(Object.create(Gn.prototype),{constructor:$n,isAmbientLight:!0}),ei.prototype=Object.assign(Object.create(Gn.prototype),{constructor:ei,isRectAreaLight:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Gn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Vs={arraySlice:function(e,t,n){return Vs.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*t,l=0;l!==t;++l)r[a++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,o=e[0];void 0!==o&&void 0===o[i];)o=e[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))do{a=o[i],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[i],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{a=o[i],void 0!==a&&(t.push(o.time),n.push(a)),o=e[r++]}while(void 0!==o)}}};Object.assign(ti.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var o;n:{i:if(!(e<i)){for(var a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;var s=t[1];e<s&&(n=2,r=s);for(var a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}for(;n<o;){var l=n+o>>>1;e<t[l]?o=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ti.prototype,{beforeStart_:ti.prototype.copySampleValue_,afterEnd_:ti.prototype.copySampleValue_}),ni.prototype=Object.assign(Object.create(ti.prototype),{constructor:ni,DefaultSettings_:{endingStart:as,endingEnd:as},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,o=e+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=e,a=2*t-n;break;case 2402:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:o=1,s=n+i[1]-i[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=o*u},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,_=h*m-h*f,b=0;b!==a;++b)r[b]=g*o[u+b]+v*o[l+b]+y*o[s+b]+_*o[c+b];return r}}),ii.prototype=Object.assign(Object.create(ti.prototype),{constructor:ii,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(i-t),c=1-u,d=0;d!==a;++d)r[d]=o[l+d]*c+o[s+d]*u;return r}}),ri.prototype=Object.assign(Object.create(ti.prototype),{constructor:ri,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Gs;Gs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new ri(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ii(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ni(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn("THREE.KeyframeTrackPrototype:",n)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);var a=this.getValueSize();this.times=Vs.arraySlice(n,r,o),this.values=Vs.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==i&&Vs.isTypedArray(i))for(var a=0,l=i.length;a!==l;++a){var u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,a,u),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,o=e.length-1,a=1;a<o;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==l[0]))if(i)s=!0;else for(var u=a*n,c=u-n,d=u+n,h=0;h!==n;++h){var p=t[u+h];if(p!==t[c+h]||p!==t[d+h]){s=!0;break}}if(s){if(a!==r){e[r]=e[a];for(var f=a*n,m=r*n,h=0;h!==n;++h)t[m+h]=t[f+h]}++r}}if(o>0){e[r]=e[o];for(var f=o*n,m=r*n,h=0;h!==n;++h)t[m+h]=t[f+h];++r}return r!==e.length&&(this.times=Vs.arraySlice(e,0,r),this.values=Vs.arraySlice(t,0,r*n)),this}},ai.prototype=Object.assign(Object.create(Gs),{constructor:ai,ValueTypeName:"vector"}),si.prototype=Object.assign(Object.create(ti.prototype),{constructor:si,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=(n-t)/(i-t),c=l+s;l!==c;l+=4)a.slerpFlat(r,0,o,l-s,o,l,u);return r}}),li.prototype=Object.assign(Object.create(Gs),{constructor:li,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new si(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ui.prototype=Object.assign(Object.create(Gs),{constructor:ui,ValueTypeName:"number"}),ci.prototype=Object.assign(Object.create(Gs),{constructor:ci,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),di.prototype=Object.assign(Object.create(Gs),{constructor:di,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),hi.prototype=Object.assign(Object.create(Gs),{constructor:hi,ValueTypeName:"color"}),pi.prototype=Gs,Gs.constructor=pi,Object.assign(pi,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=pi._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];Vs.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Vs.convertArray(e.times,Array),values:Vs.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ui;case"vector":case"vector2":case"vector3":case"vector4":return ai;case"color":return hi;case"quaternion":return li;case"bool":case"boolean":return di;case"string":return ci}throw new Error("Unsupported typeName: "+e)}}),Object.assign(fi,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,o=n.length;r!==o;++r)t.push(pi.parse(n[r]).scale(i));return new fi(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t},r=0,o=n.length;r!==o;++r)t.push(pi.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,o=[],a=0;a<r;a++){var s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);var u=Vs.getKeyframeOrder(s);s=Vs.sortedArray(s,1,u),l=Vs.sortedArray(l,1,u),i||0!==s[0]||(s.push(r),l.push(l[0])),o.push(new ui(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new fi(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var d=[];for(var u in i)d.push(fi.CreateFromMorphTargetSequence(u,i[u],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var o=[],a=[];Vs.flattenJSON(n,o,a,i),0!==o.length&&r.push(new e(t,o,a))}},i=[],r=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var h=0;h<u[d].morphTargets.length;h++)c[u[d].morphTargets[h]]=-1;for(var p in c){for(var f=[],m=[],h=0;h!==u[d].morphTargets.length;++h){var g=u[d];f.push(g.time),m.push(g.morphTarget===p?1:0)}i.push(new ui(".morphTargetInfluence["+p+"]",f,m))}o=c.length*(a||1)}else{var v=".bones["+t[l].name+"]";n(ai,v+".position",u,"pos",i),n(li,v+".quaternion",u,"rot",i),n(ai,v+".scale",u,"scl",i)}}return 0===i.length?null:new fi(r,o,i)}}),Object.assign(fi.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,i=e.length;n!==i;++n){var r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(mi.prototype,{load:function(e,t,n,i){var r=this;new Fn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,i=new Ys[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new r).fromArray(o)}return void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),i}}),Object.assign(gi.prototype,{load:function(e,t,n,i){var r=this;new Fn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new Le,n=e.data.index;if(void 0!==n){var i=new Ws[n.type](n.array);t.setIndex(new ge(i,1))}var r=e.data.attributes;for(var o in r){var a=r[o],i=new Ws[a.type](a.array);t.addAttribute(o,new ge(i,a.itemSize,a.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var u=0,c=l.length;u!==c;++u){var d=l[u];t.addGroup(d.start,d.count,d.materialIndex)}var h=e.data.boundingSphere;if(void 0!==h){var p=new s;void 0!==h.center&&p.fromArray(h.center),t.boundingSphere=new re(p,h.radius)}return t}});var Ws={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};vi.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],o=t[n+1];if(r.test(e))return o}return null}},Object.assign(vi.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:function(){var e={NoBlending:Ao,NormalBlending:Po,AdditiveBlending:ko,SubtractiveBlending:Oo,MultiplyBlending:Io,CustomBlending:Ro},t=new Q,n=new Vn,i=new mi;return function(r,o,a){function s(e,t,i,r,s){var u,c=o+e,d=vi.Handlers.get(c);null!==d?u=d.load(c):(n.setCrossOrigin(a),u=n.load(c)),void 0!==t&&(u.repeat.fromArray(t),1!==t[0]&&(u.wrapS=wa),1!==t[1]&&(u.wrapT=wa)),void 0!==i&&u.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(u.wrapS=wa),"mirror"===r[0]&&(u.wrapS=xa),"repeat"===r[1]&&(u.wrapT=wa),"mirror"===r[1]&&(u.wrapT=xa)),void 0!==s&&(u.anisotropy=s);var h=_s.generateUUID();return l[h]=u,h}var l={},u={uuid:_s.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var d=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=d;break;case"blending":u.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(d).getHex();break;case"colorSpecular":u.specular=t.fromArray(d).getHex();break;case"colorEmissive":u.emissive=t.fromArray(d).getHex();break;case"specularCoef":u.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(d,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(d,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(d,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(d,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(d,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=d;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(d,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[d,d];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(d,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(d,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(d,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(d,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Eo;break;case"doubleSided":u.side=To;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=d;break;case"vertexColors":!0===d&&(u.vertexColors=Do),"face"===d&&(u.vertexColors=Lo);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,d)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),i.setTextures(l),i.parse(u)}}()}),Object.assign(yi.prototype,{load:function(e,t,n,i){var r=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:vi.prototype.extractUrlBase(e),a=new Fn(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,function(n){var i=JSON.parse(n),a=i.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(i,o);t(l.geometry,l.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var i,o,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,M,x,S,E,T,C,L,D,A,P,k=e.faces,O=e.vertices,I=e.normals,R=e.colors,N=e.scale,B=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&B++;for(i=0;i<B;i++)t.faceVertexUvs[i]=[]}for(l=0,u=O.length;l<u;)M=new s,M.x=O[l++]*N,M.y=O[l++]*N,M.z=O[l++]*N,t.vertices.push(M);for(l=0,u=k.length;l<u;)if(f=k[l++],m=n(f,0),g=n(f,1),v=n(f,3),y=n(f,4),_=n(f,5),b=n(f,6),w=n(f,7),m){if(S=new fe,S.a=k[l],S.b=k[l+1],S.c=k[l+3],E=new fe,E.a=k[l+1],E.b=k[l+2],E.c=k[l+3],l+=4,g&&(p=k[l++],S.materialIndex=p,E.materialIndex=p),a=t.faces.length,v)for(i=0;i<B;i++)for(L=e.uvs[i],t.faceVertexUvs[i][a]=[],t.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)h=k[l++],A=L[2*h],P=L[2*h+1],D=new r(A,P),2!==o&&t.faceVertexUvs[i][a].push(D),0!==o&&t.faceVertexUvs[i][a+1].push(D);if(y&&(d=3*k[l++],S.normal.set(I[d++],I[d++],I[d]),E.normal.copy(S.normal)),_)for(i=0;i<4;i++)d=3*k[l++],C=new s(I[d++],I[d++],I[d]),2!==i&&S.vertexNormals.push(C),0!==i&&E.vertexNormals.push(C);if(b&&(c=k[l++],T=R[c],S.color.setHex(T),E.color.setHex(T)),w)for(i=0;i<4;i++)c=k[l++],T=R[c],2!==i&&S.vertexColors.push(new Q(T)),0!==i&&E.vertexColors.push(new Q(T));t.faces.push(S),t.faces.push(E)}else{if(x=new fe,x.a=k[l++],x.b=k[l++],x.c=k[l++],g&&(p=k[l++],x.materialIndex=p),a=t.faces.length,v)for(i=0;i<B;i++)for(L=e.uvs[i],t.faceVertexUvs[i][a]=[],o=0;o<3;o++)h=k[l++],A=L[2*h],P=L[2*h+1],D=new r(A,P),t.faceVertexUvs[i][a].push(D);if(y&&(d=3*k[l++],x.normal.set(I[d++],I[d++],I[d])),_)for(i=0;i<3;i++)d=3*k[l++],C=new s(I[d++],I[d++],I[d]),x.vertexNormals.push(C);if(b&&(c=k[l++],x.color.setHex(R[c])),w)for(i=0;i<3;i++)c=k[l++],x.vertexColors.push(new Q(R[c]));t.faces.push(x)}}function t(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var o=e.skinWeights[i],a=n>1?e.skinWeights[i+1]:0,s=n>2?e.skinWeights[i+2]:0,l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new c(o,a,s,l))}if(e.skinIndices)for(var i=0,r=e.skinIndices.length;i<r;i+=n){var u=e.skinIndices[i],d=n>1?e.skinIndices[i+1]:0,h=n>2?e.skinIndices[i+2]:0,p=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new c(u,d,h,p))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}function n(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var o=t.morphTargets[i].vertices,a=e.morphTargets[i].vertices,l=0,u=a.length;l<u;l+=3){var c=new s;c.x=a[l]*n,c.y=a[l+1]*n,c.z=a[l+2]*n,o.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var d=t.faces,h=e.morphColors[0].colors,i=0,r=d.length;i<r;i++)d[i].color.fromArray(h,3*i)}}function i(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var o=fi.parseAnimation(i[r],t.bones);o&&n.push(o)}if(t.morphTargets){var a=fi.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}n.length>0&&(t.animations=n)}return function(r,o){void 0!==r.data&&(r=r.data),void 0!==r.scale?r.scale=1/r.scale:r.scale=1;var a=new me;return e(r,a),t(r,a),n(r,a),i(r,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===r.materials||0===r.materials.length?{geometry:a}:{geometry:a,materials:vi.prototype.initMaterials(r.materials,o,this.crossOrigin)}}}()}),Object.assign(_i.prototype,{load:function(e,t,n,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new Fn(r.manager).load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.");r.parse(o,t)},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),i=this.parseImages(e.images,function(){void 0!==t&&t(a)}),r=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,r),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new yi,i=new gi,r=0,o=e.length;r<o;r++){var a,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Fs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Fs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Fs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Fs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Fs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Fs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Fs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Fs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Fs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Fs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Fs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Fs[s.type](s.vertices,s.indices,s.radius,s.details);break;case"BufferGeometry":a=i.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new mi;i.setTextures(t);for(var r=0,o=e.length;r<o;r++){var a=e[r];if("MultiMaterial"===a.type){for(var s=[],l=0;l<a.materials.length;l++)s.push(i.parse(a.materials[l]));n[a.uuid]=s}else n[a.uuid]=i.parse(a)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=fi.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){var n=this,i={};if(void 0!==e&&e.length>0){var r=new jn(t),o=new Un(r);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var l=e[a],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;i[l.uuid]=function(e){return n.manager.itemStart(e),o.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}(u)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,o=e.length;r<o;r++){var a=e[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new u(t[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,Xs)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],qs),s.wrapT=n(a.wrap[1],qs)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Qs)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Qs)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),i[a.uuid]=s}return i},parseObject:function(){var e=new o;return function(t,n,i){function r(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(i[o])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}var a;switch(t.type){case"Scene":a=new Tt,void 0!==t.background&&Number.isInteger(t.background)&&(a.background=new Q(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new Et(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new St(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new vt(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new pe(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new $n(t.color,t.intensity);break;case"DirectionalLight":a=new Jn(t.color,t.intensity);break;case"PointLight":a=new Zn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new ei(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Qn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new Wn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=r(t.geometry),l=o(t.material);a=s.bones&&s.bones.length>0?new Ot(s,l):new je(s,l);break;case"LOD":a=new At;break;case"Line":a=new Rt(r(t.geometry),o(t.material),t.mode);break;case"LineLoop":a=new Bt(r(t.geometry),o(t.material));break;case"LineSegments":a=new Nt(r(t.geometry),o(t.material));break;case"PointCloud":case"Points":a=new Ft(r(t.geometry),o(t.material));break;case"Sprite":a=new Dt(o(t.material));break;case"Group":a=new Yt;break;default:a=new de}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var u=t.children,c=0;c<u.length;c++)a.add(this.parseObject(u[c],n,i));if("LOD"===t.type)for(var d=t.levels,h=0;h<d.length;h++){var p=d[h],f=a.getObjectByProperty("uuid",p.object);void 0!==f&&a.addLevel(f,p.distance)}return a}}()});var Xs={UVMapping:300,CubeReflectionMapping:fa,CubeRefractionMapping:ma,EquirectangularReflectionMapping:ga,EquirectangularRefractionMapping:va,SphericalReflectionMapping:ya,CubeUVReflectionMapping:_a,CubeUVRefractionMapping:ba},qs={RepeatWrapping:wa,ClampToEdgeWrapping:Ma,MirroredRepeatWrapping:xa},Qs={NearestFilter:Sa,NearestMipMapNearestFilter:Ea,NearestMipMapLinearFilter:Ta,LinearFilter:Ca,LinearMipMapNearestFilter:La,LinearMipMapLinearFilter:Da};Object.assign(Ai.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(r),i.push(o),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,o=i.length;n=t||e*i[o-1];for(var a,s=0,l=o-1;s<=l;)if(r=Math.floor(s+(l-s)/2),(a=i[r]-n)<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(o-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,a=new s,l=[],u=[],c=[],d=new s,h=new o;for(n=0;n<=e;n++)i=n/e,l[n]=this.getTangentAt(i),l[n].normalize();u[0]=new s,c[0]=new s;var p=Number.MAX_VALUE,f=Math.abs(l[0].x),m=Math.abs(l[0].y),g=Math.abs(l[0].z);for(f<=p&&(p=f,a.set(1,0,0)),m<=p&&(p=m,a.set(0,1,0)),g<=p&&a.set(0,0,1),d.crossVectors(l[0],a).normalize(),u[0].crossVectors(l[0],d),c[0].crossVectors(l[0],u[0]),n=1;n<=e;n++)u[n]=u[n-1].clone(),c[n]=c[n-1].clone(),d.crossVectors(l[n-1],l[n]),d.length()>Number.EPSILON&&(d.normalize(),r=Math.acos(_s.clamp(l[n-1].dot(l[n]),-1,1)),u[n].applyMatrix4(h.makeRotationAxis(d,r))),c[n].crossVectors(l[n],u[n]);if(!0===t)for(r=Math.acos(_s.clamp(u[0].dot(u[e]),-1,1)),r/=e,l[0].dot(d.crossVectors(u[0],u[e]))>0&&(r=-r),n=1;n<=e;n++)u[n].applyMatrix4(h.makeRotationAxis(l[n],r*n)),c[n].crossVectors(l[n],u[n]);return{tangents:l,normals:u,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Pi.prototype=Object.create(Ai.prototype),Pi.prototype.constructor=Pi,Pi.prototype.isLineCurve=!0,Pi.prototype.getPoint=function(e,t){var n=t||new r;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Pi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Pi.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Pi.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ki.prototype=Object.assign(Object.create(Ai.prototype),{constructor:ki,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Pi(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,o=this.curves[i],a=o.getLength(),s=0===a?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Ai.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}}),Oi.prototype=Object.create(Ai.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isEllipseCurve=!0,Oi.prototype.getPoint=function(e,t){for(var n=t||new r,i=2*Math.PI,o=this.aEndAngle-this.aStartAngle,a=Math.abs(o)<Number.EPSILON;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(o=a?0:i),!0!==this.aClockwise||a||(o===i?o=-i:o-=i);var s=this.aStartAngle+e*o,l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*d+this.aX,u=h*d+p*c+this.aY}return n.set(l,u)},Oi.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ii.prototype=Object.create(Ai.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isSplineCurve=!0,Ii.prototype.getPoint=function(e,t){var n=t||new r,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[0===a?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return n.set(bi(s,l.x,u.x,c.x,d.x),bi(s,l.y,u.y,c.y,d.y)),n},Ii.prototype.copy=function(e){Ai.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},Ri.prototype=Object.create(Ai.prototype),Ri.prototype.constructor=Ri,Ri.prototype.isCubicBezierCurve=!0,Ri.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return n.set(Di(e,i.x,o.x,a.x,s.x),Di(e,i.y,o.y,a.y,s.y)),n},Ri.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ni.prototype=Object.create(Ai.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isQuadraticBezierCurve=!0,Ni.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,o=this.v1,a=this.v2;return n.set(Si(e,i.x,o.x,a.x),Si(e,i.y,o.y,a.y)),n},Ni.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};var Zs=Object.assign(Object.create(ki.prototype),{setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Pi(this.currentPoint.clone(),new r(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var o=new Ni(this.currentPoint.clone(),new r(e,t),new r(n,i));this.curves.push(o),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,o,a){var s=new Ri(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Ii(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,i,r,o)},absarc:function(e,t,n,i,r,o){this.absellipse(e,t,n,n,i,r,o)},ellipse:function(e,t,n,i,r,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(e+l,t+u,n,i,r,o,a,s)},absellipse:function(e,t,n,i,r,o,a,s){var l=new Oi(e,t,n,i,r,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)},copy:function(e){return ki.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this}});Bi.prototype=Zs,Zs.constructor=Bi,ji.prototype=Object.assign(Object.create(Zs),{constructor:ji,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Bi.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}}),Object.assign(Fi.prototype,{moveTo:function(e,t){this.currentPath=new Bi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,o){this.currentPath.bezierCurveTo(e,t,n,i,r,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=new ji;o.curves=r.curves,t.push(o)}return t}var i=js.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===t)return n(r);var o,a,s,l=[];if(1===r.length)return a=r[0],s=new ji,s.curves=a.curves,l.push(s),l;var u=!i(r[0].getPoints());u=e?!u:u;var c,d=[],h=[],p=[],f=0;h[f]=void 0,p[f]=[];for(var m=0,g=r.length;m<g;m++)a=r[m],c=a.getPoints(),o=i(c),o=e?!o:o,o?(!u&&h[f]&&f++,h[f]={s:new ji,p:c},h[f].s.curves=a.curves,u&&f++,p[f]=[]):p[f].push({h:a,p:c[0]});if(!h[0])return n(r);if(h.length>1){for(var v=!1,y=[],_=0,b=h.length;_<b;_++)d[_]=[];for(var _=0,b=h.length;_<b;_++)for(var w=p[_],M=0;M<w.length;M++){for(var x=w[M],S=!0,E=0;E<h.length;E++)(function(e,t){for(var n=t.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=t[r],s=t[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],l=-l,s=t[r],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var c=u*(e.x-a.x)-l*(e.y-a.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return i})(x.p,h[E].p)&&(_!==E&&y.push({froms:_,tos:E,hole:M}),S?(S=!1,d[E].push(x)):v=!0);S&&d[_].push(x)}y.length>0&&(v||(p=d))}for(var T,m=0,C=h.length;m<C;m++){s=h[m].s,l.push(s),T=p[m];for(var L=0,D=T.length;L<D;L++)s.holes.push(T[L].h)}return l}}),Object.assign(Yi.prototype,{isFont:!0,generateShapes:function(e,t,n){function i(e,t,i,o){var a=r.glyphs[e]||r.glyphs["?"];if(a){var s,l,u,c,d,h,p,f,m,g,v,y=new Fi,_=[];if(a.o)for(var b=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),w=0,M=b.length;w<M;){var x=b[w++];switch(x){case"m":s=b[w++]*t+i,l=b[w++]*t+o,y.moveTo(s,l);break;case"l":s=b[w++]*t+i,l=b[w++]*t+o,y.lineTo(s,l);break;case"q":if(u=b[w++]*t+i,c=b[w++]*t+o,p=b[w++]*t+i,f=b[w++]*t+o,y.quadraticCurveTo(p,f,u,c),v=_[_.length-1]){d=v.x,h=v.y;for(var S=1;S<=n;S++){var E=S/n;Si(E,d,p,u),Si(E,h,f,c)}}break;case"b":if(u=b[w++]*t+i,c=b[w++]*t+o,p=b[w++]*t+i,f=b[w++]*t+o,m=b[w++]*t+i,g=b[w++]*t+o,y.bezierCurveTo(p,f,m,g,u,c),v=_[_.length-1]){d=v.x,h=v.y;for(var S=1;S<=n;S++){var E=S/n;Di(E,d,p,m,u),Di(E,h,f,g,c)}}}}return{offsetX:a.ha*t,path:y}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var r=this.data,o=function(e){for(var n=String(e).split(""),o=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,s=0,l=0,u=[],c=0;c<n.length;c++){var d=n[c];if("\n"===d)s=0,l-=a;else{var h=i(d,o,s,l);s+=h.offsetX,u.push(h.path)}}return u}(e),a=[],s=0,l=o.length;s<l;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(zi.prototype,{load:function(e,t,n,i){var r=this,o=new Fn(this.manager);o.setPath(this.path),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Yi(e)},setPath:function(e){return this.path=e,this}});var Ks,Js={getContext:function(){return void 0===Ks&&(Ks=new(window.AudioContext||window.webkitAudioContext)),Ks},setContext:function(e){Ks=e}};Object.assign(Ui.prototype,{load:function(e,t,n,i){var r=new Fn(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){Js.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign(Hi.prototype,{update:function(){var e,t,n,i,r,a,s,l,u=new o,c=new o;return function(o){if(e!==this||t!==o.focus||n!==o.fov||i!==o.aspect*this.aspect||r!==o.near||a!==o.far||s!==o.zoom||l!==this.eyeSep){e=this,t=o.focus,n=o.fov,i=o.aspect*this.aspect,r=o.near,a=o.far,s=o.zoom;var d=o.projectionMatrix.clone();l=this.eyeSep/2;var h,p,f=l*r/t,m=r*Math.tan(_s.DEG2RAD*n*.5)/s;c.elements[12]=-l,u.elements[12]=l,h=-m*i+f,p=m*i+f,d.elements[0]=2*r/(p-h),d.elements[8]=(p+h)/(p-h),this.cameraL.projectionMatrix.copy(d),h=-m*i-f,p=m*i-f,d.elements[0]=2*r/(p-h),d.elements[8]=(p+h)/(p-h),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(u)}}()}),Vi.prototype=Object.create(de.prototype),Vi.prototype.constructor=Vi,Gi.prototype=Object.assign(Object.create(de.prototype),{constructor:Gi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new s,t=new a,n=new s,i=new s;return function(r){de.prototype.updateMatrixWorld.call(this,r);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(i.x,this.context.currentTime),o.forwardY.setValueAtTime(i.y,this.context.currentTime),o.forwardZ.setValueAtTime(i.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(i.x,i.y,i.z,a.x,a.y,a.z))}}()}),Wi.prototype=Object.assign(Object.create(de.prototype),{constructor:Wi,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.offset=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Xi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Xi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new s;return function(t){de.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(qi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Qi.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=t}else{o+=t;var s=t/o;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*t;this._mixBufferRegion(n,i,a,1-r,t)}for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){a.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*i}}}),Object.assign(Zi.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Ki,{Composite:Zi,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Ki.Composite(e,t,n):new Ki(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,i=/\.([\w-]+)(?:\[(.+)\])?/,r=new RegExp("^"+e.source+t.source+n.source+i.source+"$"),o=["material","materials","bones"];return function(e){var t=r.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var a=n.nodeName.substring(i+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var i=e.bones[n];if(i.name===t)return i}return null}(e.skeleton);if(n)return n}if(e.children){var i=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;var o=e(r.children);if(o)return o}return null}(e.children);if(i)return i}return null}}),Object.assign(Ki.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Ki.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[i];if(void 0===s){var l=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e)}var u=this.Versioning.None;void 0!==e.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===r){r=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===r){r=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ki.prototype,{_getValue_unbound:Ki.prototype.getValue,_setValue_unbound:Ki.prototype.setValue}),Object.assign(Ji.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=0,u=arguments.length;l!==u;++l){var c=arguments[l],d=c.uuid,h=i[d],p=void 0;if(void 0===h){h=t++,i[d]=h,e.push(c);for(var f=0,m=s;f!==m;++f)a[f].push(new Ki(c,r[f],o[f]))}else if(h<n){p=e[h];var g=--n,v=e[g];i[v.uuid]=h,e[h]=v,i[d]=g,e[g]=c;for(var f=0,m=s;f!==m;++f){var y=a[f],_=y[g],b=y[h];y[h]=_,void 0===b&&(b=new Ki(c,r[f],o[f])),y[g]=b}}else e[h]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=n[l];if(void 0!==u&&u>=t){var c=t++,d=e[c];n[d.uuid]=u,e[u]=d,n[l]=c,e[c]=s;for(var h=0,p=r;h!==p;++h){var f=i[h],m=f[c],g=f[u];f[u]=m,f[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=i[u];if(void 0!==c)if(delete i[u],c<n){var d=--n,h=e[d],p=--t,f=e[p];i[h.uuid]=c,e[c]=h,i[f.uuid]=d,e[d]=f,e.pop();for(var m=0,g=o;m!==g;++m){var v=r[m],y=v[d],_=v[p];v[c]=y,v[d]=_,v.pop()}}else{var p=--t,f=e[p];i[f.uuid]=c,e[c]=f,e.pop();for(var m=0,g=o;m!==g;++m){var v=r[m];v[c]=v[p],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);i=r.length,n[e]=i,o.push(e),a.push(t),r.push(c);for(var d=u,h=s.length;d!==h;++d){var p=s[d];c[d]=new Ki(p,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}),Object.assign($i.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,o=r/i,a=i/r;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/a,l[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);var r=this._startTime;if(null!==r){var o=(e-r)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,d=l.length;c!==d;++c)l[c].evaluate(a),u[c].accumulate(i,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var o=2202===i;if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:as:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:as:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=t,a[1]=r+e,s[1]=n,this}}),Object.assign(er.prototype,i.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var d=i[c],h=d.name,p=u[h];if(void 0!==p)o[c]=p;else{if(void 0!==(p=o[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=t&&t._propertyBindings[c].binding.parsedPath;p=new Qi(Ki.create(n,h,f),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,h),o[c]=p}a[c].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],o=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[r];e:{for(var u in a)break e;delete o[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new ii(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?fi.findByName(n,e):e,o=null!==r?r.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[i];if(void 0!==l)return l;s=a.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var u=new $i(this,r,t);return this._bindAction(u,s),this._addInactiveAction(u,o,i),u},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?fi.findByName(n,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[i]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a)t[a]._update(i,e,r,o);for(var s=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,o=r[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var l in s){var u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),tr.prototype.clone=function(){return new tr(void 0===this.value.clone?this.value:this.value.clone())},nr.prototype=Object.assign(Object.create(Le.prototype),{constructor:nr,isInstancedBufferGeometry:!0,copy:function(e){return Le.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(ir.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ir.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty(rr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(rr.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),or.prototype=Object.assign(Object.create(rr.prototype),{constructor:or,isInstancedInterleavedBuffer:!0,copy:function(e){return rr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),ar.prototype=Object.assign(Object.create(ge.prototype),{constructor:ar,isInstancedBufferAttribute:!0,copy:function(e){return ge.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(sr.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return ur(e,this,n,t),n.sort(lr),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=e.length;i<r;i++)ur(e[i],this,n,t);return n.sort(lr),n}}),Object.assign(cr.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(dr.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(_s.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(hr.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),pr.prototype=Object.create(de.prototype),pr.prototype.constructor=pr,pr.prototype.isImmediateRenderObject=!0,fr.prototype=Object.create(Nt.prototype),fr.prototype.constructor=fr,fr.prototype.update=function(){var e=new s,t=new s,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,u=0,c=0,d=l.length;c<d;c++)for(var h=l[c],p=0,f=h.vertexNormals.length;p<f;p++){var m=s[h[i[p]]],g=h.vertexNormals[p];e.copy(m).applyMatrix4(r),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(u,e.x,e.y,e.z),u+=1,o.setXYZ(u,t.x,t.y,t.z),u+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,u=0,p=0,f=v.count;p<f;p++)e.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(u,e.x,e.y,e.z),u+=1,o.setXYZ(u,t.x,t.y,t.z),u+=1;o.needsUpdate=!0}}(),mr.prototype=Object.create(de.prototype),mr.prototype.constructor=mr,mr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},mr.prototype.update=function(){var e=new s,t=new s;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),vr.prototype=Object.create(Nt.prototype),vr.prototype.constructor=vr,vr.prototype.updateMatrixWorld=function(){var e=new s,t=new o,n=new o;return function(i){var r=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<r.length;s++){var u=r[s];u.parent&&u.parent.isBone&&(t.multiplyMatrices(n,u.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,u.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l+1,e.x,e.y,e.z),l+=2)}o.getAttribute("position").needsUpdate=!0,de.prototype.updateMatrixWorld.call(this,i)}}(),yr.prototype=Object.create(je.prototype),yr.prototype.constructor=yr,yr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},yr.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},_r.prototype=Object.create(de.prototype),_r.prototype.constructor=_r,_r.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},_r.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},br.prototype=Object.create(de.prototype),br.prototype.constructor=br,br.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},br.prototype.update=function(){var e=new s,t=new Q,n=new Q;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=r.count;o<a;o++){var s=o<a/2?t:n;r.setXYZ(o,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),wr.prototype=Object.create(Nt.prototype),wr.prototype.constructor=wr,Mr.prototype=Object.create(Nt.prototype),Mr.prototype.constructor=Mr,xr.prototype=Object.create(Nt.prototype),xr.prototype.constructor=xr,xr.prototype.update=function(){var e=new s,t=new s,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,u=0,c=s.length;u<c;u++){var d=s[u],h=d.normal;e.copy(a[d.a]).add(a[d.b]).add(a[d.c]).divideScalar(3).applyMatrix4(i),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),Sr.prototype=Object.create(de.prototype),Sr.prototype.constructor=Sr,Sr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Sr.prototype.update=function(){var e=new s,t=new s,n=new s;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),Er.prototype=Object.create(Nt.prototype),Er.prototype.constructor=Er,Er.prototype.update=function(){function e(e,o,a,s){i.set(o,a,s).unproject(r);var l=n[e];if(void 0!==l)for(var u=t.getAttribute("position"),c=0,d=l.length;c<d;c++)u.setXYZ(l[c],i.x,i.y,i.z)}var t,n,i=new s,r=new he;return function(){t=this.geometry,n=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Tr.prototype=Object.create(Nt.prototype),Tr.prototype.constructor=Tr,Tr.prototype.update=function(){var e=new ie;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Tr.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Cr.prototype=Object.create(Nt.prototype),Cr.prototype.constructor=Cr,Cr.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),de.prototype.updateMatrixWorld.call(this,e))},Lr.prototype=Object.create(Rt.prototype),Lr.prototype.constructor=Lr,Lr.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),de.prototype.updateMatrixWorld.call(this,e)};var $s,el;Dr.prototype=Object.create(de.prototype),Dr.prototype.constructor=Dr,Dr.prototype.setDirection=function(){var e,t=new s;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Dr.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Dr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Ar.prototype=Object.create(Nt.prototype),Ar.prototype.constructor=Ar;var tl=new s,nl=new Pr,il=new Pr,rl=new Pr;kr.prototype=Object.create(Ai.prototype),kr.prototype.constructor=kr,kr.prototype.isCatmullRomCurve3=!0,kr.prototype.getPoint=function(e,t){var n=t||new s,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/i.length)+1)*i.length:0===l&&a===r-1&&(a=r-2,l=1);var u,c,d,h;if(this.closed||a>0?u=i[(a-1)%r]:(tl.subVectors(i[0],i[1]).add(i[0]),u=tl),c=i[a%r],d=i[(a+1)%r],this.closed||a+2<r?h=i[(a+2)%r]:(tl.subVectors(i[r-1],i[r-2]).add(i[r-1]),h=tl),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,f=Math.pow(u.distanceToSquared(c),p),m=Math.pow(c.distanceToSquared(d),p),g=Math.pow(d.distanceToSquared(h),p);m<1e-4&&(m=1),f<1e-4&&(f=m),g<1e-4&&(g=m),nl.initNonuniformCatmullRom(u.x,c.x,d.x,h.x,f,m,g),il.initNonuniformCatmullRom(u.y,c.y,d.y,h.y,f,m,g),rl.initNonuniformCatmullRom(u.z,c.z,d.z,h.z,f,m,g)}else"catmullrom"===this.curveType&&(nl.initCatmullRom(u.x,c.x,d.x,h.x,this.tension),il.initCatmullRom(u.y,c.y,d.y,h.y,this.tension),rl.initCatmullRom(u.z,c.z,d.z,h.z,this.tension));return n.set(nl.calc(l),il.calc(l),rl.calc(l)),n},kr.prototype.copy=function(e){Ai.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Or.prototype=Object.create(Ai.prototype),Or.prototype.constructor=Or,Or.prototype.isCubicBezierCurve3=!0,Or.prototype.getPoint=function(e,t){var n=t||new s,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Di(e,i.x,r.x,o.x,a.x),Di(e,i.y,r.y,o.y,a.y),Di(e,i.z,r.z,o.z,a.z)),n},Or.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ir.prototype=Object.create(Ai.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isQuadraticBezierCurve3=!0,Ir.prototype.getPoint=function(e,t){var n=t||new s,i=this.v0,r=this.v1,o=this.v2;return n.set(Si(e,i.x,r.x,o.x),Si(e,i.y,r.y,o.y),Si(e,i.z,r.z,o.z)),n},Ir.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Rr.prototype=Object.create(Ai.prototype),Rr.prototype.constructor=Rr,Rr.prototype.isLineCurve3=!0,Rr.prototype.getPoint=function(e,t){var n=t||new s;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Rr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Rr.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Nr.prototype=Object.create(Oi.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isArcCurve=!0;var ol={createMultiMaterialObject:function(e,t){for(var n=new Yt,i=0,r=t.length;i<r;i++)n.add(new je(e,t[i]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new o).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}};Ai.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ai.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ki.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new me,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new s(r.x,r.y,r.z||0))}return t}}),Object.assign(Bi.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),io.prototype=Object.create(kr.prototype),ro.prototype=Object.create(kr.prototype),oo.prototype=Object.create(kr.prototype),Object.assign(oo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),wr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},vr.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Z.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(ie.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ne.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(_s,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),_s.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),_s.ceilPowerOfTwo(e)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(o.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)}}),oe.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},a.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Re.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ji.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new cn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new bn(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(c.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),me.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(de.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(de.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(At.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Pt.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Ai.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),vt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Gn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ge.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Le.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Le.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(tr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ee.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Q}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(On.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ie.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(xt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(xt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?bo:_o},set:function(e){var t=e!==_o;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(d.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Wi.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Ui).load(e,function(e){t.setBuffer(e)}),this},qi.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Vi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var al={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},sl={crossOrigin:void 0,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Vn;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Hn;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=h,t.WebGLRenderTarget=d,t.WebGLRenderer=xt,t.ShaderLib=ks,t.UniformsLib=Ds,t.UniformsUtils=As,t.ShaderChunk=Ps,t.FogExp2=St,t.Fog=Et,t.Scene=Tt,t.LensFlare=Ct,t.Sprite=Dt,t.LOD=At,t.SkinnedMesh=Ot,t.Skeleton=Pt,t.Bone=kt,t.Mesh=je,t.LineSegments=Nt,t.LineLoop=Bt,t.Line=Rt,t.Points=Ft,t.Group=Yt,t.VideoTexture=zt,t.DataTexture=p,t.CompressedTexture=Ut,t.CubeTexture=f,t.CanvasTexture=J,t.DepthTexture=Ht,t.Texture=u,t.CompressedTextureLoader=Yn,t.DataTextureLoader=zn,t.CubeTextureLoader=Hn,t.TextureLoader=Vn,t.ObjectLoader=_i,t.MaterialLoader=mi,t.BufferGeometryLoader=gi,t.DefaultLoadingManager=Us,t.LoadingManager=jn,t.JSONLoader=yi,t.ImageLoader=Un,t.FontLoader=zi,t.FileLoader=Fn,t.Loader=vi,t.Cache=zs,t.AudioLoader=Ui,t.SpotLightShadow=qn,t.SpotLight=Qn,t.PointLight=Zn,t.RectAreaLight=ei,t.HemisphereLight=Wn,t.DirectionalLightShadow=Kn,t.DirectionalLight=Jn,t.AmbientLight=$n,t.LightShadow=Xn,t.Light=Gn,t.StereoCamera=Hi,t.PerspectiveCamera=vt,t.OrthographicCamera=pe,t.CubeCamera=Vi,t.ArrayCamera=yt,t.Camera=he,t.AudioListener=Gi,t.PositionalAudio=Xi,t.AudioContext=Js,t.AudioAnalyser=qi,t.Audio=Wi,t.VectorKeyframeTrack=ai,t.StringKeyframeTrack=ci,t.QuaternionKeyframeTrack=li,t.NumberKeyframeTrack=ui,t.ColorKeyframeTrack=hi,t.BooleanKeyframeTrack=di,t.PropertyMixer=Qi,t.PropertyBinding=Ki,t.KeyframeTrack=pi,t.AnimationUtils=Vs,t.AnimationObjectGroup=Ji,t.AnimationMixer=er,t.AnimationClip=fi,t.Uniform=tr,t.InstancedBufferGeometry=nr,t.BufferGeometry=Le,t.Geometry=me,t.InterleavedBufferAttribute=ir,t.InstancedInterleavedBuffer=or,t.InterleavedBuffer=rr,t.InstancedBufferAttribute=ar,t.Face3=fe,t.Object3D=de,t.Raycaster=sr,t.Layers=ce,t.EventDispatcher=i,t.Clock=cr,t.QuaternionLinearInterpolant=si,t.LinearInterpolant=ii,t.DiscreteInterpolant=ri,t.CubicInterpolant=ni,t.Interpolant=ti,t.Triangle=Be,t.Math=_s,t.Spherical=dr,t.Cylindrical=hr,t.Plane=oe,t.Frustum=ae,t.Sphere=re,t.Ray=Re,t.Matrix4=o,t.Matrix3=l,t.Box3=ie,t.Box2=Z,t.Line3=Ne,t.Euler=ue,t.Vector4=c,t.Vector3=s,t.Vector2=r,t.Quaternion=a,t.Color=Q,t.ImmediateRenderObject=pr,t.VertexNormalsHelper=fr,t.SpotLightHelper=mr,t.SkeletonHelper=vr,t.PointLightHelper=yr,t.RectAreaLightHelper=_r,t.HemisphereLightHelper=br,t.GridHelper=wr,t.PolarGridHelper=Mr,t.FaceNormalsHelper=xr,t.DirectionalLightHelper=Sr,t.CameraHelper=Er,t.BoxHelper=Tr,t.Box3Helper=Cr,t.PlaneHelper=Lr,t.ArrowHelper=Dr,t.AxesHelper=Ar,t.CatmullRomCurve3=kr,t.CubicBezierCurve3=Or,t.QuadraticBezierCurve3=Ir,t.LineCurve3=Rr,t.ArcCurve=Nr,t.EllipseCurve=Oi,t.SplineCurve=Ii,t.CubicBezierCurve=Ri,t.QuadraticBezierCurve=Ni,t.LineCurve=Pi,t.Shape=ji,t.Path=Bi,t.ShapePath=Fi,t.Font=Yi,t.CurvePath=ki,t.Curve=Ai,t.ShapeUtils=js,t.SceneUtils=ol,t.WebGLUtils=Mt,t.WireframeGeometry=Vt,t.ParametricGeometry=Gt,t.ParametricBufferGeometry=Wt,t.TetrahedronGeometry=Qt,t.TetrahedronBufferGeometry=Zt,t.OctahedronGeometry=Kt,t.OctahedronBufferGeometry=Jt,t.IcosahedronGeometry=$t,t.IcosahedronBufferGeometry=en,t.DodecahedronGeometry=tn,t.DodecahedronBufferGeometry=nn,t.PolyhedronGeometry=Xt,t.PolyhedronBufferGeometry=qt,t.TubeGeometry=rn,t.TubeBufferGeometry=on,t.TorusKnotGeometry=an,t.TorusKnotBufferGeometry=sn,t.TorusGeometry=ln,t.TorusBufferGeometry=un,t.TextGeometry=hn,t.TextBufferGeometry=pn,t.SphereGeometry=fn,t.SphereBufferGeometry=mn,t.RingGeometry=gn,t.RingBufferGeometry=vn,t.PlaneGeometry=Pe,t.PlaneBufferGeometry=ke,t.LatheGeometry=yn,t.LatheBufferGeometry=_n,t.ShapeGeometry=bn,t.ShapeBufferGeometry=wn,t.ExtrudeGeometry=cn,t.ExtrudeBufferGeometry=dn,t.EdgesGeometry=Mn,t.ConeGeometry=En,t.ConeBufferGeometry=Tn,t.CylinderGeometry=xn,t.CylinderBufferGeometry=Sn,t.CircleGeometry=Cn,t.CircleBufferGeometry=Ln,t.BoxGeometry=De,t.BoxBufferGeometry=Ae,t.ShadowMaterial=Dn,t.SpriteMaterial=Lt,t.RawShaderMaterial=An,t.ShaderMaterial=Ie,t.PointsMaterial=jt;t.MeshPhysicalMaterial=kn,t.MeshStandardMaterial=Pn,t.MeshPhongMaterial=On,t.MeshToonMaterial=In,t.MeshNormalMaterial=Rn,t.MeshLambertMaterial=Nn,t.MeshDepthMaterial=te,t.MeshDistanceMaterial=ne,t.MeshBasicMaterial=Oe,t.LineDashedMaterial=Bn,t.LineBasicMaterial=It,t.Material=ee,t.Float64BufferAttribute=Ee,t.Float32BufferAttribute=Se,t.Uint32BufferAttribute=xe,t.Int32BufferAttribute=Me,t.Uint16BufferAttribute=we,t.Int16BufferAttribute=be,t.Uint8ClampedBufferAttribute=_e,t.Uint8BufferAttribute=ye,t.Int8BufferAttribute=ve,t.BufferAttribute=ge,t.REVISION=go,t.MOUSE=vo,t.CullFaceNone=yo,t.CullFaceBack=_o,t.CullFaceFront=bo,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=wo,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=Mo,t.PCFSoftShadowMap=xo,t.FrontSide=So,t.BackSide=Eo,t.DoubleSide=To,t.FlatShading=1,t.SmoothShading=2,t.NoColors=Co,t.FaceColors=Lo,t.VertexColors=Do,t.NoBlending=Ao,t.NormalBlending=Po,t.AdditiveBlending=ko,t.SubtractiveBlending=Oo,t.MultiplyBlending=Io,t.CustomBlending=Ro,t.AddEquation=No,t.SubtractEquation=Bo,t.ReverseSubtractEquation=jo,t.MinEquation=Fo,t.MaxEquation=Yo,t.ZeroFactor=zo,t.OneFactor=Uo,t.SrcColorFactor=Ho,t.OneMinusSrcColorFactor=Vo,t.SrcAlphaFactor=Go,t.OneMinusSrcAlphaFactor=Wo,t.DstAlphaFactor=Xo,t.OneMinusDstAlphaFactor=qo,t.DstColorFactor=Qo,t.OneMinusDstColorFactor=Zo,t.SrcAlphaSaturateFactor=Ko,t.NeverDepth=Jo,t.AlwaysDepth=$o,t.LessDepth=ea,t.LessEqualDepth=ta,t.EqualDepth=na,t.GreaterEqualDepth=ia,t.GreaterDepth=ra,t.NotEqualDepth=oa,t.MultiplyOperation=aa,t.MixOperation=sa,t.AddOperation=la,t.NoToneMapping=ua,t.LinearToneMapping=ca,t.ReinhardToneMapping=da,t.Uncharted2ToneMapping=ha,t.CineonToneMapping=pa,t.UVMapping=300,t.CubeReflectionMapping=fa,t.CubeRefractionMapping=ma,t.EquirectangularReflectionMapping=ga,t.EquirectangularRefractionMapping=va,t.SphericalReflectionMapping=ya,t.CubeUVReflectionMapping=_a,t.CubeUVRefractionMapping=ba,t.RepeatWrapping=wa,t.ClampToEdgeWrapping=Ma,t.MirroredRepeatWrapping=xa,t.NearestFilter=Sa,t.NearestMipMapNearestFilter=Ea,t.NearestMipMapLinearFilter=Ta,t.LinearFilter=Ca,t.LinearMipMapNearestFilter=La,t.LinearMipMapLinearFilter=Da,t.UnsignedByteType=Aa,t.ByteType=Pa,t.ShortType=ka,t.UnsignedShortType=Oa,t.IntType=Ia,t.UnsignedIntType=Ra,t.FloatType=Na,t.HalfFloatType=Ba,t.UnsignedShort4444Type=ja,t.UnsignedShort5551Type=Fa,t.UnsignedShort565Type=Ya,t.UnsignedInt248Type=za,t.AlphaFormat=Ua,t.RGBFormat=Ha,t.RGBAFormat=Va,t.LuminanceFormat=Ga,t.LuminanceAlphaFormat=Wa,t.RGBEFormat=Xa,t.DepthFormat=qa,t.DepthStencilFormat=Qa,t.RGB_S3TC_DXT1_Format=Za,t.RGBA_S3TC_DXT1_Format=Ka,t.RGBA_S3TC_DXT3_Format=Ja,t.RGBA_S3TC_DXT5_Format=$a,t.RGB_PVRTC_4BPPV1_Format=es,t.RGB_PVRTC_2BPPV1_Format=ts,t.RGBA_PVRTC_4BPPV1_Format=ns,t.RGBA_PVRTC_2BPPV1_Format=is,t.RGB_ETC1_Format=rs,t.LoopOnce=2200,t.LoopRepeat=os,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=as,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=ss,t.TriangleStripDrawMode=ls,t.TriangleFanDrawMode=us,t.LinearEncoding=cs,t.sRGBEncoding=ds,t.GammaEncoding=hs,t.RGBEEncoding=ps,t.LogLuvEncoding=3003,t.RGBM7Encoding=fs,t.RGBM16Encoding=ms,t.RGBDEncoding=gs,t.BasicDepthPacking=vs,t.RGBADepthPacking=ys,t.CubeGeometry=De,t.Face4=Br,t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=jr,t.MultiMaterial=Fr,t.PointCloud=Yr,t.Particle=zr,t.ParticleSystem=Ur,t.PointCloudMaterial=Hr,t.ParticleBasicMaterial=Vr,t.ParticleSystemMaterial=Gr,t.Vertex=Wr,t.DynamicBufferAttribute=Xr,t.Int8Attribute=qr,t.Uint8Attribute=Qr,t.Uint8ClampedAttribute=Zr,t.Int16Attribute=Kr,t.Uint16Attribute=Jr,t.Int32Attribute=$r,t.Uint32Attribute=eo,t.Float32Attribute=to,t.Float64Attribute=no,t.ClosedSplineCurve3=io,t.SplineCurve3=ro,t.Spline=oo,t.AxisHelper=ao,t.BoundingBoxHelper=so,t.EdgesHelper=lo,t.WireframeHelper=uo,t.XHRLoader=co,t.BinaryTextureLoader=ho,t.GeometryUtils=al,t.ImageUtils=sl,t.Projector=po,t.CanvasRenderer=fo},function(e,t,n){"use strict";function i(){this.isTouchSupported="ontouchstart"in window,this.isPointerEnabled=!!window.PointerEvent,this.isMsPointerEnabled=!!window.navigator.msPointerEnabled,!0===this.isMsPointerEnabled&&(this.isPointerEnabled=!0),this.startEvent=this.isPointerEnabled?"pointerdown":this.isTouchSupported?"touchstart":"mousedown",this.moveEvent=this.isPointerEnabled?"pointermove":this.isTouchSupported?"touchmove":"mousemove",this.endEvent=this.isPointerEnabled?"pointerup":this.isTouchSupported?"touchend":"mouseup",this.cssRef=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.Helpers=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(5),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=function(){},c=null;i.prototype.getTouch=function(e){var t=e.type,n=/^(touch)/,i=/^(mouse)/,r=/^(pointer)/,o=null,a=null;return this.isPointerEnabled&&r.test(t)?(o=e.pageX,a=e.pageY):this.isTouchSupported&&n.test(t)?(o=e.touches.length>0?e.touches[0].pageX:null,a=e.touches.length>0?e.touches[0].pageY:null,e.preventDefault()):i.test(t)&&(o=e.pageX,a=e.pageY),{pos:{x:o,y:a},type:t,startEvent:this.startEvent,moveEvent:this.moveEvent,endEvent:this.endEvent}},i.prototype.augment=function(e,t,n){var i=u.prototype="function"==typeof e?e.prototype:e,o=new u,a=null;if(a=void 0===n||null==n?t.apply(o):t.apply(o,n),"object"===(void 0===a?"undefined":r(a)))for(var s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);var l=o.constructor;return l.prototype=o,l.prototype.base=i,l},i.prototype.augmentPlugin=function(e,t){Array.isArray(e)||(e=[e]);var i=e.slice(0,e.length-1).map(function(e){return n(602)("./"+e)});return void 0===t&&(t={}),this.augment(t,e[e.length-1],i)},i.prototype.extend=function(e,t){return this.augment(e,function(e){return this.base=e,t})},i.prototype.merge=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(var o in t)t.hasOwnProperty(o)&&("object"!==r(t[o])||Array.isArray(t[o])?n[o]=t[o]:n[o]=this.merge(n[o],t[o]));return n},i.prototype.arrayMergeInOrder=function(e,t){var n;for(n=0;n<t.length;n++)e.indexOf(t[n])<0&&e.push(t[n]);for(n=e.length-1;n>=0;n--)t.indexOf(e[n])<0&&e.splice(n,1);return e},i.prototype.arrayEquals=function(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!this.arrayEquals(e[n],t[n]))return!1}else if(e[n]instanceof Object){if(!this.objectEquals(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0},i.prototype.objectEquals=function(e,t){var n;for(n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(r(e[n])!==r(t[n]))return!1}for(n in t)if(t.hasOwnProperty(n)){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(r(e[n])!==r(t[n]))return!1;if(!e.hasOwnProperty(n))continue;if(e[n]instanceof Array&&t[n]instanceof Array){if(!this.arrayEquals(e[n],t[n]))return!1}else if(e[n]instanceof Object&&t[n]instanceof Object){if(!this.objectEquals(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1}return!0},i.prototype.disposeMesh=function(e){var t=this;if(e instanceof l.Mesh){if(e.parent&&e.parent.remove(e),void 0!==e.children)for(;e.children.length>0;)t.disposeMesh(e.children[0]),e.remove(e.children[0]);return e.geometry&&(e.geometry.dispose(),e.geometry=null),e.userData.doNotDisposeMaterial?(e=null,!0):(e.material&&(e.material instanceof l.ShaderMaterial?e.material.uniforms.map.value&&(e.material.uniforms.map.value.dispose(),e.material.uniforms.map.value=null):e.material instanceof l.MeshPhongMaterial&&e.material.map&&(e.material.map.dispose(),e.material.map=null),e.material.dispose(),e.material=null),e=null,!0)}return!1},i.prototype.inOffset=function(e,t,n){return!(e.x+t.width<n.x||e.y+t.height<n.y||e.x>n.x+n.width||e.y>n.y+n.height)},i.prototype.hasClass=function(e,t){return e&&(" "+e.className+" ").indexOf(" "+t+" ")>-1},i.prototype.addClass=function(e,t){this.hasClass(e,t)||(e.className=e.className.trim()+" "+t)},i.prototype.removeClass=function(e,t){var n,i,r="";if(this.hasClass(e,t)){for(n=e.className.split(" "),i=0;i<n.length;i+=1)n[i]!==t&&(r+=n[i]+" ");e.className=r.trim()}},i.prototype.getBinWidth=function(e,t,n){var i,r,o,a,s=this;t||(e=e.sort(function(e,t){return e-t})),a=[e[0],e[e.length-1],e[Math.floor((e.length-1)/2)]],r=s.getMaxFloatingPrecision(a),i=1*Math.pow(10,r),1!==i&&(e=e.map(function(e){return e*i})),null===e[0]&&e.shift();var l=0===e.length?0:e[e.length-1]-e[0];if(l<=10)o=1;else{for(var u,c={mean:0,variance:0,deviation:0},d=e.length,h=0,p=d;p--;h+=e[p]);for(u=c.mean=h/d,p=d,h=0;p--;h+=Math.pow(e[p]-u,2));c.deviation=Math.sqrt(c.variance=h/d),o=3.5*c.deviation*Math.pow(e.length,-1/3)}return o=Math.ceil(o),1!==i&&(o/=i),l/=i,1!==o&&l/o>20&&(o=l/20,o=Math.ceil(o)),0!==l&&l<o&&"Date"===n?o=l:l<o&&"Date"!==n&&(o=1),o},i.prototype.isFloating=function(e){return e%1!=0},i.prototype.getFloatingPrecision=function(e){var t;return t=(e+"").split("."),void 0!==t[1]?t[1].length:0},i.prototype.getMaxFloatingPrecision=function(e){var t,n,i,r=this,o=0;for(i=e.length,n=0;n<i;n+=1)r.isFloating(e[n])&&(t=r.getFloatingPrecision(e[n]))>o&&(o=t);return o},i.prototype.checkSizeIntegrity=function(e){("number"!=typeof e.width||e.width!==e.width||e.width<1e-5)&&(e.width=1e-5),("number"!=typeof e.height||e.height!==e.height||e.height<1e-5)&&(e.height=1e-5)},i.prototype.getBins=function(e,t,n,i,r,o){function a(e){void 0===D[e[r]]&&(f.elements.push(e),D[e[r]]=!0,w&&o.call(L,e))}function s(e,t,n){return null===e?"null":"float"===t&&void 0!==e.toFixed?parseFloat(e.toFixed(n)):parseInt(e)}var l,u,c,d,h,p,f,m,g,v,y,_=this,b=[],w=!1,M=!1,x=!1,S=!1,E=0,T=0,C=!1,L={},D={};if(isNaN(n))throw new Error("Passed binWidth is not a number.");if(L.relations={},L.numberOfBins=0,(m=e.length)>0){if("Number"===t||"Date"===t){for(S=!0,u=0;u<m;u+=1)"string"==typeof e[u].value&&("null"!==e[u].value?e[u].value=parseFloat(e[u].value):"null"===e[u].value&&(e[u].value=null)),e[u].groupingValue=e[u].value;"Number"===t&&(g=[e[0].groupingValue,e[m-1].groupingValue,e[Math.floor((m-1)/2)].groupingValue],(T=_.getMaxFloatingPrecision(g))>0&&(M=!0))}else for(u=0;u<m;u+=1)e[u].groupingValue=u;for(void 0!==i&&""!==i&&(C=!0,void 0!==r&&null!==r&&(x=!0),void 0!==o&&null!==o&&(w=!0)),v=Math.pow(10,T),y=1/v,d=e[m-1].groupingValue,c=0,u=e[c]?e[c].groupingValue:void 0;c<m;u+=n)if(S&&null===e[c].groupingValue||S&&"null"===e[c].groupingValue)b.splice(0,0,{startingGroupingValue:null,endingGroupingValue:null,startingValue:"null",endingValue:"null",elements:i in e[c]?e[c][i]:[],facetValuesUnique:[null],isRange:!1}),b[0].elements.length>E&&(E=b[0].elements.length),c++;else{for(u<e[c].groupingValue&&(u=e[c].groupingValue),p=u,h=u+n-y,M&&(p=Math.round(p*v)/v,h=Math.round(h*v)/v),f={startingGroupingValue:p,endingGroupingValue:h,elements:[],facetValuesUnique:[]},l=c,D={};c<m&&e[c].groupingValue<=h&&null!==e[c].groupingValue;)L.numberOfBins=b.length,C&&(x?e[c][i].forEach(a):(w&&e[c][i].forEach(o,L),Array.prototype.push.apply(f.elements,e[c][i]))),f.facetValuesUnique.push(e[c].value),c+=1;L.numberOfBins+=1,S?(f.startingValue=p,u+n+y>d&&l!==c?(f.endingValue=e[c-1].groupingValue,f.endingGroupingValue=e[c-1].groupingValue):f.endingValue=h):(f.startingValue=e[l].value,f.endingValue=e[c-1].value),f.elements.length>E&&(E=f.elements.length),(S||f.elements.length>0)&&b.push(f),S&&(M?(f.startingValue=s(f.startingValue,"float",T),f.endingValue=s(f.endingValue,"float",T)):(f.startingValue=s(f.startingValue),f.endingValue=s(f.endingValue))),"Date"===t&&(f.startingValue=_.parseDate(f.startingValue),f.endingValue=_.parseDate(f.endingValue)),f.isRange=f.startingValue!==f.endingValue}}return L.bins=b,L.maxCount=E,L},i.prototype.sort=function(e,t){function n(e){return null!==e?e.toLowerCase():e}function i(e){return e}var r="value"===e?n:i;return function(n,i){var o=r(n[e]),a=r(i[e]);return t?o<a?-1:o>a?1:0:o<a?1:o>a?-1:0}},i.prototype.getQueryStringParameter=function(e,t){var n=e.split("?"),i=null;if(n.length>1)for(var r=n[1].split("&"),o=0;o<r.length;o+=1){var a=r[o].split("=");a[0]===t&&(i=a[1])}return i},i.prototype.addUpdateQueryStringParameter=function(e,t,n){var i=e;if(e.indexOf("?")>=0)if(e.indexOf(t)>=0){var r=e.split(t),o=r[1].split("&");o.splice(0,1),i=r[0]+t+"="+n,o.length>0&&(i+="&"+o.join("&"))}else i+="&"+t+"="+n;else i+="?"+t+"="+n;return i},i.prototype.getFontWidth=function(e,t){var n,i,r,o=this;return n=document.createElement("div"),i=document.createTextNode("M"),n.appendChild(i),n.setAttribute("style","position:absolute;top:-100px;left:-100px;font-family:"+e+";font-size:"+t+"px;"),document.body.appendChild(n),r=n.offsetWidth,o.fontWidth=r,r},i.prototype.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))},i.prototype.bankersRound=function(e){var t=Math.round(e);return.5===Math.abs(e%1)&&t%2!=0?t-1:t},i.prototype.parseDate=function(e){var t=new Date(e);return(0,a.default)(t).format("L LTS")},i.prototype.parseDateShort=function(e){var t=new Date(e);return(0,a.default)(t).format("L")},i.prototype.parseDateStringToUnixTimestamp=function(e){return(0,a.default)(e,"L LTS").valueOf()},i.prototype.isMobile=function(){return document.getElementById("zeg-viewpanel").offsetWidth<1200},i.prototype.registerCSS=function(e,t){if(void 0!==this.cssRef&&this.cssRef.indexOf(e)>=0)void 0!==t&&t();else{var n=document.createElement("link");n.onload=function(){void 0!==t&&t()},n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n),this.cssRef.push(e)}},i.prototype.createWorkerFromFunction=function(e,t){var n=window.URL||window.webkitURL,i=window.Blob,r=window.Worker;if(!n||!i||!r)return null;void 0!==t&&(e=t(e.toString())),e="'use strict'\r\nvar _mainContext = this; var root; root = ("+e.toString()+")();";var o=new i([e],{type:"application/javascript"});return new r(n.createObjectURL(o))},i.prototype.debounce=function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):(e-=this.length,e>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var d=0;i.prototype.generateUUID=function(){var e=d.toString(16).padStart(8,"0");return d++,e},i.prototype.isObjEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},i.prototype.isFullscreen=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},t.Helpers=c=c||new i,t.Helpers=c},function(e,t,n){"use strict";var i=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};e.exports=i},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";function i(e,t,n,i){var r,o,a,s,l,u,c,d,h,p,f,m=!0,g=!0;for(var v in ce)if(ce.hasOwnProperty(v))if(g=!1,ce.hasOwnProperty(v)&&ce[v].active&&(v!==n||i)){if(r=ce[v],o=r.hasOwnProperty("values")?r.values:null)switch(m=!1,ce[v].type){case"equal":for(v!==Te&&v!==Ce||(v=ve),a=e.get(v,t),s=0;s<o.length;s++){if(Array.isArray(a)){for(u=a.length,l=0;l<u;l+=1)if(a[l]===o[s]){m=!0;break}}else a===o[s]&&(m=!0);if(m)break}break;case"range":for(a=e.get(v,t),null===a?ce[v].excludeNull||(m=!0):0===o.length&&(m=!0),s=0;s<o.length;s++){if(Array.isArray(a)){for(u=a.length,l=0;l<u;l+=1)if(a[l]>=o[s][0]&&a[l]<=o[s][1]){m=!0;break}}else a>=o[s][0]&&a<=o[s][1]&&(m=!0);if(m)break}break;case"scatter":for(a=e.get(ve,t),s=0;s<o.length;s++){if(Array.isArray(a)){for(u=a.length,l=0;l<u;l+=1)if(a[l]===o[s]){m=!0;break}}else a===o[s]&&(m=!0);if(m)break}break;case"date":if(a=e.get(v,t),c=new Date(a),h=o.hasOwnProperty("year"),p=o.hasOwnProperty("month"),f=o.hasOwnProperty("date"),h)for(d=c.getFullYear(),s=0;s<o.year.length;s++)d===o.year[s]&&(m=!0);if((!h||!1!==m)&&p)for(m=!1,d=c.getMonth(),s=0;s<o.month.length;s++)d===o.month[s]&&(m=!0);if((!h&&!p||!1!==m)&&f)for(m=!1,d=c.getDate(),s=0;s<o.date.length;s++)d===o.date[s]&&(m=!0);break;default:throw new Error("query(): filter type is not recognised.")}if(!m)return!1;g=!0}else g=!0;return m&&g}function r(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(Ae.call(e,t))return!1;return!0}function o(){ue={},ce={},de={},he={},pe=[],fe={},ge={},ve=null,ye=null,_e=null,be="id"}function a(e){function t(e,t){ge[e]=t}var n,i,r,a,s,l,u,c,d,h,p,f,m,g,v,y=[];for(o(),ue=dv.table(),v=e.length,s=0;s<v;s++){if(g=e[s],n=g.name,i="displayName"in g&&null!==g.displayName?g.displayName:g.name,a=g.type,l=g.isId,u=g.isName,c=g.isDescription,d=g.displayInFilter,h=g.displayInMeta,p=g.useInSearch,f=g.values,r=g.description,void 0===d&&(d=!0),void 0===h&&(h=!0),void 0===p&&(p=!0),void 0!==r&&0!==r.length||(r=null),m=dv.type.nominal,"Number"!==a&&"Date"!==a||(m=dv.type.numeric),-1===y.indexOf(n)&&(fe[n]=pe.length,pe.push({name:n,displayName:i,description:r,type:a,displayInFilter:d,displayInMeta:h,useInSearch:p}),y.push(n)),"Number"!==a)for(var _=0;_<f.length;_++)void 0!==f[_]&&null!==f[_]&&0!==f[_].length||(f[_]=De);ue[n]||ue.addColumn(n,f,m),Pe[n]=f.length,l&&(ve=n,g.values.forEach(t)),u&&(ye=n),c&&(_e=n)}we.Events.emitEvent("datastore.loaded",[this])}function s(e){return ge[e]}function l(){return pe}function u(e){return pe[fe[e]]}function c(e,t){var n,i=t[be];return t[ve],n=e.map(function(e,t){var n=e,r=s(e.value);return n.value=[e.value,i.get(r)],n}),n.sort(me),"desc"===Le&&n.reverse(),n=n.map(function(e){var t=e;return t.value=e.value[0],t})}function d(e,t){return function(n,i){for(var r,o,a,s,l,u,c=0,d=e.length,h=0;0===h&&c<d;){if(l=e[c](n),u=e[c](i),r=l instanceof Array,o=u instanceof Array,r&&!o)l=l[0],h=1;else if(o&&!r)u=u[0],h=-1;else if(r&&o){for(l.length<u.length?(s=l.length,h=-1):l.length>u.length?(s=u.length,h=1):s=l.length,a=0;a<s&&l[a]===u[a];a+=1);a===s?(l=l[0],u=u[0]):(l=l[a],u=u[a])}l="string"==typeof l?l.toLowerCase():l,u="string"==typeof u?u.toLowerCase():u,null!=l&&null==u?h=-1:null==l&&null!=u?h=1:l<u?h=-1:l>u&&(h=1),c+=1}return"desc"===t&&(h*=-1),h}}function h(e,t){var n=[],o=0,a=null,s=e===Ce?ve:e;a=r(ce)?ue.query({dims:[s],vals:[dv.count()]}):ue.query({dims:[s],vals:[dv.count()],where:function(n,r){return i(n,r,e,t)}});for(var l=0;l<a[0].length;l++){var u=a[1][l];o+=u,n.push({value:a[0][l],count:u})}return t&&(n=c(n,ue)),{name:e,selectedItemCount:o,values:n}}function p(e){var t;if(r(ce))t=[ue[e[0]],ue[e[1]],ue[ve]];else{var n=ue.where(function(t,n){return i(t,n,e[0],!1)});t=[n[e[0]],n[e[1]],n[ve]]}return t}function f(){return h(be,!0)}function m(e){return ue[e].type}function g(){var e=0;try{var t=ue.query({vals:[dv.count()]});void 0!==t&&Array.isArray(t)&&t.length>0&&(e=Array.isArray(t[0])?t[0][0]:t[0])}catch(e){}return e}function v(){var e,t=0;return r(ce)?t=g():void 0!==(e=ue.query({vals:[dv.count()],where:function(e,t){return i(e,t)}}))&&Array.isArray(e)&&e.length>0&&(t=Array.isArray(e[0])?e[0][0]:e[0]),t}function y(){return h(ve,!0)}function _(){return{name:ve,index:ue[ve].index}}function b(){return null===ye?null:{name:ye,index:ue[ye].index}}function w(){return{name:be,index:ue[be].index}}function M(){return Le}function x(e){Le="desc"===e?"desc":"asc"}function S(e,t){var n,i={id:null,name:null,description:null,values:[]};if(void 0!==(n=s(e))){for(var r in pe)pe.hasOwnProperty(r)&&i.values.push({name:pe[r].name,value:ue.hasOwnProperty(r)?ue[r].get(n,t):null});null!==ve&&(i.id=ue[ve].get(n,t)),null!==ye&&(i.name=ue[ye].get(n,t)),null!==_e&&(i.description=ue[_e].get(n,t))}return i}function E(e){return e&&!r(ce)?ue.where(function(e,t){return i(e,t,ve,!0)}):ue}function T(){return{filter:ce,sortColumnName:be,searchTags:Se,filterTags:de,activeFilterTags:Ee}}function C(e){ce=e,we.Events.emitEvent("filter.change",[null,!0])}function L(e,t){Se.length=0,e.forEach(function(e){Se.push(e)}),t&&we.Events.emitEvent("filter.change",[null,!0])}function D(){Ee.length=0}function A(){var e;he={};for(e in de)if(de.hasOwnProperty(e))for(var t=0;t<de[e].length;t++){var n=de[e][t];he.hasOwnProperty(n)?he[n]+=1:he[n]=1}}function P(e,t){de=e,A(),D(),t&&t.forEach(function(e){Ee.push(e)})}function k(){return 0===Object.keys(ce).length}function O(e){return void 0!==ce&&ce.hasOwnProperty(e)}function I(e,t){return!!O(e)&&ce[e].values.hasOwnProperty(t)}function R(e,t){if(!O(e))return!1;switch(ce[e].type){case"equal":return ce[e].values.indexOf(t)>-1;case"range":if(null===t){if(!ce[e].excludeNull)return!0}else if(0===ce[e].values.length)return!0;return t>=ce[e].values[0][0]&&t<=ce[e].values[0][1];case"scatter":return ce[e].values.indexOf(t)>-1;default:throw new Error("DataStore.isInFilter(): filter type is not recognised.")}}function N(e,t,n){return!(!O(e)||!ce[e].values.hasOwnProperty(t))&&ce[e].values[t].indexOf(n)>-1}function B(e){return!(!O(e)||!0!==ce[e].active)}function j(e){return!!O(e)&&ce[e].type}function F(e,t,n,i){var r,o=!1,a=Array.isArray(t);switch(n){case"equal":case"scatter":r=a?t:[t];break;case"range":r=[t]}return O(e)?"range"===n&&null===t?ce[e].excludeNull=!ce[e].excludeNull:a?(ce[e].values=t,ce[e].type=n,i&&(ce[e].excludeNull=!0)):"equal"===n?ce[e].values.push(t):ce[e].values.hasOwnProperty(t.dateType)?ce[e].values[t.dateType]=ce[e].values[t.dateType].concat(t.value):ce[e].values[t.dateType]=t.value:(ce[e]="range"===n&&null===t?{active:!0,type:n,values:[],excludeNull:!0}:{active:!0,type:n,values:r,excludeNull:i},o=!0),we.Events.emitEvent("filter.change",[e]),o}function Y(e){var t,n=[],i=!1;"Number"===pe[_().index].type&&(i=!0);for(t in de)de.hasOwnProperty(t)&&de[t].indexOf(e)>-1&&(i&&(t=parseInt(t)),-1===n.indexOf(t)&&n.push(t));return n}function z(){var e,t,n=[];for(t=0;t<Ee.length;t++)e=Ee[t],n=n.concat(Y(e));return n}function U(){var e=z();F(Ce,e,"equal")}function H(e){-1===Ee.indexOf(e)&&(Ee.push(e),U())}function V(e,t){var n=O(e);return delete ce[e],n&&!t&&we.Events.emitEvent("filter.change",[e]),n}function G(e){var t=Ee.indexOf(e);t>-1&&Ee.splice(t,1),0===Ee.length?V(Ce):U()}function W(e){return O(e)?ce[e].values:null}function X(e){return!!O(e)&&ce[e].excludeNull}function q(e){var t=null;return O(e)&&"scatter"===ce[e].type&&(t=ce[e].values),t}function Q(e,t){O(e)?ce[e].active=t:ce[e]={active:t}}function Z(e,t,n){var i=!1,r=ce[e].values.indexOf(t);return r>-1&&(ce[e].values.splice(r,1),0===ce[e].values.length&&(V(e),i=!0),n||we.Events.emitEvent("filter.change",[e])),i}function K(e,t,n){var i,r,o=!1;for(r=0;r<n.length;r++)(i=ce[e].values[t].indexOf(n[r]))>-1&&(ce[e].values[t].splice(i,1),0===ce[e].values[t].length&&(delete ce[e].values[t],0===Object.keys(ce[e].values).length&&V(e),o=!0));return we.Events.emitEvent("filter.change",[e]),o}function J(e){ce[e].values=[]}function $(e){var t=pe.filter(function(t){return t.name===e});if(0===t.length)throw new Error("showInMeta(): Category could not be found in facetTypes array");return t[0].displayInMeta}function ee(e,t){var n=!1;return de.hasOwnProperty(t)&&(n=de[t].indexOf(e)>-1),n}function te(e){var t=[];return de.hasOwnProperty(e)&&(t=de[e]),t}function ne(){var e,t,n=[];for(t in he)he.hasOwnProperty(t)&&n.push({value:t,count:he[t]});return r(ce)||(e=h(Ce),n=n.map(function(t){var n=Y(t.value),i=0;return n.forEach(function(t){e.values.some(function(e){return e.value===t&&(i+=e.count,!0)})}),t.count=i,t})),n}function ie(e,t,n){var i=!1;n=n||!0,de.hasOwnProperty(t)?-1===de[t].indexOf(e)&&(de[t].push(e),i=!0):(de[t]=[e],i=!0),i&&(he.hasOwnProperty(e)?he[e]+=1:he[e]=1),n&&we.Events.emitEvent("tags.change")}function re(e){var t,n=ue[ve];for(t=0;t<n.length;t++)ie(e,n.get(t),!1)}function oe(e,t){var n,i;de.hasOwnProperty(t)&&(n=de[t],n.indexOf(e)>-1&&n.splice(n.indexOf(e),1),0===n.length&&delete de[t],0===Y(e).length&&(i=Ee.indexOf(e))>-1&&Ee.splice(i,1),he.hasOwnProperty(e)&&(he[e]-=1),0===he[e]&&delete he[e]),we.Events.emitEvent("tags.change")}function ae(e){return void 0===fe[e]?-1:fe[e]}function se(e){var t;return t=ae(e),t<0&&(e=e.toLowerCase(),(t=ae(e))<0&&(e=e.charAt(0).toUpperCase()+e.slice(1),(t=ae(e))<0&&(e=e.toUpperCase(),t=ae(e)))),t}function le(e){var t,n,i,r,o,a,s,u,c,d,h,p,f,m=[];for(f=void 0!==e?e:[],h="<html>",h+="<head><title>"+xe.Config.properties().title+" - Export current filter</title><style>",h+="table {width:100%; margin-top: 30px;}",h+="table, th, td {border: 1px solid black; border-collapse: collapse;}",h+="th, td {padding: 5px; text-align: left;}",h+="table tr:nth-child(even) {background-color: #eeeeee;}",h+="table tr:nth-child(odd) {background-color:#ffffff;}",h+="table th {background-color: #cccccc;}",h+="</style></head>",h+="<body><table>",r=l(),h+="<thead><tr>",o=_(),u=r.length,a=0;a<u;a+=1)i=r[a],(r[a].displayInMeta&&0==f.length||f.indexOf(r[a].name)>=0)&&(h+="<th>"+i.displayName+"</th>",m.push(i.name));void 0!==de&&null!==de&&(0==f.length||f.indexOf("tags")>=0)&&(h+="<th>Tags</th>",m.push("Tags")),h+="</tr></thead>",n=E(!0);var g=n[o.name];for(d=g.length,h+="<tbody>",u=d,a=0;a<u;a+=1){for(h+="<tr>",c=m.length,s=0;s<c;s+=1){if("Tags"===m[s]){var v=g.get(a,!0);p=void 0!==de[v]?de[v].join():""}else{var y=n[m[s]];if("Geo"===r[s].type){p="";var b=y.get(a,!1);if(null!==b&&b.length>0){for(var w=0;w<b[0].length;w++)p+=(b[0][w]>=0?"+":"")+b[0][w];p+="/"}}else p=y.get(a,!0);"Date"===r[s].type&&(p=Me.Helpers.parseDate(parseInt(p))),r[s].type,void 0!==p&&null!==p||(p="")}h+="<td>"+p+"</td>"}h+="</tr>"}h+="</tbody>",h+="</table></body></html>",t=window.open(),t.document.open(),t.document.write(h),t.document.close()}Object.defineProperty(t,"__esModule",{value:!0});var ue,ce,de,he,pe,fe,me,ge,ve,ye,_e,be,we=n(2),Me=n(6),xe=n(3),Se=[],Ee=[],Te="searchEngine",Ce="tagSearch",Le="asc",De=null;we.Events.addListener("sort.change",function(e,t,n){be=e,Le="desc"===n?"desc":"asc",we.Events.emitEvent("sort.updated")});var Ae=Object.prototype.hasOwnProperty,Pe={};me=d([function(e){return e.value[1]},function(e){return e.value[2]}]),t.default={colLengths:Pe,loadData:a,getCurrentFacetType:f,getOriginFacet:u,getFacetIndex:ae,searchFacetIndex:se,getFacetTypeByName:m,getFacetTypes:l,getFacetTypeCount:h,getFacetTypesCount:p,getIndexById:s,getTotalCount:g,getFilteredCount:v,getFilterCategoryType:j,getPrimaryIdentifierCount:y,getPrimaryKeyColumn:_,getNameColumn:b,getItemById:S,getSortColumn:w,getSortOrder:M,setSortOrder:x,getTable:E,searchTags:Se,getSnapshotDataReadOnly:T,replaceFilter:C,replaceSearchTags:L,replaceFilterTags:P,clearActiveFilterTags:D,isFilterEmpty:k,isCategoryActive:B,isCategoryInFilter:O,isDateTypeInFilter:I,isInFilter:R,isDateInFilter:N,getValuesFromCategory:W,getExcludeNullFromCategory:X,getScatterPlotValues:q,addToFilter:F,addTagToFilter:H,removeTagFromFilter:G,setActive:Q,removeFromFilter:Z,removeDateFromFilter:K,removeRangeFromFilter:J,removeCategoryFromFilter:V,searchFilterName:Te,tagFilterName:Ce,showInMeta:$,hasTag:ee,addTag:ie,tagAll:re,removeTag:oe,activeFilterTags:Ee,getTagsForId:te,getIdsForTags:z,getAllTags:ne,sortFunctionGenerator:d,exportFilter:le}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(97)("wks"),r=n(63),o=n(10).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(8),r=n(177),o=n(38),a=Object.defineProperty;t.f=n(14)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(40),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Pass=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5);t.Pass=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Scene,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.OrthographicCamera(-1,1,1,-1,0,1),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.Mesh(new o.PlaneBufferGeometry(2,2),null);i(this,e),this.name="Pass",this.scene=t,this.camera=n,this.quad=r,null!==this.quad&&(this.quad.frustumCulled=!1,null!==this.scene&&this.scene.add(this.quad)),this.needsSwap=!1,this.enabled=!0,this.renderToScreen=!1}return r(e,[{key:"render",value:function(e,t,n,i,r){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(e,t){}},{key:"initialise",value:function(e,t){}},{key:"dispose",value:function(){var e=Object.keys(this),t=void 0,n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)t=o.value,null!==this[t]&&"function"==typeof this[t].dispose&&(this[t].dispose(),this[t]=null)}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}}]),e}()},function(e,t,n){var i=n(39);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";function i(){var e=["debug","info","warn","error","none"],t=function(t,n,i){var o=r.Config.properties().logging,a=e.indexOf(o),s=e.indexOf(n);if((console||!console.log)&&!(s<a)){var l=[t];if(void 0!==i)for(var u=0;u<i.length;u++)l.push(i[u]);console[e[s]]?console[e[s]].apply(null,l):console.log(t)}};this.info=function(e,n){t(e,"info",n)},this.debug=function(e,n){t(e,"debug",n)},this.warn=function(e,n){t(e,"warn",n)},this.error=function(e,n){t(e,"error",n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;var r=n(3),o=null;t.Log=o=o||new i,t.Log=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(676);Object.defineProperty(t,"AdaptiveLuminosityMaterial",{enumerable:!0,get:function(){return i.AdaptiveLuminosityMaterial}});var r=n(677);Object.defineProperty(t,"BokehMaterial",{enumerable:!0,get:function(){return r.BokehMaterial}});var o=n(678);Object.defineProperty(t,"Bokeh2Material",{enumerable:!0,get:function(){return o.Bokeh2Material}});var a=n(679);Object.defineProperty(t,"CombineMaterial",{enumerable:!0,get:function(){return a.CombineMaterial}});var s=n(680);Object.defineProperty(t,"ConvolutionMaterial",{enumerable:!0,get:function(){return s.ConvolutionMaterial}}),Object.defineProperty(t,"KernelSize",{enumerable:!0,get:function(){return s.KernelSize}});var l=n(681);Object.defineProperty(t,"CopyMaterial",{enumerable:!0,get:function(){return l.CopyMaterial}});var u=n(682);Object.defineProperty(t,"DotScreenMaterial",{enumerable:!0,get:function(){return u.DotScreenMaterial}});var c=n(683);Object.defineProperty(t,"FilmMaterial",{enumerable:!0,get:function(){return c.FilmMaterial}});var d=n(684);Object.defineProperty(t,"GlitchMaterial",{enumerable:!0,get:function(){return d.GlitchMaterial}});var h=n(685);Object.defineProperty(t,"GodRaysMaterial",{enumerable:!0,get:function(){return h.GodRaysMaterial}});var p=n(686);Object.defineProperty(t,"LuminosityMaterial",{enumerable:!0,get:function(){return p.LuminosityMaterial}});var f=n(687);Object.defineProperty(t,"PixelationMaterial",{enumerable:!0,get:function(){return f.PixelationMaterial}});var m=n(688);Object.defineProperty(t,"ShockWaveMaterial",{enumerable:!0,get:function(){return m.ShockWaveMaterial}});var g=n(689);Object.defineProperty(t,"SMAABlendMaterial",{enumerable:!0,get:function(){return g.SMAABlendMaterial}});var v=n(690);Object.defineProperty(t,"SMAAColorEdgesMaterial",{enumerable:!0,get:function(){return v.SMAAColorEdgesMaterial}});var y=n(691);Object.defineProperty(t,"SMAAWeightsMaterial",{enumerable:!0,get:function(){return y.SMAAWeightsMaterial}});var _=n(692);Object.defineProperty(t,"ToneMappingMaterial",{enumerable:!0,get:function(){return _.ToneMappingMaterial}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Ajax=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=n(3),s=n(19),l=function(){function e(){i(this,e)}return r(e,[{key:"contructor",value:function(){}},{key:"get",value:function(e,t,n){var i=new XMLHttpRequest,r=this.getQueryString(e,"GET");i.open("GET",e+r,!0),this.setAuthToken(i),i.onload=function(){if(i.status>=200&&i.status<400){var e=i.responseText;t(e)}else"function"==typeof n&&n(i)},i.onerror=function(){},i.onprogress=function(e){var t=0;if(e.lengthComputable)t=e.loaded/e.total;else{var n=this.getAllResponseHeaders(),i=null;n.includes("Zeg-Content-Length: ")?i=this.getResponseHeader("Zeg-Content-Length"):n.includes("Content-Length: ")&&(i=this.getResponseHeader("Content-Length")),null!==i&&(t=e.loaded/parseInt(i))}o.Events.emitEvent("ajax.progress",[t])},i.send()}},{key:"remove",value:function(e,t){var n=new XMLHttpRequest,i=this.getQueryString(e,"DELETE");n.open("DELETE",e+i,!0),this.setAuthToken(n),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||204===n.status)){var e=n.responseText.length>0?n.responseText:"{}";t(JSON.parse(e))}},n.send()}},{key:"post",value:function(e,t,n){var i=new XMLHttpRequest,r=this.getQueryString(e,"POST");i.open("POST",e+r,!0),i.setRequestHeader("Content-Type","application/json"),this.setAuthToken(i),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&void 0!==n&&n(JSON.parse(i.responseText))},i.send(JSON.stringify(t))}},{key:"put",value:function(e,t,n){var i=new XMLHttpRequest,r=this.getQueryString(e,"PUT");i.open("PUT",e+r,!0),i.setRequestHeader("Content-Type","application/json"),this.setAuthToken(i),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&n(JSON.parse(i.responseText))},i.send(JSON.stringify(t))}},{key:"getJSON",value:function(e,t,n){this.get(e,function(e){var n=JSON.parse(e);t(n)},n)}},{key:"postJSON",value:function(e,t,n){this.post(e,t,function(e){var t=JSON.parse(e);n(t)})}},{key:"putJSON",value:function(e,t,n){this.put(e,t,function(e){var t=JSON.parse(e);n(t)})}},{key:"getXML",value:function(e,t){var n=new XMLHttpRequest,i=this.getQueryString(e,"GET");n.open("GET",e+i,!0),this.setAuthToken(n),n.onload=function(){if(n.status>=200&&n.status<400){var e=n.responseXML;t(e)}},n.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total;o.Events.emitEvent("ajax.progress",[t])}},n.onerror=function(){},n.send()}},{key:"getQueryString",value:function(e,t){var n=e&&e.includes("?")?"&":"?",i=this._config.properties().ajaxQueryArgs.map(function(e){return 0===e.indexOf("token=")&&void 0!==t&&["POST","PUT","DELETE"].includes(t)?"token="+window.localStorage.getItem("zeg_authToken"):e}),r=i.join("&");return r.length>0?n+r:""}},{key:"setAuthToken",value:function(e){var t=this._config.properties().authToken;null!==t&&e.setRequestHeader("Authorization",t)}},{key:"downloadFile",value:function(e,t){var n=this,i=new XMLHttpRequest,r=t;r=r.includes("/")?r.split("/")[r.split("/").length-1]:r,i.open("GET",e,!0),i.responseType="arraybuffer",this._config.properties().authToken&&i.setRequestHeader("Authorization",this._config.properties().authToken),i.onload=function(e){if(200==e.target.status){var t=new Blob([e.target.response],{type:"application/octet-stream"}),i=URL.createObjectURL(t),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)}else n._log.error("Failed to download "+i+" server returned status "+e.target.status)},i.onerror=function(){n._log.error("Failed to download file at "+e)},i.send()}}]),e}(),u=u||new l;u._config=a.Config,u._events=o.Events,u._log=s.Log,t.Ajax=u},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(15),r=n(62);e.exports=n(14)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(10),r=n(24),o=n(23),a=n(63)("src"),s=Function.toString,l=(""+s).split("toString");n(37).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var i=n(1),r=n(11),o=n(39),a=/"/g,s=function(e,t,n,i){var r=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),i(i.P+i.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=r},function(e,t,n){var i=n(91),r=n(39);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(92),r=n(62),o=n(28),a=n(38),s=n(23),l=n(177),u=Object.getOwnPropertyDescriptor;t.f=n(14)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(23),r=n(18),o=n(125)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var i=n(73),r=i({bubbled:null,captured:null}),o=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};e.exports=a},function(e,t,n){var i=n(21);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(11);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var i=n(161),r=function(e,t){var n={};return i(n,e),i(n,t),n};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(2),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={getDefaultProps:function(){return{visible:!0}},componentDidMount:function(){r.Events.on("toolbar.button.click",function(e){var t=!1;this.props.type!==e||this.state.selected||(t=!0),this.isMounted()&&this.setState({selected:t})}.bind(this))},getUI:function(){if(!this.props.visible)return null;var e=!("active"in this.state)||this.state.active,t=a.default.addons.classSet,n=t({"primary-color":e,"inactive-color":!e});return a.default.DOM.div({className:"toolbar-button",onClick:this.handleOnClick},a.default.DOM.div({className:"toolbar-button-icon"},a.default.DOM.i({className:"fa "+this.state.icon+" "+n,title:i.Config.i18nValue(this.props.type+"-tooltip")})),null!=this.state.label?a.default.DOM.span({className:"toolbar-button-label"},this.state.label):null)},handleOnClick:function(e){this.props.visible&&(r.Events.emitEvent("toolbar.button.click",[this.props.type]),void 0!==this.onClick&&this.onClick(e))}}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(1),r=n(37),o=n(11);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(32),r=n(91),o=n(18),a=n(16),s=n(142);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,p=t||s;return function(t,s,f){for(var m,g,v=o(t),y=r(v),_=i(s,f,3),b=a(y.length),w=0,M=n?p(t,b):l?p(t,0):void 0;b>w;w++)if((h||w in y)&&(m=y[w],g=_(m,w,v),e))if(n)M[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:M.push(m)}else if(c)return!1;return d?-1:u||c?c:M}}},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=null;i.prototype.getRandomColor=function(){return parseInt(16777215*Math.random())},i.prototype.getColorByIndex=function(e){var t=["0x1f77b4","0xff7f0e","0x2ca02c","0xd62728","0x9467bd","0x8c564b","0xe377c2","0x7f7f7f","0xbcbd22","0x17becf","0xaec7e8","0xffbb78","0x98df8a","0xff9896","0xc5b0d5","0xc49c94","0xf7b6d2","0xc7c7c7","0xdbdb8d","0x9edae5"];return t[e%t.length]},i.prototype.getSequentialColorByIndex=function(e,t){var n=["0xfdfdfc","0xf7fcf5","0xeef8eb","0xe5f5e0","0xd6efd0","0xc7e9c0","0xb4e1ae","0xa1d99b","0x8bcf89","0x74c476","0x5bb86a","0x41ab5d","0x329b51","0x238b45","0x117c39","0x006d2c","0x005924","0x00441b","0x003012","0x001c09"],i=n.length/t;return e<=0&&(e=0),e>=t&&(e=t-1),n[Math.floor(e*i)%n.length]},i.prototype.isLight=function(e){var t,n,i,r,o;return o=parseInt(e,16),r=o>>16&255,i=o>>8&255,t=o>>0&255,n=.2126*r+.7152*i+.0722*t,(n=100*n/255)>=80},t.Colors=r=r||new i,t.Colors=r},function(e,t,n){"use strict";var i=n(52),r=i;e.exports=r},function(e,t,n){"use strict";var i=n(156),r=n(53),o=n(7),a={getDOMNode:function(){return o(this.isMounted()),i.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};e.exports=a},function(e,t,n){"use strict";function i(e,t){if("function"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if("function"==typeof i){var r=i.bind(t);for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);e[n]=r}else e[n]=i}}var r=n(162),o=n(84),a=n(35),s=(n(44),function(){});s.createFactory=function(e){var t=Object.create(s.prototype),n=function(e,n){null==e?e={}:"object"==typeof e&&(e=a(e));var i=arguments.length-1;if(1===i)e.children=n;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+1];e.children=s}var u=Object.create(t);return u._owner=o.current,u._context=r.current,u.props=e,u};return n.prototype=t,n.type=e,t.type=e,i(n,e),t.constructor=n,n},s.cloneAndReplaceProps=function(e,t){var n=Object.create(e.constructor.prototype);return n._owner=e._owner,n._context=e._context,n.props=t,n},s.isValidFactory=function(e){return"function"==typeof e&&e.prototype instanceof s},s.isValidDescriptor=function(e){return e instanceof s},e.exports=s},function(e,t,n){"use strict";var i=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])};e.exports=i},function(e,t,n){"use strict";function i(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function r(e,t,n){for(var i in t)t.hasOwnProperty(i)&&S("function"==typeof t[i])}function o(e,t){var n=k.hasOwnProperty(t)?k[t]:null;R.hasOwnProperty(t)&&S(n===A.OVERRIDE_BASE),e.hasOwnProperty(t)&&S(n===A.DEFINE_MANY||n===A.DEFINE_MANY_MERGED)}function a(e){var t=e._compositeLifeCycleState;S(e.isMounted()||t===I.MOUNTING),S(t!==I.RECEIVING_STATE),S(t!==I.UNMOUNTING)}function s(e,t){S(!m.isValidFactory(t)),S(!m.isValidDescriptor(t));var n=e.prototype;for(var i in t){var r=t[i];if(t.hasOwnProperty(i))if(o(n,i),O.hasOwnProperty(i))O[i](e,r);else{var a=k.hasOwnProperty(i),s=n.hasOwnProperty(i),l=r&&r.__reactDontBind,u="function"==typeof r,h=u&&!a&&!s&&!l;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=r,n[i]=r;else if(s){var p=k[i];S(a&&(p===A.DEFINE_MANY_MERGED||p===A.DEFINE_MANY)),p===A.DEFINE_MANY_MERGED?n[i]=c(n[i],r):p===A.DEFINE_MANY&&(n[i]=d(n[i],r))}else n[i]=r}}}function l(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in e,o=i;if(r){var a=e[n],s=typeof a,l=typeof i;S("function"===s&&"function"===l),o=d(a,i)}e[n]=o}}}function u(e,t){return S(e&&t&&"object"==typeof e&&"object"==typeof t),L(t,function(t,n){S(void 0===e[n]),e[n]=t}),e}function c(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);return null==n?i:null==i?n:u(n,i)}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var h=n(85),p=n(162),f=n(84),m=n(46),g=(n(353),n(156)),v=n(611),y=n(352),_=n(59),b=n(612),w=n(354),M=(n(355),n(86)),x=n(116),S=n(7),E=n(73),T=n(35),C=n(47),L=(n(160),n(356)),D=n(163),A=(n(44),E({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null})),P=[],k={mixins:A.DEFINE_MANY,statics:A.DEFINE_MANY,propTypes:A.DEFINE_MANY,contextTypes:A.DEFINE_MANY,childContextTypes:A.DEFINE_MANY,getDefaultProps:A.DEFINE_MANY_MERGED,getInitialState:A.DEFINE_MANY_MERGED,getChildContext:A.DEFINE_MANY_MERGED,render:A.DEFINE_ONCE,componentWillMount:A.DEFINE_MANY,componentDidMount:A.DEFINE_MANY,componentWillReceiveProps:A.DEFINE_MANY,shouldComponentUpdate:A.DEFINE_ONCE,componentWillUpdate:A.DEFINE_MANY,componentDidUpdate:A.DEFINE_MANY,componentWillUnmount:A.DEFINE_MANY,updateComponent:A.OVERRIDE_BASE},O={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)s(e,t[n])},childContextTypes:function(e,t){r(e,t,w.childContext),e.childContextTypes=T(e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,w.context),e.contextTypes=T(e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=c(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){r(e,t,w.prop),e.propTypes=T(e.propTypes,t)},statics:function(e,t){l(e,t)}},I=E({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),R={construct:function(e){h.Mixin.construct.apply(this,arguments),y.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return h.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==I.MOUNTING},mountComponent:_.measure("ReactCompositeComponent","mountComponent",function(e,t,n){h.Mixin.mountComponent.call(this,e,t,n),this._compositeLifeCycleState=I.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._descriptor._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,S("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=x(this._renderValidatedComponent()),this._compositeLifeCycleState=null;var i=this._renderedComponent.mountComponent(e,t,n+1);return this.componentDidMount&&t.getReactMountReady().enqueue(this.componentDidMount,this),i}),unmountComponent:function(){this._compositeLifeCycleState=I.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,h.Mixin.unmountComponent.call(this)},setState:function(e,t){S("object"==typeof e||null==e),this.replaceState(T(this._pendingState||this.state,e),t)},replaceState:function(e,t){a(this),this._pendingState=e,this._compositeLifeCycleState!==I.MOUNTING&&M.enqueueUpdate(this,t)},_processContext:function(e){var t=null,n=this.constructor.contextTypes;if(n){t={};for(var i in n)t[i]=e[i]}return t},_processChildContext:function(e){var t=this.getChildContext&&this.getChildContext();if(this.constructor.displayName,t){S("object"==typeof this.constructor.childContextTypes);for(var n in t)S(n in this.constructor.childContextTypes);return T(e,t)}return e},_processProps:function(e){var t,n=this.constructor.defaultProps;if(n){t=T(e);for(var i in n)void 0===t[i]&&(t[i]=n[i])}else t=e;return t},_checkPropTypes:function(e,t,n){var r=this.constructor.displayName;for(var o in e)if(e.hasOwnProperty(o)){var a=e[o](t,o,r,n);a instanceof Error&&i(this)}},performUpdateIfNecessary:function(e){var t=this._compositeLifeCycleState;if(t!==I.MOUNTING&&t!==I.RECEIVING_PROPS&&(null!=this._pendingDescriptor||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,i=this.props,r=this._descriptor;null!=this._pendingDescriptor&&(r=this._pendingDescriptor,n=this._processContext(r._context),i=this._processProps(r.props),this._pendingDescriptor=null,this._compositeLifeCycleState=I.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(i,n)),this._compositeLifeCycleState=I.RECEIVING_STATE;var o=this._pendingState||this.state;this._pendingState=null;try{this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(i,o,n)?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,i,o,n,e)):(this._descriptor=r,this.props=i,this.state=o,this.context=n,this._owner=r._owner)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(e,t,n,i,r){var o=this._descriptor,a=this.props,s=this.state,l=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,i),this._descriptor=e,this.props=t,this.state=n,this.context=i,this._owner=e._owner,this.updateComponent(r,o),this.componentDidUpdate&&r.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,a,s,l),this)},receiveComponent:function(e,t){e===this._descriptor&&null!=e._owner||h.Mixin.receiveComponent.call(this,e,t)},updateComponent:_.measure("ReactCompositeComponent","updateComponent",function(e,t){h.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,i=n._descriptor,r=this._renderValidatedComponent();if(D(i,r))n.receiveComponent(r,e);else{var o=this._rootNodeID,a=n._rootNodeID;n.unmountComponent(),this._renderedComponent=x(r);var s=this._renderedComponent.mountComponent(o,e,this._mountDepth+1);h.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(a,s)}}),forceUpdate:function(e){var t=this._compositeLifeCycleState;S(this.isMounted()||t===I.MOUNTING),S(t!==I.RECEIVING_STATE&&t!==I.UNMOUNTING),this._pendingForceUpdate=!0,M.enqueueUpdate(this,e)},_renderValidatedComponent:_.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var e,t=p.current;p.current=this._processChildContext(this._descriptor._context),f.current=this;try{e=this.render(),null===e||!1===e?(e=g.getEmptyComponent(),g.registerNullComponentID(this._rootNodeID)):g.deregisterNullComponentID(this._rootNodeID)}finally{p.current=t,f.current=null}return S(m.isValidDescriptor(e)),e}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(v.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(e){var t=this;return function(){return e.apply(t,arguments)}}},N=function(){};C(N,h.Mixin),C(N,y.Mixin),C(N,b.Mixin),C(N,R);var B={LifeCycle:I,Base:N,createClass:function(e){var t=function(e,t){this.construct(e,t)};t.prototype=new N,t.prototype.constructor=t,P.forEach(s.bind(null,t)),s(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),S(t.prototype.render);for(var n in k)t.prototype[n]||(t.prototype[n]=null);return m.createFactory(t)},injection:{injectMixin:function(e){P.push(e)}}};e.exports=B},function(e,t,n){"use strict";function i(e,t){var n=function(e){this.construct(e)};return n.prototype=new o(t,e),n.prototype.constructor=n,n.displayName=t,r.createFactory(n)}var r=n(46),o=(n(353),n(357)),a=n(161),s=n(356),l=s({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,dialog:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,picture:!1,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,var:!1,video:!1,wbr:!0,circle:!1,defs:!1,ellipse:!1,g:!1,line:!1,linearGradient:!1,mask:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1,tspan:!1},i),u={injectComponentClasses:function(e){a(l,e)}};l.injection=u,e.exports=l},function(e,t,n){"use strict";if(n(14)){var i=n(64),r=n(10),o=n(11),a=n(1),s=n(107),l=n(148),u=n(32),c=n(70),d=n(62),h=n(24),p=n(72),f=n(40),m=n(16),g=n(203),v=n(66),y=n(38),_=n(23),b=n(93),w=n(12),M=n(18),x=n(139),S=n(67),E=n(30),T=n(68).f,C=n(141),L=n(63),D=n(13),A=n(42),P=n(98),k=n(105),O=n(144),I=n(77),R=n(102),N=n(69),B=n(143),j=n(193),F=n(15),Y=n(29),z=F.f,U=Y.f,H=r.RangeError,V=r.TypeError,G=r.Uint8Array,W=Array.prototype,X=l.ArrayBuffer,q=l.DataView,Q=A(0),Z=A(2),K=A(3),J=A(4),$=A(5),ee=A(6),te=P(!0),ne=P(!1),ie=O.values,re=O.keys,oe=O.entries,ae=W.lastIndexOf,se=W.reduce,le=W.reduceRight,ue=W.join,ce=W.sort,de=W.slice,he=W.toString,pe=W.toLocaleString,fe=D("iterator"),me=D("toStringTag"),ge=L("typed_constructor"),ve=L("def_constructor"),ye=s.CONSTR,_e=s.TYPED,be=s.VIEW,we=A(1,function(e,t){return Te(k(e,e[ve]),t)}),Me=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),xe=!!G&&!!G.prototype.set&&o(function(){new G(1).set({})}),Se=function(e,t){var n=f(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ee=function(e){if(w(e)&&_e in e)return e;throw V(e+" is not a typed array!")},Te=function(e,t){if(!(w(e)&&ge in e))throw V("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Le(k(e,e[ve]),t)},Le=function(e,t){for(var n=0,i=t.length,r=Te(e,i);i>n;)r[n]=t[n++];return r},De=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Ae=function(e){var t,n,i,r,o,a,s=M(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,h=C(s);if(void 0!=h&&!x(h)){for(a=h.call(s),i=[],t=0;!(o=a.next()).done;t++)i.push(o.value);s=i}for(d&&l>2&&(c=u(c,arguments[2],2)),t=0,n=m(s.length),r=Te(this,n);n>t;t++)r[t]=d?c(s[t],t):s[t];return r},Pe=function(){for(var e=0,t=arguments.length,n=Te(this,t);t>e;)n[e]=arguments[e++];return n},ke=!!G&&o(function(){pe.call(new G(1))}),Oe=function(){return pe.apply(ke?de.call(Ee(this)):Ee(this),arguments)},Ie={copyWithin:function(e,t){return j.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Ee(this),arguments)},filter:function(e){return Ce(this,Z(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ee(this),arguments)},lastIndexOf:function(e){return ae.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ee(this),arguments)},reduceRight:function(e){return le.apply(Ee(this),arguments)},reverse:function(){for(var e,t=this,n=Ee(t).length,i=Math.floor(n/2),r=0;r<i;)e=t[r],t[r++]=t[--n],t[n]=e;return t},some:function(e){return K(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),i=n.length,r=v(e,i);return new(k(n,n[ve]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===t?i:v(t,i))-r))}},Re=function(e,t){return Ce(this,de.call(Ee(this),e,t))},Ne=function(e){Ee(this);var t=Se(arguments[1],1),n=this.length,i=M(e),r=m(i.length),o=0;if(r+t>n)throw H("Wrong length!");for(;o<r;)this[t+o]=i[o++]},Be={entries:function(){return oe.call(Ee(this))},keys:function(){return re.call(Ee(this))},values:function(){return ie.call(Ee(this))}},je=function(e,t){return w(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return je(e,t=y(t,!0))?d(2,e[t]):U(e,t)},Ye=function(e,t,n){return!(je(e,t=y(t,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(Y.f=Fe,F.f=Ye),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Ye}),o(function(){he.call({})})&&(he=pe=function(){return ue.call(this)});var ze=p({},Ie);p(ze,Be),h(ze,fe,Be.values),p(ze,{slice:Re,set:Ne,constructor:function(){},toString:he,toLocaleString:Oe}),De(ze,"buffer","b"),De(ze,"byteOffset","o"),De(ze,"byteLength","l"),De(ze,"length","e"),z(ze,me,{get:function(){return this[_e]}}),e.exports=function(e,t,n,l){l=!!l;var u=e+(l?"Clamped":"")+"Array",d="get"+e,p="set"+e,f=r[u],v=f||{},y=f&&E(f),_=!f||!s.ABV,M={},x=f&&f.prototype,C=function(e,n){var i=e._d;return i.v[d](n*t+i.o,Me)},L=function(e,n,i){var r=e._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*t+r.o,i,Me)},D=function(e,t){z(e,t,{get:function(){return C(this,t)},set:function(e){return L(this,t,e)},enumerable:!0})};_?(f=n(function(e,n,i,r){c(e,f,u,"_d");var o,a,s,l,d=0,p=0;if(w(n)){if(!(n instanceof X||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return _e in n?Le(f,n):Ae.call(f,n);o=n,p=Se(i,t);var v=n.byteLength;if(void 0===r){if(v%t)throw H("Wrong length!");if((a=v-p)<0)throw H("Wrong length!")}else if((a=m(r)*t)+p>v)throw H("Wrong length!");s=a/t}else s=g(n),a=s*t,o=new X(a);for(h(e,"_d",{b:o,o:p,l:a,e:s,v:new q(o)});d<s;)D(e,d++)}),x=f.prototype=S(ze),h(x,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&R(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=n(function(e,n,i,r){c(e,f,u);var o;return w(n)?n instanceof X||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==r?new v(n,Se(i,t),r):void 0!==i?new v(n,Se(i,t)):new v(n):_e in n?Le(f,n):Ae.call(f,n):new v(g(n))}),Q(y!==Function.prototype?T(v).concat(T(y)):T(v),function(e){e in f||h(f,e,v[e])}),f.prototype=x,i||(x.constructor=f));var A=x[fe],P=!!A&&("values"==A.name||void 0==A.name),k=Be.values;h(f,ge,!0),h(x,_e,u),h(x,be,!0),h(x,ve,f),(l?new f(1)[me]==u:me in x)||z(x,me,{get:function(){return u}}),M[u]=f,a(a.G+a.W+a.F*(f!=v),M),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){v.of.call(f,1)}),u,{from:Ae,of:Pe}),"BYTES_PER_ELEMENT"in x||h(x,"BYTES_PER_ELEMENT",t),a(a.P,u,Ie),N(u),a(a.P+a.F*xe,u,{set:Ne}),a(a.P+a.F*!P,u,Be),i||x.toString==he||(x.toString=he),a(a.P+a.F*o(function(){new f(1).slice()}),u,{slice:Re}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Oe}),I[u]=P?A:k,i||P||h(x,fe,k)}}else e.exports=function(){}},function(e,t,n){var i=n(198),r=n(1),o=n(97)("metadata"),a=o.store||(o.store=new(n(201))),s=function(e,t,n){var r=a.get(e);if(!r){if(!n)return;a.set(e,r=new i)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new i)}return o},l=function(e,t,n){var i=s(t,n,!1);return void 0!==i&&i.has(e)},u=function(e,t,n){var i=s(t,n,!1);return void 0===i?void 0:i.get(e)},c=function(e,t,n,i){s(n,i,!0).set(e,t)},d=function(e,t){var n=s(e,t,!1),i=[];return n&&n.forEach(function(e,t){i.push(t)}),i},h=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){r(r.S,"Reflect",e)};e.exports={store:a,map:s,has:l,get:u,set:c,keys:d,key:h,exp:p}},function(e,t,n){function i(e){return function(){return e}}function r(){}n(604)(r,{thatReturns:i,thatReturnsFalse:i(!1),thatReturnsTrue:i(!0),thatReturnsNull:i(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),e.exports=r},function(e,t,n){"use strict";function i(e){var t=y(e);return t&&D.getID(t)}function r(e){var t=o(e);if(t)if(S.hasOwnProperty(t)){var n=S[t];n!==e&&(b(!l(n,t)),S[t]=e)}else S[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(x)||""}function a(e,t){var n=o(e);n!==t&&delete S[n],e.setAttribute(x,t),S[t]=e}function s(e){return S.hasOwnProperty(e)&&l(S[e],e)||(S[e]=D.findReactNodeByID(e)),S[e]}function l(e,t){if(e){b(o(e)===t);var n=D.findReactContainerForID(t);if(n&&v(n,e))return!0}return!1}function u(e){delete S[e]}function c(e){var t=S[e];if(!t||!l(t,e))return!1;L=t}function d(e){L=null,m.traverseAncestors(e,c);var t=L;return L=null,t}var h=n(81),p=n(83),f=(n(84),n(46)),m=n(82),g=n(59),v=n(350),y=n(351),_=n(116),b=n(7),w=n(163),M=(n(44),m.SEPARATOR),x=h.ID_ATTRIBUTE_NAME,S={},E={},T={},C=[],L=null,D={_instancesByReactRootID:E,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,i){var r=t.props;return D.scrollMonitor(n,function(){e.replaceProps(r,i)}),e},_registerComponent:function(e,t){b(t&&(1===t.nodeType||9===t.nodeType)),p.ensureScrollValueMonitoring();var n=D.registerContainer(t);return E[n]=e,n},_renderNewRootComponent:g.measure("ReactMount","_renderNewRootComponent",function(e,t,n){var i=_(e),r=D._registerComponent(i,t);return i.mountComponentIntoNode(r,t,n),i}),renderComponent:function(e,t,n){b(f.isValidDescriptor(e));var r=E[i(t)];if(r){var o=r._descriptor;if(w(o,e))return D._updateRootComponent(r,e,t,n);D.unmountComponentAtNode(t)}var a=y(t),s=a&&D.isRenderedByReact(a),l=s&&!r,u=D._renderNewRootComponent(e,t,l);return n&&n.call(u),u},constructAndRenderComponent:function(e,t,n){return D.renderComponent(e(t),n)},constructAndRenderComponentByID:function(e,t,n){var i=document.getElementById(n);return b(i),D.constructAndRenderComponent(e,t,i)},registerContainer:function(e){var t=i(e);return t&&(t=m.getReactRootIDFromNodeID(t)),t||(t=m.createReactRootID()),T[t]=e,t},unmountComponentAtNode:function(e){var t=i(e),n=E[t];return!!n&&(D.unmountComponentFromNode(n,e),delete E[t],delete T[t],!0)},unmountComponentFromNode:function(e,t){for(e.unmountComponent(),9===t.nodeType&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=m.getReactRootIDFromNodeID(e);return T[t]},findReactNodeByID:function(e){var t=D.findReactContainerForID(e);return D.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=D.getID(e);return!!t&&t.charAt(0)===M},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(D.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=C,i=0,r=d(t)||e;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,a=n[i++];a;){var s=D.getID(a);s?t===s?o=a:m.isAncestorIDOf(s,t)&&(n.length=i=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,b(!1)},getReactRootID:i,getID:r,setID:a,getNode:s,purgeID:u};e.exports=D},function(e,t,n){var i=n(63)("meta"),r=n(12),o=n(23),a=n(15).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(11)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},h=function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return u&&f.NEED&&l(e)&&!o(e,i)&&c(e),e},f=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},function(e,t,n){var i=n(13)("unscopables"),r=Array.prototype;void 0==r[i]&&n(24)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){"use strict";function i(){var e=this;e.layers=[],e.seed=0,e.autoResetContext=!0,e.anisotropy=0,e.deferredUpdates=!0,e.deferredUploadAllotment=8}function r(){var e=this;e.canvas={},e.texture={},e.context={},e.projectionSize={w:0,h:0},e.clipInfo={x:0,y:0,w:0,h:0},e.name={},e.lastDraw=0}function o(){self.layer=null,self.clipInfo={}}Object.defineProperty(t,"__esModule",{value:!0}),t.DrawingManager=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=(n(6),n(2),n(3),n(5)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s);i.prototype.deferredUpdateChain=function(){var e=this,t=[],n=e.deferredUploadAllotment;if(e.deferredUpdates){t=e.layers.filter(function(e){if(e instanceof r)return e.updatePending}),t=t.sort(function(e,t){return e.lastDraw-t.lastDraw});for(var i=0;i<t.length&&i<n;i++)t[i].texture.needsUpdate=!0,t[i].updatePending=!1}else e.layers.forEach(function(e){e instanceof r&&!0===e.updatePending&&(e.texture.needsUpdate=!0,e.updatePending=!1)})},i.prototype.lookupLayer=function(e){var t=this;if("string"==typeof e)for(var n=0;n<t.layers.length;n++)if(t.layers[n].name==e.toLowerCase())return t.layers[n]},i.prototype.checkUpdatePending=function(){for(var e=this,t=0;t<e.layers.length;t++)if(1==e.layers[t].updatePending)return!0;return!1},i.prototype.resetPendingStatus=function(){for(var e=this,t=0;t<e.layers.length;t++)e.layers[t].updatePending=!1},i.prototype.createLayer=function(e,t,n){var i=this,o={},a={},s={},u={};return u=new r,o=document.createElement("canvas"),o.width=e,o.height=t,s=o.getContext("2d"),u.context=s,"string"==typeof n?u.name=n:(u.name="layer"+i.seed,i.seed++),u.canvas=o,a=new l.Texture(o),a.anisotropy=i.anisotropy,a.premultiplyAlpha=!0,u.texture=a,i.layers.push(u),u},i.prototype.createGhostLayer=function(e,t){var n,i=this;return"string"==typeof e&&(e=i.lookupLayer(e)),n=new o,n.layer=e,n.clipInfo=t,n},i.prototype.setDefaults=function(e){e instanceof r&&(e.context.fillStyle="#000000",e.context.font="14px monospace",e.context.globalAlpha=1,e.context.globalCompositeOperation="source-over",e.context.lineCap="round",e.context.lineDashOffset=1,e.context.lineJoin="round",e.context.lineWidth=1,e.context.miterLimit=5,e.context.shadowBlur=0,e.context.shadowColor="#000000",e.context.shadowOffsetX=0,e.context.shadowOffsetY=0,e.context.strokeStyle="",e.context.textAlign="start",e.context.textBaseline="alphabetic",e.context.setTransform(1,0,0,1,0,0))},i.prototype.drawRect=function(e,t,n,i,s,l){var u=this,c=!1,d={};"string"==typeof e&&(e=u.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(u.autoResetContext&&(u.setDefaults(e),u.scaleByProjectionSize(e),d=u.enforceClipInformation(e)),t+=d.x,n+=d.y,"object"===(void 0===l?"undefined":a(l))&&(e.context.fillStyle=l.fillStyle?l.fillStyle:e.context.fillStyle,e.context.strokeStyle=l.strokeStyle?l.strokeStyle:e.context.strokeStyle,e.context.globalAlpha=l.globalAlpha?l.globalAlpha:e.context.globalAlpha,e.context.lineWidth=l.lineWidth?l.lineWidth:e.context.lineWidth,c=l.stroke?l.stroke:c),c?e.context.strokeRect(t,n,i,s):e.context.fillRect(t,n,i,s),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.fillChequerBoard=function(e){var t=this,n=0,i=0,r=0,o=0;map=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],"string"==typeof e&&(e=t.lookupLayer(e)),t.autoResetContext&&(t.setDefaults(e),t.scaleByProjectionSize(e));for(var a=0;a<e.canvas.width;a+=4)for(var s=0;s<e.canvas.height;s+=4)r=Math.floor(a/e.canvas.width*16),o=Math.floor(s/e.canvas.height*16),n="#f"+map[15-r]+map[15-r],i="#"+map[15-o]+map[15-o]+map[15-o],e.context.fillStyle=s%8==4&&a%8==0||s%8==0&&a%8==4?n:i,e.context.fillRect(a,s,4,4)},i.prototype.drawImage=function(e,t,n,i,s,l,u){var c=this,d=!1,h={};"string"==typeof e&&(e=c.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(c.autoResetContext&&(c.setDefaults(e),c.scaleByProjectionSize(e),h=c.enforceClipInformation(e)),t+=h.x,n+=h.y,"object"===(void 0===u?"undefined":a(u))&&(e.context.globalAlpha=u.globalAlpha?u.globalAlpha:e.context.globalAlpha,d=u.stroke?u.stroke:d),l instanceof o?(l.clipInfo.x,l.clipInfo.y,l.layer.canvas.width>0&&l.layer.canvas.height>0&&e.context.drawImage(l.layer.canvas,l.clipInfo.x,l.clipInfo.y,l.clipInfo.w,l.clipInfo.h,t,n,i,s)):l.width>0&&l.height>0&&e.context.drawImage(l,t,n,i,s),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.drawEllipse=function(e,t,n,i,s,l){var u=this,c=!1,d={};"string"==typeof e&&(e=u.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(u.autoResetContext&&(u.setDefaults(e),u.scaleByProjectionSize(e),d=u.enforceClipInformation(e)),t+=d.x,n+=d.y,"object"===(void 0===l?"undefined":a(l))&&(e.context.fillStyle=l.fillStyle?l.fillStyle:e.context.fillStyle,e.context.strokeStyle=l.strokeStyle?l.strokeStyle:e.context.strokeStyle,e.context.globalAlpha=l.globalAlpha?l.globalAlpha:e.context.globalAlpha,e.context.lineWidth=l.lineWidth?l.lineWidth:e.context.lineWidth,c=l.stroke?l.stroke:c),(i<0||s<0)&&(t=i<0?t+i:t,n=s<0?n+s:n,i=i<0?-i:i,s=s<0?-s:s),e.context.beginPath(),e.context.ellipse(t+i/2,n+s/2,i/2,s/2,0,0,2*Math.PI),c?e.context.stroke():e.context.fill(),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.drawCircle=function(e,t,n,i,s){var l=this,u=!1,c={};"string"==typeof e&&(e=l.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(l.autoResetContext&&(l.setDefaults(e),l.scaleByProjectionSize(e),c=l.enforceClipInformation(e)),t+=c.x,n+=c.y,"object"===(void 0===s?"undefined":a(s))&&(e.context.fillStyle=s.fillStyle?s.fillStyle:e.context.fillStyle,e.context.strokeStyle=s.strokeStyle?s.strokeStyle:e.context.strokeStyle,e.context.globalAlpha=s.globalAlpha?s.globalAlpha:e.context.globalAlpha,e.context.lineWidth=s.lineWidth?s.lineWidth:e.context.lineWidth,u=s.stroke?s.stroke:u),e.context.beginPath(),e.context.arc(t,n,i,0,2*Math.PI),u?e.context.stroke():e.context.fill(),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.lengthdir_x=function(e,t){return e*Math.cos(t)},i.prototype.lengthdir_y=function(e,t){return e*Math.sin(t)},i.prototype.point_direction=function(e,t,n,i){return Math.atan2(i-t,n-e)},i.prototype.point_distance=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2))+Math.sqrt(Math.pow(i-t,2))},i.prototype.drawDashedLine=function(e,t,n,i,s,l){var u,c,d,h,p,f,m,g,v=this;if("string"==typeof e&&(e=v.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r){v.autoResetContext&&(v.setDefaults(e),v.scaleByProjectionSize(e),g=v.enforceClipInformation(e)),t+=g.x,n+=g.y,i+=g.x,s+=g.y,"object"===(void 0===l?"undefined":a(l))&&(e.context.fillStyle=l.fillStyle?l.fillStyle:e.context.fillStyle,e.context.strokeStyle=l.strokeStyle?l.strokeStyle:e.context.strokeStyle,e.context.globalAlpha=l.globalAlpha?l.globalAlpha:e.context.globalAlpha,e.context.lineWidth=l.lineWidth?l.lineWidth:e.context.lineWidth,u=l.dashSeperation?l.dashSeperation:3*e.context.lineWidth,c=l.dashWidth?l.dashWidth:3*e.context.lineWidth),e.context.beginPath(),p=0,h=250,d=v.point_distance(t,n,i,s),f=!1,m=v.point_direction(t,n,i,s);do{p++,f=!f,f?(e.context.moveTo(t,n),t+=v.lengthdir_x(c<d?c:d,m),n+=v.lengthdir_y(c<d?c:d,m),e.context.lineTo(t,n)):(t+=v.lengthdir_x(u,m),n+=v.lengthdir_y(u,m)),d=v.point_distance(t,n,i,s)}while(d>(f?c:u)&&p<h);e.context.stroke(),e.updatePending=!0,e.lastDraw=performance.now()}},i.prototype.drawLine=function(e,t,n,i,s,l){var u=this,c={};"string"==typeof e&&(e=u.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(u.autoResetContext&&(u.setDefaults(e),u.scaleByProjectionSize(e),c=u.enforceClipInformation(e)),"object"===(void 0===l?"undefined":a(l))&&(e.context.fillStyle=l.fillStyle?l.fillStyle:e.context.fillStyle,e.context.strokeStyle=l.strokeStyle?l.strokeStyle:e.context.strokeStyle,e.context.globalAlpha=l.globalAlpha?l.globalAlpha:e.context.globalAlpha,e.context.lineWidth=l.lineWidth?l.lineWidth:e.context.lineWidth),e.context.beginPath(),e.context.moveTo(t-c.x,n-c.y),e.context.lineTo(i-c.x,s-c.y),e.context.stroke(),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.drawText=function(e,t,n,i,s){var l=this,u=!1,c={};"string"==typeof e&&(e=l.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},e instanceof r&&(l.autoResetContext&&(l.setDefaults(e),l.scaleByProjectionSize(e),c=l.enforceClipInformation(e)),t+=c.x,n+=c.y,"object"===(void 0===s?"undefined":a(s))&&(e.context.fillStyle=s.fillStyle?s.fillStyle:e.context.fillStyle,e.context.strokeStyle=s.strokeStyle?s.strokeStyle:e.context.strokeStyle,e.context.font=s.font?s.font:e.context.font,e.context.globalAlpha=s.globalAlpha?s.globalAlpha:e.context.globalAlpha,e.context.textAlign=s.textAlign?s.textAlign:e.context.textAlign,e.context.textBaseline=s.textBaseline?s.textBaseline:e.context.textBaseline,e.context.lineWidth=s.lineWidth?s.lineWidth:e.context.lineWidth,u=s.stroke?s.stroke:u),u?e.context.strokeText(i,t,n):e.context.fillText(i,t,n),e.updatePending=!0,e.lastDraw=performance.now())},i.prototype.drawMultiText=function(e,t,n,i,s,l,u){var c,d,h,p,f,m,g,v,y,_,b,w=this,M=!1,x=[],S=0;if(_=Date.now(),"string"==typeof e&&(e=w.lookupLayer(e)),e instanceof o?(e.layer.clipInfo=e.clipInfo,e=e.layer):e.clipInfo={x:0,y:0,w:0,h:0},!(e instanceof r))throw"Please pass a properly constructed layer object created using .createLayer";if("string"!=typeof i)throw"Input argument 'text' was not of value type 'string'.";switch(w.autoResetContext&&(w.setDefaults(e),w.scaleByProjectionSize(e),f=w.enforceClipInformation(e)),"object"===(void 0===u?"undefined":a(u))&&(e.context.fillStyle=u.fillStyle?u.fillStyle:e.context.fillStyle,e.context.strokeStyle=u.strokeStyle?u.strokeStyle:e.context.strokeStyle,e.context.font=u.font?u.font:e.context.font,e.context.globalAlpha=u.globalAlpha?u.globalAlpha:e.context.globalAlpha,e.context.textAlign=u.textAlign?u.textAlign:e.context.textAlign,e.context.textBaseline=u.textBaseline?u.textBaseline:e.context.textBaseline,e.context.lineWidth=u.lineWidth?u.lineWidth:e.context.lineWidth,M=u.stroke?u.stroke:M,m=!!u.drawBounds&&u.drawBounds,b=!!u.benchmark&&u.benchmark),e.context.textAlign){case"end":case"right":c=t+s;break;case"center":case"left":case"start":default:c=t}switch(e.context.textBaseline){case"bottom":d=n+l;break;case"top":default:d=n}h=s,p=l,c-=f.x,d-=f.y,g="",v="",y=w._getFontHeightFromContext(e.context);for(var E,T=0;T<i.length;T++)if(" "==(E=i.substr(T,1))||"_"==E||"-"==E)if(e.context.measureText(v+E).width+S>h){if(x.length==Math.floor(p/y)){x[x.length-1]=x[x.length-1].substring(0,x[x.length-1].length-2)+"...";break}x[x.length]=g,g="",v+=""==E?"":E,S=0}else g+=v+E,S=e.context.measureText(g).width,v="";else if(v+=E,e.context.measureText(v).width+S>h){if(x.length==Math.floor(p/y)){x[x.length-1]=x[x.length-1].substring(0,x[x.length-1].length-2)+"...";break}x[x.length]=g+v+"-",g="",v="",S=0}switch(v.length>0&&(g+=v,S+=e.context.measureText(g).width),S>0&&x.length!==Math.floor(p/y)&&(x[x.length]=g),u.textBaseline){case"bottom":for(var T=x.length-1;T>=0;T--)M?e.context.strokeText(x[T],c,d-(x.length-1)*y+T*y):e.context.fillText(x[T],c,d-(x.length-1)*y+T*y);break;default:for(var T=0;T<x.length;T++)M?e.context.strokeText(x[T],c,d+T*y):e.context.fillText(x[T],c,d+T*y)}if(m)switch(e.context.textAlign){case"end":case"right":switch(e.context.textBaseline){case"bottom":e.context.strokeRect(c-h,d-p,h,p);break;default:e.context.strokeRect(c-h,d,h,p)}break;case"center":switch(e.context.textBaseline){case"bottom":e.context.strokeRect(c-h/2,d-p,h,p);break;default:e.context.strokeRect(c-h/2,d,h,p)}break;case"left":case"start":default:switch(e.context.textBaseline){case"bottom":e.context.strokeRect(c,d-p,h,p);break;default:e.context.strokeRect(c,d,h,p)}}_=Date.now()-_,b&&e.context.fillText(c,d-y,"dT: "+_.toString()+"ms"),e.updatePending=!0,e.lastDraw=performance.now()},i.prototype._getFontHeightFromContext=function(e){return e.font.indexOf("pt")>=0?parseInt(e.font):e.font.indexOf("px")>=0?parseInt(e.font.substr(0,e.font.indexOf("px"))):10},i.prototype.clearLayer=function(e){var t=this;e instanceof o&&(e=e.layer),"string"==typeof e&&(e=t.lookupLayer(e)),e.context.restore(),e.canvas.width=e.canvas.width,e.canvas.height=e.canvas.height,e.updatePending=!0,e.lastDraw=performance.now()},i.prototype.getTexture=function(e){if(e instanceof o&&(e=e.layer),e instanceof r)return e.texture},i.prototype.setProjectionSize=function(e,t,n){e instanceof o&&(e=e.layer),e instanceof r&&(e.projectionSize.w=t,e.projectionSize.h=n)},i.prototype.scaleByProjectionSize=function(e){e instanceof o&&(e=e.layer),e instanceof r&&Math.abs(e.projectionSize.w)+Math.abs(e.projectionSize.h)!=0&&e.context.scale(e.canvas.width/e.projectionSize.w,e.canvas.height/e.projectionSize.h)},i.prototype.enforceClipInformation=function(e){var t={x:0,y:0};if(e instanceof o&&(e=e.layer),e instanceof r)return e.clipInfo.w*e.clipInfo.h!=0?(t.x=e.clipInfo.x,t.y=e.clipInfo.y,e.preClip,e.context.restore(),e.context.save(),e.context.beginPath(),e.context.rect(e.clipInfo.x,e.clipInfo.y,e.clipInfo.w,e.clipInfo.h),e.context.clip()):e.context.resetClip(),t},r.prototype.cleanup=function(){var e=this;e.canvas.width=1,e.canvas.height=1,e.canvas=null,e.getDM().layers.splice(e.getDM().layers.indexOf(e),1),e.texture.dispose()},"undefined"!=typeof CanvasRenderingContext2D?CanvasRenderingContext2D.prototype.resetClip=function(){var e=this;e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip(),e.restore()}:console.warn("The browser does not support canvas. Drawing Manager functions will not work.");var u=new i;r.prototype.getDM=function(){return this}.bind(u),t.DrawingManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=(n(6),n(3)),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={getInitialState:function(){return{selected:!1}},getDefaultProps:function(){return{name:"",showTopIndicator:!1,facetCategory:"",position:{top:"0px",left:"0px"},selectedView:"",disabled:!1}},componentDidMount:function(){i.Events.addListener("filter.toggle",this.filterToggled),i.Events.addListener("filter.view.change",function(e){e!==this.props.name&&this.isMounted()&&this.setState({selected:!1})}.bind(this));var e="context-"+this.props.name;this.refs.hasOwnProperty(e)&&r.Config.i18n(this.refs[e].getDOMNode(),this.props.name.toLowerCase())},getUI:function(){var e=this.state.hoverTarget===this.props.name||this.state.selected,t=void 0!==this.getChildItem?this.getChildItem():null,n=a.default.addons.classSet({"zeg-datatype-action":!0,"zeg-selected":e,"zeg-disabled":this.props.disabled});return a.default.DOM.div({className:"zeg-datatype-action-wrapper",style:{top:this.props.position.top,left:this.props.position.left}},a.default.DOM.div({key:this.props.facetCategory+"-"+this.props.name,className:n,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleOnClick},a.default.DOM.div({className:"zeg-datatype-action-clicker","data-name":this.props.name}),a.default.DOM.div({className:"zeg-datatype-action-icon zeg-icon "+(e&&!this.props.disabled?"disabled":"")},this.state.icon),a.default.DOM.div({style:{display:e&&!this.props.disabled?"block":"none"}},a.default.DOM.div({className:"zeg-datatype-action-icon zeg-icon"},void 0!==this.state.iconAlt?this.state.iconAlt:this.state.icon)),a.default.DOM.span({ref:"context-"+this.props.name})),t)},handleOnClick:function(e){this.props.disabled||(void 0!==this.onClick?this.onClick(e):i.Events.emitEvent("datatypeaction.click",[this.props.name]))},handleMouseOver:function(e){this.setState({hoverTarget:e.target.getAttribute("data-name")})},handleMouseOut:function(){this.setState({hoverTarget:null})},filterToggled:function(){this.isMounted()&&this.setState({selectedItem:null})}}},function(e,t,n){"use strict";var i=n(7),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},a=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},s=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,i,r),a}return new o(e,t,n,i,r)},l=function(e){var t=this;i(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=r,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},d={addPoolingTo:c,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fiveArgumentPooler:s};e.exports=d},function(e,t,n){"use strict";function i(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:i,measure:function(e,t,n){return n},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r},function(e,t){var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=this;e.animating=!1,e.boundAnimationLoop=e.animationLoop.bind(e),e.currentView=null,e.interactiveContainers=[],e.namesVisibility=!1,e.sprites=[],e.meshes=[],e.presentationMode=!1,e.presentationActionTimeout=600,e.presentationActionLastExecuted=void 0!=window.performance?performance.now()+5e3:0,e.presentationActionSequence=["select_random","wait","wait","zoom_mid","wait","wait","pan_random","wait","pan_random","wait","select_random","wait","next","next","next","wait","zoom_mid","wait","pan_random","wait","next","wait","zoom_mid","wait","wait","wait","zoom_out","wait","wait","zoom_more","zoom_more","zoom_more","zoom_more","wait","zoom_more","zoom_more","zoom_more","zoom_more","zoom_more","wait","wait"],e.presentationActionIndex=0,e.duplicatesIdCounter=0,e.duplicates=[],e.groupBy="",e.spritesCache={},e.scene=null,e.camera=null,e.renderer=null,e.stageViewport={padding:10},e.tileManagers={constructors:{},instances:{}},e.views={constructors:{},instances:{},indexes:{}},e.viewsConfigArray=[],e.visitedItems=[],e.mouseConsumed=!1,e.labelsConfig={},e.frame,e.threeCache={},e.stage=null,e.mousePositionLast={},e.spritesContainer=[],e.basicGeometry=null,e.basicMaterial=null,e.textureLoader=null,e.textures=[],e.groups={meshes:{},visited:{},groupBy:{},names:{},annotations:{}},e.layers={names:{},groupBy:{},visited:{},annotations:{},selection:{}},e.scrollMomentum=0,e.scrollInfo={},e.panMomentum=0,e.meshContainer={},e.panInfo={},e.basicTexture=null,e.panTween=null,e.drawingManager={},e.graphicsSettings={textureQuality:1,anisotropy:4,antialiasing:1,advancedComposition:0,uiEnhancedResponsiveness:0,uiEnhancedRendering:0,renderQuality:1,atlasDampingFactor:0},e.optimizedScene={},e.optimizedGeometry={},e.optimisedCamera={},e.renderReferenceScene=!1,e.projectionNeedsUpdate=!0,e.effectiveWidth=0,e.effectiveHeight=0,e.groupingMeshThreshold=25,e.notSelectedMaterial={},e.debugStats={},e.composer={},e.smaaRenderPass={},e.copyPass={},e.tileManagerLevel=0,e.numCells=0,e.geomArray=[],e.matArray=[],e.instancedMesh,e.perfMan=b.PerformanceManager,e.coreNode=null,e.monitorCanvas,e.lastPanMomentum=0,e.lastScrollMomentum=0,e.duplicateRemapRequired=!0,e.cout="",e.panelState=!1,e.standardGeometry=e.getPlaneGeometry(1,-1),e.cellSize={width:350,height:300},e.blobData="Z\r\0\0\0\0\0\b/\0\0\v\0\0\b/\0\0\v",e.items=[],e.aspectRatio=e.cellSize.height/e.cellSize.width,this.tileManagers.constructors.Simple=g.default,l.Events.on("ui.ready",function(){for(var t=u.Config.properties().toolbar,n=0;n<t.length;n++)if("labels"===t[n].type){e.labelsConfig=t[n];break}e.namesFont={font:e.labelsConfig.font,color:"color"in e.labelsConfig?e.labelsConfig.color:u.Config.properties().colors.primary,resolution:e.labelsConfig.resolution,borderColor:"labelBorder"in e.labelsConfig?e.labelsConfig.labelBorder:u.Config.properties().colors.primaryAlt},e.viewsConfigArray=u.Config.properties().views,e.loadViews(e.viewsConfigArray)}),l.Events.on("names.toggle.active",function(t){var n=void 0===t;e.namesVisibility=n?!e.namesVisibility:t,null!==e.stage&&(e.stage.namesContainer.visible=e.namesVisibility),e.projectionNeedsUpdate=!0,e.currentView.updateLayers(),l.Events.emitEvent("names.update.active",[e.namesVisibility,n])}),l.Events.on("filter.clear.all",e.clearVisitedContainer.bind(e)),l.Events.addListener("group.change",function(t){e.duplicateRemapRequired=!0,e.groupBy=t,"(None)"===e.groupBy&&(e.groupBy=""),null!==e.currentView&&e.currentView.groupByAvailable&&1==e.currentView.tileManagerReady&&e.showCurrentView()}),l.Events.on("view.group.selected",e.startAnimations.bind(e)),l.Events.on("view.group.deselected",e.startAnimations.bind(e)),l.Events.on("view.shown",function(){var t=e.perfMan.getStore("ImageStore");t&&t.disposeSelected(t.objects.filter(function(e){if(!e.locked&&!(e.data.mesh.geometry instanceof M.InstancedBufferGeometry)&&e.data.mesh.parent)return!0}))}),l.Events.on("ui.select.sprite",e.requestSelectMesh.bind(e)),l.Events.on("ui.mouse.consumed",function(){e.mouseConsumed=!0}),l.Events.on("ui.mouse.released",function(){e.mouseConsumed=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewManager=void 0;var a=n(89),s=r(a),l=n(2),u=n(3),c=n(6),d=n(9),h=r(d),p=n(96),f=r(p),m=n(120),g=r(m),v=n(671),y=r(v),_=n(56),b=n(79),w=(n(19),n(5)),M=i(w),x=n(672),S=n(373),E=i(S),T=n(112),C=n(378);o.prototype.tuneGraphicsSettings=function(){var e=this,t=b.PerformanceManager.calculateOptimalSettings(T.PerformanceTester.scores);t&&(e.graphicsSettings=t)},o.prototype.crashRecovery=function(e){console.warn(e)},o.prototype.initializeGroups=function(){var e=this;if(e.groups.meshes instanceof M.Group)throw new Exception("Could not initialize groups because groups are already initialized.");e.groups.meshes=new M.Group,e.groups.visited=new M.Group,e.groups.visited.name="visited",e.groups.names=new M.Group,e.groups.names.name="names",e.groups.annotations=new M.Group,e.groups.annotations.name="annotations",e.groups.groupBy=new M.Group,e.groups.groupBy.name="groupBy",e.groups.blanks=new M.Group,e.groups.blanks.name="blanks",e.groups.optimisedMeshes=new M.Group,e.groups.optimisedMeshes.name="optimisedMeshes",e.groups.selection=new M.Group,e.groups.selection.name="selection",e.groups.borders=new M.Group,e.groups.borders.name="borders",e.scene.add(e.groups.meshes),e.scene.add(e.groups.visited),e.scene.add(e.groups.names),e.scene.add(e.groups.annotations),e.scene.add(e.groups.groupBy),e.scene.add(e.groups.optimisedMeshes),e.scene.add(e.groups.selection),e.scene.add(e.groups.borders),e.scene.add(e.groups.blanks)},o.prototype.presentationUpdate=function(){var e,t=this,n=performance.now();if(n-t.presentationActionLastExecuted>t.presentationActionTimeout)switch(t.presentationActionLastExecuted=n,t.presentationActionIndex=t.presentationActionIndex>t.presentationActionSequence.length?0:t.presentationActionIndex+1,e=t.presentationActionIndex,t.presentationActionSequence[e]){case"pan_random":t.camera.position.x=Math.random()*t.stageViewport.fullWidth,t.camera.position.y=Math.random()*t.stageViewport.fullHeight,t.currentView.clampCamera(!0),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"zoom_more":t.camera.zoom*=2,t.currentView.clampCamera(!0),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"zoom_mid":t.camera.zoom=2.5,t.currentView.clampCamera(!0),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"zoom_out":t.camera.zoom=1,t.currentView.clampCamera(!0),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"select_previous":if(!t.currentMesh)return;t.selectPreviousMesh(t.currentMesh),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"select_next":if(!t.currentMesh)return;t.selectNextMesh(t.currentMesh),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"select_random":var i=t.items[Math.floor(Math.random()*t.items.length)];t.currentMesh=i,t.currentView.selectMesh(i),t.currentView.updateTextures(),t.projectionNeedsUpdate=!0;break;case"wait":default:return}},o.prototype.discardOrphanedMeshes=function(){var e={meshes:[],level:0,tileManagerLevel:0,keepLevel:7},t=this;t.coreNode.getProbe("discard orphans").start();for(var n=0;n<t.items.length;n++)e.level=t.items[n].currentLevel,e.tileManagerLevel=t.tileManagerLevel,e.obj=t.items[n].levelMeshes,Object.keys(t.items[n].levelMeshes).forEach(function(e,t){var n=this,i=!1;if(n.meshes.length>0&&e!=n.level&&e!=n.tileManagerLevel){for(var r=0;r<n.meshes.length;r++)if(n.meshes[r]==n.obj[e]||n.meshes[r].userData.persistent){i=!0;break}i||n.meshes.push(n.obj[e])}}.bind(e));for(var n=0;n<e.meshes.length;n++)c.Helpers.disposeMesh(e.meshes[n]),delete e.meshes[n];t.coreNode.getProbe("discard orphans").stop()},o.prototype.startAnimations=function(){var e=this;!1===e.animating&&(e.animating=!0)},o.prototype.stopAnimations=function(){var e=this;e.currentView.isAnimating()||!0!==e.animating||(e.animating=!1)},o.prototype.animationLoop=function(){var e=this,t=!1,n=!1,i=!1,r=0;e.presentationMode&&e.presentationUpdate(),e.currentView.tileManager.getVram&&(r=e.currentView.tileManager.getVram()),e.currentView.tileManager.executeTasks&&e.currentView.tileManager.executeTasks(),e.perfMan.tick({drawCalls:e.renderer.info.render.calls,tris:e.renderer.info.render.faces,itemCount:e.items.length,vram:r,cout:e.cout}),e.coreNode.getProbe("compute tween").start(),E.update(),e.coreNode.getProbe("compute tween").stop(),(e.scrollMomentum<.01&&0!=e.scrollMomentum||e.panMomentum<.009&&0!=e.panMomentum)&&(n=!0,0!=e.scrollMomentum&&e.scrollMomentum<.009&&(i=!0)),1==e.graphicsSettings.uiEnhancedResponsiveness&&e.scrollMomentum<.009&&e.scrollMomentum>0&&(n=!0),e.lastPanMomentum=e.panMomentum,e.lastScrollMomentum=e.scrollMomentum,e.scrollMomentum=Math.abs(e.scrollMomentum)<.009?0:e.scrollMomentum/1.15,e.panMomentum=Math.abs(e.panMomentum)<.009?0:e.panMomentum/1.15,0==e.panMomentum&&e.lastPanMomentum>0&&e.momentumExhausted(),Math.abs(e.scrollMomentum)>0&&(e.scrollInfo.handler(1+e.scrollMomentum*e.scrollInfo.delta,e.scrollInfo.x,e.scrollInfo.y,e.scrollInfo.camera),t=!0),Math.abs(e.panMomentum)>0&&(e.camera.position.x+=e.panInfo.xDelta*e.panMomentum,e.camera.position.y+=e.panInfo.yDelta*e.panMomentum,e.panInfo.clamp.bind(this.currentView)(!0),t=!0);var o=!(e.effectiveWidth*e.camera.zoom<e.groupingMeshThreshold&&""!=e.groupBy);e.groups.optimisedMeshes.visible=o,e.groups.blanks.visible=o,(n||t&&e.graphicsSettings.uiEnhancedResponsiveness)&&e.currentView.endedAnimation(!i,!1),l.Events.emitEvent("core.render"),e.drawingManager.checkUpdatePending()&&(t=!0),(e.animating||t||e.projectionNeedsUpdate)&&(e.drawingManager.deferredUpdateChain(),e.coreNode.getProbe("main render").start(),e.graphicsSettings.advancedComposition?e.composer.render():e.renderer.render(e.scene,e.camera),e.coreNode.getProbe("main render").stop(),e.projectionNeedsUpdate&&(e.projectionNeedsUpdate=!1)),e.frame=requestAnimationFrame(e.boundAnimationLoop),l.Events.emitEvent("core.postrender")},o.prototype.momentumExhausted=function(){this.currentView.endedAnimation(!1,!1)},o.prototype.getMesh=function(e,t,n,i,r,o){var a,s=this;if(void 0!==s.threeCache[e])return s.threeCache[e];var l=s.basicGeometry.attributes.iOffset,u=s.basicGeometry.attributes.iScale,c=s.basicGeometry.attributes.iUvs,d=s.basicGeometry.attributes.iSize,p=s.basicGeometry.attributes.iTexSize,f=s.basicGeometry.attributes.iInset;return a=new y.default(t,e,{position:l,scale:u,uvs:c,size:d,texSize:p,inset:f}),a.datastoreIndex=h.default.getIndexById(e),i&&a.setPicInfo(i),this.currentView.tileManager.getDefaultSetter()(a),a.position.set(s.stageViewport.fullWidth/2,s.stageViewport.fullHeight/2,0),a.update(),s.threeCache[e]=a,s.items.push(a),a},o.prototype.getSprites=function(){var e=this;return e.sprites.concat(e.duplicates)},o.prototype.getMeshes=function(){return this.items},o.prototype.requestSelectMesh=function(e,t){if(this.animating||this.startAnimations(),null!==e||this.currentView.selectedMesh)switch(e=e||this.currentView.selectedMesh,t){case"next":e.userData.hasOwnProperty("nextMeshId")&&this.selectNextMesh(e);break;case"previous":e.userData.hasOwnProperty("previousMeshId")&&this.selectPreviousMesh(e)}},o.prototype.selectNextMesh=function(e){var t=this.getMesh(e.userData.nextMeshId);this.currentView.selectMesh(t)},o.prototype.selectPreviousMesh=function(e){var t=this.getMesh(e.userData.previousMeshId);this.currentView.selectMesh(t)},o.prototype.removeDuplicateSprites=function(){var e,t,n,i,r=this;for(i=r.getSprites(),n=r.duplicateSpritesIndexes,t=n.length,e=0;e<t;e+=1)i.splice(n[e],1)},o.prototype.addSceneEvents=function(){function e(e){var t,n,i,r;e=e||window.event,t=e.target||e.srcElement,n=e.wheelDelta||-40*e.detail,i=e.clientX,r=e.clientY,t.mousewheel(n,i,r),e.preventDefault(),e.returnValue=!1}var t=this;null!==t.renderer&&(t.renderer.domElement.onmousedown=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.mousedown",[e,n])}l.Events.emitEvent("scene.mousedown",[e])},t.renderer.domElement.ontouchstart=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.touchstart",[e,n])}l.Events.emitEvent("scene.touchstart",[e]),e.preventDefault(),e.stopPropagation()},t.renderer.domElement.onclick=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.click",[e,n])}l.Events.emitEvent("scene.click",[e]),e.preventDefault(),e.stopPropagation()},t.renderer.domElement.onmouseup=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.mouseup",[e,n])}l.Events.emitEvent("scene.mouseup",[e])},t.renderer.domElement.ontouchend=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.touchend",[e,n])}l.Events.emitEvent("scene.touchend",[e])},t.renderer.domElement.onmouseupoutside=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.mouseupoutside",[e,n])}l.Events.emitEvent("scene.mouseupoutside",[e])},t.renderer.domElement.onmouseout=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.mouseout",[e,n])}l.Events.emitEvent("scene.mouseout",[e])},t.renderer.domElement.ontouchendoutside=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.touchendoutside",[e,n])}l.Events.emitEvent("scene.touchendoutside",[e])},t.renderer.domElement.onmousemove=function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.mousemove",[e,n])}l.Events.emitEvent("scene.mousemove",[e])},t.renderer.domElement.addEventListener("touchmove",function(e){if(t.mouseConsumed){var n=t.constructEventObject(e);return void l.Events.emitEvent("plugins.meta.touchmove",[e,n])}l.Events.emitEvent("scene.touchmove",[e]),e.preventDefault(),e.stopPropagation()}),t.renderer.domElement.addEventListener("mousewheel",e),t.renderer.domElement.addEventListener("DOMMouseScroll",e),t.renderer.domElement.mousewheel=function(e,t,n){var i;i=e>0?1:-1,l.Events.emitEvent("scene.mousewheel",[i,t,n])})},o.prototype.constructEventObject=function(e){var t=this,n={hitMesh:null,drawingManager:null,meshMousePosition:{x:0,y:0},selectedMesh:null,viewManager:null};return n.hitMesh=t.currentView.getHitMesh(e),n.meshMousePosition=t.currentView.getMeshRelativeMousePosition(e,n.hitMesh),n.drawingManager=_.DrawingManager,n.selectedMesh=t.currentView.selectedMesh,n.viewManager=t,n},o.prototype.initUI=function(){var e=this;e.header=document.getElementById("zeg-header"),e.mainPanel=document.getElementById("zeg-mainpanel"),e.viewPanel=document.getElementById("zeg-viewpanel"),e.viewCanvas=document.getElementById("zeg-viewpanel-view"),e.filterPanel=document.getElementById("zeg-filterpanel"),e.toolbar=document.getElementById("zeg-toolbar"),e.metadataPanel=document.getElementById("zeg-metadatapanel"),e.leftPanelContainer=document.getElementById("zeg-leftpanelcontainer"),e.vertexShader=["precision highp float;","attribute vec3 iOffset;","attribute vec3 iScale;","attribute vec4 iUvs;","attribute vec2 iSize;","attribute vec2 texSize;","attribute vec2 iInset;","varying vec2 vUv;","varying vec4 instUv;","varying vec2 instSize;","varying vec2 insetValue;","varying vec2 _texSize;","vec3 applyTRS( vec3 position, vec3 translation, vec3 scale ) {","position *= scale;","return position + translation;","}","void main(){","vUv = uv;","instUv = iUvs;","instSize = iSize;","_texSize = texSize;","insetValue = iInset;","vec3 transformed = applyTRS( position.xyz, iOffset, iScale );","gl_Position = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );","}"].join("\n"),e.fragShader=["precision highp float;","uniform sampler2D map;","varying vec2 vUv;","varying vec4 instUv;","varying vec2 instSize;","varying vec2 _texSize;","varying vec2 insetValue;","void main() {","vec2 newUv = vUv;","newUv.x = (vUv.x/instSize.x) + (1.0/instUv.z * instUv.x); ","newUv.y = ((vUv.y/instUv.w) + (1.0/instSize.y)) + ((1.0 / instUv.w * instUv.y) - ( vUv.y < 1.0/_texSize.y ? 0.0 : vUv.y/instSize.y)) ;","newUv.x = vUv.x < 0.5 ? newUv.x + insetValue.x : newUv.x - insetValue.x;","newUv.y = vUv.y < 0.5 ? newUv.y + insetValue.y : newUv.y - insetValue.y;","gl_FragColor = texture2D(map, newUv);","}"].join("\n"),e.loadTagStore()},o.prototype.renderOptimisedScene=function(){var e=this;if(e.optimizedGeometry.vertices[0]!=e.groups.meshes.children[0].position)for(var t=0;t<e.groups.meshes.children.length;t++)e.optimizedGeometry.vertices[t]=e.groups.meshes.children[t].position;e.optimizedScene.children[1].material.size=.8*e.camera.zoom,e.optimisedCamera.position.z=e.camera.position.z,e.optimisedCamera.position.x=e.camera.position.x,e.optimisedCamera.position.y=e.camera.position.y,e.optimisedCamera.zoom=e.camera.zoom,e.optimisedCamera.updateProjectionMatrix(),e.optimizedGeometry.verticesNeedUpdate=!0},o.prototype.getPlaneGeometry=function(e,t){var n=new M.PlaneBufferGeometry(e,t);return n.removeAttribute("normal"),n},o.prototype.getScene=function(){var e=this;if(e.showScene(),e.coreNode||e.initMonitoring(),null===e.scene){if(e.scene=new M.Scene,e.optimizedScene=new M.Scene,e.drawingManager=_.DrawingManager,!window.WebGLRenderingContext)throw alert("Browser does not support WebGL. Please try a different browser."),new Exception("Browser does not support WebGL.");switch(e.tuneGraphicsSettings(),e.renderer=new M.WebGLRenderer({alpha:!0,antialias:e.graphicsSettings.antialiasing>0,canvas:e.viewCanvas}),e.renderer.setSize(window.innerWidth,window.innerHeight-e.header.clientHeight),e.graphicsSettings.renderQuality){case 0:e.renderer.setPixelRatio(.75);break;case 2:e.renderer.setPixelRatio(window.devicePixelRatio);break;default:e.renderer.setPixelRatio(1)}e.renderer.setClearColor(16777215,0),e.viewCanvas.setAttribute("style","-webkit-touch-callout: none !important;"),e.viewCanvas.style.position="fixed",e.viewCanvas.style.width="100%",e.viewCanvas.style.height=window.innerHeight-e.header.clientHeight+"px;",e.drawingManager.anisotropy=e.renderer.capabilities.getMaxAnisotropy(),e.drawingManager.anisotropy>e.graphicsSettings.anisotropy&&(e.drawingManager.anisotropy=e.graphicsSettings.anisotropy),e.camera=new M.OrthographicCamera(0,e.stageViewport.fullWidth,0,e.stageViewport.fullHeight,1,1e3),e.camera.position.z=200,e.camera.position.x=-e.stageViewport.left,e.camera.position.y=-e.stageViewport.top,e.camera.zoom=1,e.optimisedCamera=new M.OrthographicCamera(0,e.stageViewport.fullWidth,0,e.stageViewport.fullHeight,1,1e3),e.optimisedCamera.zoom=1,e.scene.add(e.camera),e.optimizedScene.add(e.optimisedCamera);var t=new M.AmbientLight(16777215);e.scene.add(t);var n=new M.DirectionalLight(16777215,1);n.position.x=e.camera.position.x,n.position.y=e.camera.position.y,n.position.z=-e.camera.position.z,n.castShadow=!1,e.scene.add(n),e.textureLoader=new M.TextureLoader,e.notSelectedMaterial=new M.MeshBasicMaterial({color:"#CFC9D1",opacity:.5,transparent:!0});var i=e.drawingManager.createLayer(256,256);e.drawingManager.setProjectionSize(i,320,240),e.drawingManager.drawRect(i,0,0,320,240,{fillStyle:"#f30;"}),e.basicMaterial=new M.MeshBasicMaterial({color:"#aa38ff",opacity:1,transparent:!1});for(var r=0;r<1;r++){var o=e.drawingManager.createLayer(256,256);e.drawingManager.setProjectionSize(o,320,240);for(var a=0;a<6;a++)e.drawingManager.drawCircle(o,320*Math.random(),240*Math.random(),40+120*Math.random(),{fillStyle:"rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")"});e.drawingManager.drawText(o,10,10,"design"+r,{textBaseline:"top"}),e.textures[r]=e.drawingManager.getTexture(o)}if(null===e.basicGeometry){var s=e.numCells,l=new Float32Array(3*s),u=new Float32Array(3*s),c=new Float32Array(4*s),d=new Float32Array(2*s),h=new Float32Array(2*s),p=new Float32Array(2*s),f=(new Float32Array(s),e.getPlaneGeometry(1,-1));e.basicGeometry=new M.InstancedBufferGeometry,e.basicGeometry.copy(f),e.basicGeometry.addAttribute("iOffset",new M.InstancedBufferAttribute(l,3,1)),e.basicGeometry.addAttribute("iScale",new M.InstancedBufferAttribute(u,3,1)),e.basicGeometry.addAttribute("iUvs",new M.InstancedBufferAttribute(c,4,1)),e.basicGeometry.addAttribute("iSize",new M.InstancedBufferAttribute(d,2,1)),e.basicGeometry.addAttribute("iTexSize",new M.InstancedBufferAttribute(h,2,1)),e.basicGeometry.addAttribute("iInset",new M.InstancedBufferAttribute(p,2,1)),e.basicGeometry.attributes.iOffset.setDynamic(!0),e.basicGeometry.attributes.iScale.setDynamic(!0),e.basicGeometry.attributes.iUvs.setDynamic(!0),e.basicGeometry.attributes.iSize.setDynamic(!0),e.basicGeometry.attributes.iTexSize.setDynamic(!0),e.basicGeometry.attributes.iInset.setDynamic(!0)}e.basicMaterial=[];for(var r=0;r<40;r++)e.basicMaterial[r]=new M.MeshPhongMaterial({color:16777215,map:e.textures[0]},{side:M.DoubleSide});e.scaling=!1,e.panning=!1,e.pinching=!1,e.animatingCells=!1,e.drawing=!1,e.initializeGroups();var m,g,v,y;switch(e.graphicsSettings.textureQuality){default:y=2048;break;case 0:y=1024;break;case 2:y=4096}e.layers.names=e.drawingManager.createLayer(y,y,"internal.view.names"),e.drawingManager.setProjectionSize(e.layers.names,window.innerWidth,window.innerHeight),g=new M.MeshBasicMaterial({map:e.drawingManager.getTexture(e.layers.names),transparent:!0}),v=new M.PlaneGeometry(16,-16),m=new M.Mesh(v,g),e.layers.names.mesh=m,m.position.x=-e.stageViewport.left+e.stageViewport.fullWidth/2,m.position.y=-e.stageViewport.top+e.stageViewport.fullHeight/2,m.position.z=.1,m.scale.x=e.stageViewport.fullWidth/16,m.scale.y=e.stageViewport.fullHeight/16,e.groups.names.add(m);var b,w,S;b=new M.Geometry,b.dynamic=!0,S=new M.PointsMaterial({vertexColors:M.VertexColors,size:1}),w=new M.Points(b,S),e.optimizedGeometry=b;for(var r=0;r<25e3;r++)e.optimizedGeometry.vertices.push(new M.Vector3(255*Math.random(),255*Math.random(),0)),e.optimizedGeometry.colors[r]=new M.Color(Math.random(),Math.random(),Math.random());e.optimizedGeometry.verticesNeedUpdate=!0,e.optimizedScene.add(w),w.frustumCulled=!1,e.layers.annotations=e.drawingManager.createLayer(y,y,"plugin.annotations.ref"),e.drawingManager.setProjectionSize(e.layers.annotations,512,512),e.groups.annotations.add(e.createMeshFromLayer(e.layers.annotations)),e.layers.annotations=e.drawingManager.createLayer(y,y,"plugin.annotations.dirty"),e.drawingManager.setProjectionSize(e.layers.annotations,512,512),e.groups.annotations.add(e.createMeshFromLayer(e.layers.annotations)),e.layers.selection=e.drawingManager.createLayer(y,y,"plugin.selection.dirty"),e.drawingManager.setProjectionSize(e.layers.selection,512,512),e.groups.selection.add(e.createMeshFromLayer(e.layers.selection)),e.currentView.positionMeshToView(e.groups.selection.children[0]),e.graphicsSettings.advancedComposition&&(e.composer=new x.EffectComposer(e.renderer),e.copyPass=new x.RenderPass(e.scene,e.camera),e.composer.addPass(e.copyPass),e.graphicsSettings.antialiasing>0&&(e.smaaRenderPass=new x.SMAAPass(e.renderer.width,e.renderer.height),e.smaaRenderPass.renderToScreen=!0,e.composer.addPass(e.smaaRenderPass))),e.addSceneEvents(),e.boundAnimationLoop()}return e.scene},o.prototype.createMeshFromLayer=function(e){var t,n,i,r=this;return n=new M.MeshPhongMaterial({map:r.drawingManager.getTexture(e),transparent:!0,color:16777215}),i=new M.PlaneGeometry(1,-1),t=new M.Mesh(i,n),t.position.z=.1,e.mesh=t,t},o.prototype.showScene=function(){this.viewCanvas.style.display="block"},o.prototype.hideStage=function(){this.viewCanvas.style.display="none"},o.prototype.switchView=function(e){var t,n=this;(t=n.getView(e))&&t!==n.currentView&&(null!==n.currentView&&(n.currentView.detach(),h.default.setSortOrder("asc")),n.hideStage(),n.currentView=t,n.currentView.toggleEvents(!0),void 0!==n.currentView.tileManager?n.currentView.tileManager.init():n.showCurrentView())},o.prototype.showCurrentView=function(e){var t=this;null!==t.currentView&&(l.Events.emitEvent("view.hide"),t.interactiveContainers=[],t.currentView.show(h.default.getPrimaryIdentifierCount()),l.Events.emitEvent("view.show",[t.currentView,e]))},o.prototype.resizeHandler=function(e){void 0!==e&&(this.panelState=e),this.updateViewportSize(this.panelState),this.updateRendererSize(),null===this.currentView?l.Events.emitEvent("view.selected",[this.viewsConfigArray[0].name]):void 0===this.currentView.tileManager?this.showCurrentView(!0):this.currentView.tileManagerReady&&(null!==this.stage&&this.stage.container.scale.x>1?(this.currentView.showAllSprites(),this.currentView.updateTextures()):this.showCurrentView(!0))},o.prototype.loadViews=function(e){var t,n,i=this;if(void 0===e)throw new Error('No property "views" in configuration object.');if(!Array.isArray(e))throw new Error('The property "views" of the configuration object needs to be an array.');if(0===e.length)throw new Error('The array "views" of the configuration object is empty.');for(n=e.length,t=0;t<n;t+=1)i.views.indexes[e[t].name]=t;i.initUI(),l.Events.on("ui.resize",i.resizeHandler.bind(i)),l.Events.on("filter.statechanged",i.resizeHandler.bind(i)),l.Events.on("lefttoolbar.toggled",i.resizeHandler.bind(i)),l.Events.on("leftpanelcontainer.statechanged",i.resizeHandler.bind(i)),l.Events.on("view.selected",i.switchView.bind(i)),l.Events.on("filter.change",function(){1==i.currentView.tileManagerReady&&i.showCurrentView()}),l.Events.on("sort.updated",function(){i.duplicateRemapRequired=!0,null!==i.currentView&&1==i.currentView.tileManagerReady&&i.showCurrentView()}),l.Events.on("tilemanager.ready",function(e){e?i.currentView.updateTextures():(i.showCurrentView(),i.currentView.tileManagerReady=!0)})},o.prototype.loadTagStore=function(){f.default.initTagsServer(),f.default.store.loadAllTags()},o.prototype.getTileManager=function(e){var t,n,i=this,r=u.Config.properties();if(void 0===e||""===e)throw new Error("Requested TileManager without a name");if(void 0===i.tileManagers.instances[e]){if(void 0===(n=r.tileManagers[e]))throw new Error("Requested a TileManager with a name that doesn' exists: "+e);if(t=n.type,"serverUrl"in n.options||(n.options.serverUrl=r.serverUrl),"collectionId"in n.options||(n.options.collectionId=r.collectionId),void 0===i.tileManagers.constructors[t])throw new Error("Requested a TileManager of a type that doesn' exists: "+t);i.tileManagers.instances[e]=new i.tileManagers.constructors[t](n.options,e)}return this.tileManagers.instances[e]},o.prototype.addTileManagerType=function(e,t){if(!e)throw new Error('Added TileManager without a specified "type"');if(this.tileManagers.constructors[e])throw new Error("A TileManager with this type just exists: "+e);var n=t;this.tileManagers.constructors[e]=n},o.prototype.getView=function(e){var t,n,i,r=this;if(void 0===e||""===e)throw new Error("Requested View without a name");if(void 0===r.views.instances[e]){if(void 0===(i=r.views.indexes.hasOwnProperty(e)?r.views.indexes[e]:e))throw new Error("Requested a View with a name that doesn' exists: "+e);if(i>=r.viewsConfigArray.length)return null;if(n=r.viewsConfigArray[i],t=n.type,void 0===r.views.constructors[t])throw new Error("Requested a View of a type that doesn' exists: "+t);r.views.instances[e]=new r.views.constructors[t](r,n.options),r.views.instances[e].name=e,void 0!==n.options&&void 0!==n.options.tileManager&&(r.views.instances[e].tileManager=r.getTileManager(n.options.tileManager))}return r.views.instances[e]},o.prototype.addViewType=function(e,t){if(!e)throw new Error('Added View without a specified "type"');if(this.views.constructors[e])throw new Error("A View with this type just exists: "+e);var n=t;this.views.constructors[e]=n},o.prototype.updateViewportSize=function(e){var t=C.LEFT_TOOLBAR_WIDTH+(e?C.LEFT_PANEL_WIDTH:0);void 0!==this.stageViewport&&(this.stageViewport.fullWidth=this.viewPanel.offsetWidth,this.stageViewport.fullHeight=this.viewPanel.offsetHeight,this.stageViewport.left=t+this.stageViewport.padding,this.stageViewport.top=this.stageViewport.padding,this.stageViewport.width=this.stageViewport.fullWidth-this.stageViewport.left-this.stageViewport.padding,this.stageViewport.height=this.stageViewport.fullHeight-this.stageViewport.top-this.stageViewport.padding,this.stageViewport.innerLeft=t,this.stageViewport.innerTop=this.stageViewport.top,this.stageViewport.innerWidth=this.stageViewport.fullWidth-this.metadataPanel.offsetWidth-t,this.stageViewport.innerHeight=this.stageViewport.height)},o.prototype.updateRendererSize=function(){var e=this;null!==e.scene&&(e.updateViewportSize(this.panelState),e.renderer.setSize(window.innerWidth,window.innerHeight-e.header.clientHeight,!0),e.camera.right=window.innerWidth,e.camera.bottom=window.innerHeight-e.header.clientHeight,e.drawingManager.setProjectionSize(e.layers.names,window.innerWidth,window.innerHeight-e.header.clientHeight),e.drawingManager.setProjectionSize(e.layers.selection,window.innerWidth,window.innerHeight),e.currentView.updateLayers(!0),e.camera.updateProjectionMatrix(),null!=e.currentView.selectedMesh&&void 0!=e.currentView.selectedMesh&&e.requestSelectMesh(e.currentView.selectedMesh.name))},o.prototype.calculateOptimalCellSize=function(){var e,t,n=this;e=n.items.filter(function(e){if(e.picInfo&&null!=e.picInfo&&void 0!==e.picInfo.width&&void 0!==e.picInfo.height)return e}),e=e.sort(function(e,t){return e.picInfo.width/e.picInfo.height-t.picInfo.width/t.picInfo.height}),e.length>0&&(t=e[Math.floor(e.length/2)],n.cellSize.width=t.picInfo.width,n.cellSize.height=t.picInfo.height)},o.prototype.clearVisitedContainer=function(){var e,t=this;if(null!==t.stage){for(;t.visitedItems.length>0;)e=t.visitedItems.pop(),e.visited=!1,delete e.visitedSprites;t.stage.visitedContainer.children.length>0&&t.stage.visitedContainer.removeChildren()}},o.prototype.getLabelColumn=function(){var e,t,n,i,r,o=this;if(void 0!==o.labelColumn)return o.labelColumn;if(void 0!==o.labelsConfig.field){t=o.labelsConfig.field.toLowerCase(),r=h.default.getTable();for(i in r)i.toLowerCase()===t&&(n=i)}return void 0===n&&(e=h.default.getNameColumn(),n=null!==e?e.name:null),o.labelColumn=n,n},o.prototype.getGroup=function(e){return this.groups[e]},o.prototype.initMonitoring=function(){var e=this;e.monitorCanvas=e.perfMan.initStatistics(),e.monitorCanvas=e.perfMan.statsCanvas,e.perfMan.debug=u.Config.properties().debug,document.body.appendChild(e.monitorCanvas),e.coreNode=e.perfMan.createMonitor("core"),e.coreNode.createProbe("main render","rendering"),e.coreNode.createProbe("draw names","rendering"),e.coreNode.createProbe("draw annotations","rendering"),e.coreNode.createProbe("manage duplicates","rendering"),e.coreNode.createProbe("compute tween","animation"),e.coreNode.createProbe("compute position","animation"),e.coreNode.createProbe("build grouping","geometry"),e.coreNode.createProbe("build atlas","geometry"),e.coreNode.createProbe("discard orphans","geometry"),e.coreNode.createProbe("geometry hit test","event")},o.prototype.makePlane=function(e,t,n,i){return new y.default(e,t,i,n)};var L=new o;L._BaseView=s.default,t.ViewManager=L},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var i=n(179),r=n(126);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(40),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(8),r=n(180),o=n(126),a=n(125)("IE_PROTO"),s=function(){},l=function(){var e,t=n(123)("iframe"),i=o.length;for(t.style.display="none",n(127).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(179),r=n(126).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){"use strict";var i=n(10),r=n(15),o=n(14),a=n(13)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(32),r=n(191),o=n(139),a=n(8),s=n(16),l=n(141),u={},c={},t=e.exports=function(e,t,n,d,h){var p,f,m,g,v=h?function(){return e}:l(e),y=i(n,d,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>_;_++)if((g=t?y(a(f=e[_])[0],f[1]):y(e[_]))===u||g===c)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=r(m,y,f.value,t))===u||g===c)return g};t.BREAK=u,t.RETURN=c},function(e,t,n){var i=n(25);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(7),r=function(e){var t,n={};i(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=r},function(e,t,n){"use strict";function i(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];this[r]=a?a(n):n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;this.isDefaultPrevented=s?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=n(58),o=n(52),a=n(165),s=n(35),l=n(161),u={type:null,target:a,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};l(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=u,i.augmentClass=function(e,t){var n=this,i=Object.create(n.prototype);l(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=s(n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.threeArgumentPooler)},r.addPoolingTo(i,r.threeArgumentPooler),e.exports=i},function(e,t,n){var i=n(15).f,r=n(23),o=n(13)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(1),r=n(39),o=n(11),a=n(129),s="["+a+"]",l="",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(e,t,n){var r={},s=o(function(){return!!a[e]()||l[e]()!=l}),u=r[e]=s?t(h):a[e];n&&(r[n]=u),i(i.P+i.F*s,"String",r)},h=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,t){e.exports={}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";(function(e){function i(){this.objectSeed=0,this.stores=[],this.monitors=[],this.log=[],this.timertick=0,this.statsCanvas=null,this.debug=!0,this.tickTimeout=500,this.lastTickTime=-9999,this.internalMonitor=null,this.iProbe=null}function r(){this.id=m.createIdentity(),this.name="MONITOR"+this.id,this.probes=[],this.policy=new o}function o(){this.valueLimit=100,this.reactive=!1}function a(){this.id=m.createIdentity(),this.name="PROBE"+this.id,this.displayName=this.name,this.displayCategory="General",this.values=[],this.lastTick=0,this.startTime=0,this.inProgress=!1,this.parent=null,this.stackValue=!1,this.allTotal=0}function s(){this.id=m.createIdentity(),this.name="STORE"+this.id,this.objects=[],this.policy=new l,this.log=[],this.lastCleanup=-999999999,this.disposalMethods=[],Object.defineProperties(this,{count:{get:function(){return this.objects.length}}})}function l(){this.softLimit=100,this.hardLimit=200,this.logLimit=50,this.enforceLimits=!0,this.memoryLimit=!1,this.estimateMemory=!0,this.automateGC=!1,this.gcInterval=10,this.deepDispose=!1,this.lockingPolicy=g.ALLOW,this.failurePolicy=g.ALLOW,this.loggingPolicy=g.ALLOW}function u(e){void 0!==e&&(this.subject="",this.message=e,this.time=window.performance?window.performance.now():0,this.severity=v.INFO)}function c(e,t){if(void 0===e)throw new Error("Cached items must be constructed with the object that caching is desired for.");this.id=m.createIdentity(),this.name="ITEM"+this.id,this.priority=1,this.locked=!1,this.parentStore=null,this.data=e,"string"==typeof t&&(this.name=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceManager=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(3),p=n(19),f=n(6),m=null,g={IGNORE:0,ALLOW:1,DENY:2},v={INFO:0,WARN:1,ERROR:2,CRITICAL:3};i.prototype.calculatePrimes=function(e){for(var t=[],n=1;n<e;n++)(function(e){for(var t=2;t<e-1;t++)if(e%t==0)return!1;return!0})(n)&&t.push(n);return t},i.prototype.calculateOptimalSettings=function(e){var t={textureQuality:0,anisotropy:1,antialiasing:0,advancedComposition:0,uiEnhancedResponsiveness:0,uiEnhancedRendering:0,renderQuality:1,atlasDampingFactor:0};if(!e)return t;var n="Unknown",i=e.filter(function(e){return"Geometry Test"==e.title});if(void 0!==i){var r=i[0].result;r<=20&&(t.antialiasing=!0,t.uiEnhancedRendering=!0,t.uiEnhancedResponsiveness=!0,t.atlasDampingFactor=0,t.anisotropy=8,n="High Performance Graphics"),r>20&&r<=100&&(t.antialiasing=!1,t.uiEnhancedRendering=!1,t.uiEnhancedResponsiveness=!1,t.renderQuality=1,t.textureQuality=1,t.atlasDampingFactor=0,t.anisotropy=4,n="Balanced Graphics"),r>100&&(t.antialiasing=!1,t.uiEnhancedRendering=!1,t.uiEnhancedResponsiveness=!1,t.renderQuality=1,t.textureQuality=1,t.atlasDampingFactor=1,n="Low Power Device"),r>250&&(t.antialiasing=!1,t.uiEnhancedRendering=!1,t.uiEnhancedResponsiveness=!1,t.renderQuality=1,t.textureQuality=0,n="Extremely Low Power Device")}var o=e.filter(function(e){return"Texture Upload Test"==e.title});if(void 0!==o){var r=o[0].result;r<=15&&(t.antialiasing=!0,t.textureQuality=1),r>15&&(t.textureQuality=1,t.anisotropy=1,t.uiEnhancedRendering=!1,t.uiEnhancedResponsiveness=!1,t.advancedComposition=!1),r>75&&(t.renderQuality=1,t.textureQuality=1,t.atlasDampingFactor=1,n="Low Power Device")}return f.Helpers.isMobile()&&(t.atlasDampingFactor=1,t.textureQuality=1,t.renderQuality=2),1==h.Config.properties().debug&&console.log('Your zegami session is running the "'+n+'" configuration.'),t},i.prototype.drawStatistics=function(e){var t,n,i=this,r=[];if(i.iProbe&&i.iProbe.start(),i.statsCanvas){i.statsCanvas.style.display=i.debug?"block":"none",i.statsCanvas.width=i.statsCanvas.width,t=i.statsCanvas.getContext("2d"),t.fillStyle="#000",t.fillRect(0,0,i.statsCanvas.width,i.statsCanvas.height),t.font="14px monospace",t.fillStyle=t.strokeStyle="#fff",t.textBaseline="top",t.lineWidth=2,t.fillText("Performance Manager",5,5),t.beginPath(),t.moveTo(5,24),t.lineTo(i.statsCanvas.width-5,24),t.stroke();var o,a,s,l,u,c,h,p,f=0;s=i.statsCanvas.width/2,l=125,u=80,o=0;for(var m=0;m<i.monitors.length;m++)for(var g=0;g<i.monitors[m].probes.length;g++)i.monitors[m].probes[g].values[i.monitors[m].probes[g].values.length-1]>i.tickTimeout/500&&r.push({probe:i.monitors[m].probes[g],index:f,val:i.monitors[m].probes[g].values[i.monitors[m].probes[g].values.length-1]}),o+=i.monitors[m].probes[g].values[i.monitors[m].probes[g].values.length-1],f++;p=o,a=-Math.PI/2,n=["#922B21","#76448A","#1F618D","#148F77","#B7950B","#1E8449","#B9770E","#A04000","#CB4335","#48C9B0","#5DADE2","#717D7E","#2E4053","#566573"],f=0,o<i.tickTimeout&&(h=i.tickTimeout-o,o=i.tickTimeout);for(var m=0;m<i.monitors.length;m++)for(var g=0;g<i.monitors[m].probes.length;g++)t.fillStyle=n[f],t.beginPath(),t.moveTo(s,l),c=2*Math.PI*(i.monitors[m].probes[g].values[i.monitors[m].probes[g].values.length-1]/o),t.arc(s,l,u,a,a+c),t.lineTo(s,l),t.fill(),a+=c,f++;h&&(t.fillStyle="#424949",t.beginPath(),t.moveTo(s,l),c=2*Math.PI*(h/o),t.arc(s,l,u,a,a+c),t.lineTo(s,l),t.fill());var v="";t.font="12px monospace",t.textBaseline="top",t.textAlign="center",o>i.tickTimeout?(t.fillStyle=t.strokeStyle="#faa",v="Warning! Tick exceeded "+i.tickTimeout+"ms"):(t.fillStyle=t.strokeStyle="#aaa",v=Math.ceil(10*p)/10+"ms execution time."),t.fillText(v,i.statsCanvas.width/2,235),t.textAlign="left",t.fillStyle=t.strokeStyle="#ddd",t.fillText("Window: "+i.tickTimeout+"ms",5,220),t.textAlign="right",t.fillText("Headroom: "+Math.floor(100*(1-p/i.tickTimeout))+"%",i.statsCanvas.width-5,220);var y,_,b;y=5,_=255,b=18,r.sort(function(e,t){return t.val-e.val});for(var m=0;m<r.length;m++)t.fillStyle=n[r[m].index],t.fillRect(y,_+m*b,i.statsCanvas.width-2*y,b-2),t.fillStyle="#fff",t.textAlign="left",t.font=b-6+"px monospace",t.fillText("("+Math.floor(100*r[m].val)/100+"ms) "+r[m].probe.displayName,y+2,_+m*b+1);if(t.fillStyle="#aaa",t.textAlign="left",t.font="10px monospace","object"===(void 0===e?"undefined":d(e))){var w=0;for(var M in e)t.fillText(M+": "+e[M].toString(),2,i.statsCanvas.height-2-10*(w+1)),w++}}i.iProbe&&i.iProbe.stop()},i.prototype.initStatistics=function(){var e=this;return e.statsCanvas||(e.statsCanvas=document.createElement("canvas"),e.statsCanvas.setAttribute("style","position:fixed; bottom:0px; left: 0px; pointer-events: none; opacity: 0.8; z-index: 999999;"),e.statsCanvas.width=256,e.statsCanvas.height=384,this.internalMonitor=this.createMonitor("internal"),this.iProbe=this.internalMonitor.createProbe("monitoring")),e.statsCanvas},i.prototype.generateReport=function(){var e,t=this;t.iProbe&&t.iProbe.start(),e={cacheStores:{count:t.stores.length,items:[]},monitorNodes:{count:t.monitors.length,items:[]},tick:t.timertick,log:{count:t.log.length,items:[]}};for(var n=0;n<t.stores.length;n++)e.cacheStores.items.push({name:t.stores[n].name,size:t.stores[n].count});for(var n=0;n<t.monitors.length;n++){for(var i={name:t.monitors[n].name,size:t.monitors[n].probes.length,probes:[]},r=0;r<t.monitors[n].probes.length;r++){var o={name:t.monitors[n].probes[r].displayName,category:t.monitors[n].probes[r].displayCategory,values:t.monitors[n].probes[r].values,total:t.monitors[n].probes[r].allTotal};i.probes.push(o)}e.monitorNodes.items.push(i)}return t.iProbe&&t.iProbe.stop(),e},i.prototype.createIdentity=function(){return++this.objectSeed},i.prototype.tick=function(e){var t=this,n=window.performance.now();if(!(t.lastTickTime+t.tickTimeout-2>=window.performance.now())){t.debug&&t.drawStatistics(e),t.lastTickTime=window.performance.now();for(var i=0;i<t.stores.length;i++)1==t.stores[i].policy.automateGC&&n>t.stores[i].lastCleanup+1e3*t.stores[i].policy.gcInterval&&(t.stores[i].lastCleanup=n,t.stores[i].purge());for(var i=0;i<t.monitors.length;i++)for(var r=0;r<t.monitors[i].probes.length;r++)t.monitors[i].probes[r].inProgress=!1,t.monitors[i].probes[r].stackValue=!1,t.monitors[i].probes[r].lastTick!=t.timertick&&(t.monitors[i].probes[r].values.length>t.monitors[i].policy.valueLimit&&t.monitors[i].probes[r].values.splice(0,1),t.monitors[i].probes[r].values.push(0));t.timertick+=1}},i.prototype.createStore=function(e){var t,n=this,i=!1;if(n.iProbe&&n.iProbe.start(),t=new s,"string"==typeof e){for(var r=0;r<n.stores.length;r++)n.stores[r].name.toLowerCase()==e&&(i=!0);if(i)throw n.iProbe&&n.iProbe.stop(),new Error("Couldn't create cache store with name '"+e+"'. The performance manager already has a store with this name. ");t.name=e}return this.stores.push(t),n.iProbe&&n.iProbe.stop(),t},i.prototype.getStore=function(e){var t=this;if(t.iProbe&&t.iProbe.start(),e){e=e.toString().toLowerCase();for(var n=0;n<t.stores.length;n++)if(t.stores[n].name.toLowerCase()==e)return t.iProbe&&t.iProbe.stop(),t.stores[n];t.iProbe&&t.iProbe.stop()}},i.prototype.createMonitor=function(e){var t,n=this,i=!1;if(t=new r,"string"==typeof e){for(var o=0;o<n.monitors.length;o++)n.monitors[o].name.toLowerCase()==e&&(i=!0);if(i)throw new Error("Couldn't create cache store with name '"+e+"'. The performance manager already has a store with this name. ");t.name=e}return this.monitors.push(t),t},i.prototype.getMonitor=function(e){for(var t=this,n=0;n<t.monitors.length;n++)if(t.monitors[n].name.toLowerCase()==e)return t.monitors[n]},i.prototype.clearCache=function(e){var t=this;void 0===e&&(e=!1);for(var n=0;n<t.stores.length;n++)0==t.stores[n].immuneToGlobalCleanup&&t.stores[n].purge(e)},i.prototype.deepDispose=function(e){if(self.iProbe&&self.iProbe.start(),e.hasOwnProperty("data"))for(var t in e.data)e.data.hasOwnProperty(t)&&delete e.data[t];for(var t in e.data)e.data.hasOwnProperty(t)&&delete e.data[t];self.iProbe&&self.iProbe.stop()},t.PerformanceManager=m=m||new i,r.prototype.createProbe=function(e,t){var n,i=this,r=!1;if(n=new a,void 0!==e){for(var o=0;o<i.probes.length;o++)i.probes[o].name.toLowerCase()==e.toLowerCase()&&(r=!0);r||(n.name=e),n.displayName=n.name}if(void 0!==t&&(n.displayCategory=t),r)throw new Error("Cannot create probe with name '"+e+"' because a probe already exists.");return n.parent=i,i.probes.push(n),n},r.prototype.getProbe=function(e){for(var t=this,n=0;n<t.probes.length;n++)if(t.probes[n].name.toLowerCase()==e)return t.probes[n]},a.prototype.start=function(){this.lastTick!=m.timertick?(this.lastTick=m.timertick,this.inProgress=!0,this.startTime=window.performance.now()):(this.lastTick=m.timertick,this.stackValue=!0,this.inProgress=!0,this.startTime=window.performance.now())},a.prototype.stop=function(){var e;this.inProgress&&(e=window.performance.now()-this.startTime,this.inProgress=!1,this.stackValue?this.values[this.values.length-1]+=e:(this.values.length==this.parent.policy.valueLimit&&this.values.splice(0,1),this.values.push(e)),this.allTotal+=e)},s.prototype.getLockedCount=function(){var e=this,t=[];return t=e.objects.filter(function(e){if(e instanceof c)return 1==e.locked}),t.length},s.prototype.getObject=function(e){var t=this;if(e){e=e.toString().toLowerCase();for(var n=0;n<t.objects.length;n++)if(t.objects[n].name==e)return t.objects[n]}},s.prototype.getObjectByKeyObject=function(e,t){for(var n=this,i=0;i<n.objects.length;i++)if(n.objects[i].data[e]===t)return n.objects[i]},s.prototype.setObject=function(e,t){var n,i=this,r=!1;if(t=t.toLowerCase(),i.policy.enforceLimits&&i.policy.hardLimit<=i.count){var o="Illegal cache operation performed. Adding an object would cause the cache to exceed its limits. (LIMIT: "+i.policy.hardLimit+")";if(i.policy.failurePolicy==g.DENY)throw new Exception(o);return void i.logMessage(o,v.WARN)}n=new c(e,t),n.parentStore=i;for(var a=0;a<i.objects.length;a++)i.objects[a].name.toLowerCase()!=t&&i.objects[a].data!=e||(r=!0);if(r){var o="Couldn't create cache object with name '"+t+"'. A similar object already exists in store '+"+i.name+"+'.";if(i.policy.failurePolicy==g.DENY)throw new Error(o);return void i.logMessage(o,v.WARN)}return this.objects.push(n),i.logMessage("An object named '"+n.name+"' was added to '"+i.name+"'.",v.INFO),n},s.prototype.updateObject=function(e,t){var n=this;if(t){t=t.toString().toLowerCase();var i=n.objects.filter(function(e){if(e instanceof c&&e.name.toLowerCase()===t)return e});return i<1?n.setObject(e,t):(i[0].data=e,i[0])}},s.prototype.disposeSelected=function(e){var t=this,n=0;if(e instanceof c&&(e=[e]),!(e instanceof Array))return void t.logMessage("An attempt was made to dispose of items but an array was not provided.");for(var i=0;i<e.length;i++)t.objects.indexOf(e[i])>=0?(t.deleteObject(e[i]),n++):t.logMessage('Item "'+e[i].name+'" was not a member of this store and consequently was not deleted.',v.INFO);return n},s.prototype.purge=function(e){var t=this,n=0,i=0;if(void 0===e&&(e=!1),t.logMessage("A purge has been requested on '"+t.name+"'. Total wipe is "+(e?"enabled.":"not enabled."),v.INFO),t.objects.sort(t.cacheSortItem),e)for(var r=0;r<t.objects.length;r++)t.policy.lockingPolicy==g.DENY?(t.logMessage("A locked item was purged because this cache store's policy does not allow locked items. ["+t.objects[r].name+"]"),t.deleteObject(t.objects[r]),i++):t.objects[r].locked||(t.deleteObject(t.objects[r]),i++);else{for(var r=0;r<t.objects.length;r++)if(0==t.objects[r].locked){n=r;break}if(0==n&&t.policy.lockingPolicy!=g.DENY&&t.objects[0]&&1==t.objects[0].locked)t.logMessage("Could not purge locked items on '"+t.name+"'. There are "+t.count+" cached items in this store, where the ideal limit is "+t.policy.softLimit+".",v.INFO);else for(n<t.policy.softLimit&&(n=t.policy.softLimit);!(n>=t.count);)t.policy.lockingPolicy!=g.ALLOW?(t.logMessage("A locked item was purged because this cache store's policy does not allow locked items. ["+t.objects[n].name+"]"),t.deleteObject(t.objects[n]),i++):t.objects[n].locked||(t.deleteObject(t.objects[n]),i++)}t.logMessage("Deleted a total of "+i+" items on '"+t.name+"'. A total of "+t.count+" items remain in this store.",v.INFO)},s.prototype.addDisposalEvent=function(e){this.disposalMethods.push(e)},s.prototype.deleteObject=function(e){for(var t,n=this,r=0;r<n.disposalMethods.length;r++)n.disposalMethods[r].bind()(e.data);for(var o=0;o<n.objects.length;o++)if(n.objects[o]==e){t=o;break}if(void 0===t){var a="Illegal cache operation performed. Could not delete an object that does not belong to the cache store. (STORE: "+n.name+")";if(n.policy.failurePolicy==g.DENY)throw new Exception(a);n.logMessage(a,v.WARN)}n.objects.splice(o,1),n.policy.deepDispose?(n.logMessage("Peforming deep disposal routine on an object queued for deletion. ["+e.name+"]"),i.deepDispose(e)):delete e.data},s.prototype.logMessage=function(e,t){var n,i=this;i.policy.loggingPolicy!=g.DENY&&(i.policy.logLimit>=i.log.length&&i.log.shift(),n=new u(e),void 0!==t&&(n.severity=t),n.subject=i.name,i.log.push(n),i.policy.loggingPolicy==g.ALLOW&&n.out())},s.prototype.cacheSortItem=function(e,t){return e.locked&&t.locked?t.priority-e.priority:e.locked||t.locked?t.locked-e.locked:t.priority-e.priority},u.prototype.out=function(){var e=this;switch(e.severity){case v.INFO:p.Log.info("%c["+e.subject+"] %c"+e.message,["color: #f2e; font-weight: bold;","color: #111; font-weight: normal;"]);break;case v.WARN:p.Log.warn("%c["+e.subject+"] %c"+e.message,["color: #f84; font-weight: bold;","color: #331; font-weight: normal;"]);break;case v.ERROR:p.Log.error("%c["+e.subject+"] %c"+e.message,["color: #f00; font-weight: bold;","color: #600; font-weight: normal;"])}},e.PerformanceManager=m,t.PerformanceManager=m}).call(t,n(90))},function(e,t,n){"use strict";function i(e,t){return null==t||r.hasBooleanValue[e]&&!t||r.hasNumericValue[e]&&isNaN(t)||r.hasPositiveNumericValue[e]&&t<1||r.hasOverloadedBooleanValue[e]&&!1===t}var r=n(81),o=n(154),a=n(343),s=(n(44),a(function(e){return o(e)+'="'})),l={createMarkupForID:function(e){return s(r.ID_ATTRIBUTE_NAME)+o(e)+'"'},createMarkupForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){if(i(e,t))return"";var n=r.getAttributeName[e];return r.hasBooleanValue[e]||r.hasOverloadedBooleanValue[e]&&!0===t?o(n):s(n)+o(t)+'"'}return r.isCustomAttribute(e)?null==t?"":s(e)+o(t)+'"':null},setValueForProperty:function(e,t,n){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var o=r.getMutationMethod[t];if(o)o(e,n);else if(i(t,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute[t])e.setAttribute(r.getAttributeName[t],""+n);else{var a=r.getPropertyName[t];r.hasSideEffects[t]&&e[a]===n||(e[a]=n)}}else r.isCustomAttribute(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var n=r.getMutationMethod[t];if(n)n(e,void 0);else if(r.mustUseAttribute[t])e.removeAttribute(r.getAttributeName[t]);else{var i=r.getPropertyName[t],o=r.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects[t]&&e[i]===o||(e[i]=o)}}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=l},function(e,t,n){"use strict";var i=n(7),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},s=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in t){i(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var u=l.toLowerCase();if(a.getPossibleStandardName[u]=l,n.hasOwnProperty(l)){var c=n[l];a.getPossibleStandardName[c]=l,a.getAttributeName[l]=c}else a.getAttributeName[l]=u;a.getPropertyName[l]=o.hasOwnProperty(l)?o[l]:l,s.hasOwnProperty(l)?a.getMutationMethod[l]=s[l]:a.getMutationMethod[l]=null;var d=t[l];a.mustUseAttribute[l]=d&r.MUST_USE_ATTRIBUTE,a.mustUseProperty[l]=d&r.MUST_USE_PROPERTY,a.hasSideEffects[l]=d&r.HAS_SIDE_EFFECTS,a.hasBooleanValue[l]=d&r.HAS_BOOLEAN_VALUE,a.hasNumericValue[l]=d&r.HAS_NUMERIC_VALUE,a.hasPositiveNumericValue[l]=d&r.HAS_POSITIVE_NUMERIC_VALUE,a.hasOverloadedBooleanValue[l]=d&r.HAS_OVERLOADED_BOOLEAN_VALUE,i(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),i(a.mustUseProperty[l]||!a.hasSideEffects[l]),i(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++)if((0,a._isCustomAttributeFunctions[t])(e))return!0;return!1},getDefaultValueForProperty:function(e,t){var n,i=o[e];return i||(o[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:r};e.exports=a},function(e,t,n){"use strict";function i(e){return p+e.toString(36)}function r(e,t){return e.charAt(t)===p||t===e.length}function o(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function a(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(p)):""}function l(e,t){if(h(o(e)&&o(t)),h(a(e,t)),e===t)return e;for(var n=e.length+f,i=n;i<t.length&&!r(t,i);i++);return t.substr(0,i)}function u(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var i=0,a=0;a<=n;a++)if(r(e,a)&&r(t,a))i=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,i);return h(o(s)),s}function c(e,t,n,i,r,o){e=e||"",t=t||"",h(e!==t);var u=a(t,e);h(u||a(e,t));for(var c=0,d=u?s:l,p=e;;p=d(p,t)){var f;if(r&&p===e||o&&p===t||(f=n(p,u,i)),!1===f||p===t)break;h(c++<m)}}var d=n(345),h=n(7),p=".",f=p.length,m=100,g={createReactRootID:function(){return i(d.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=u(e,t);o!==e&&c(e,o,n,i,!1,!0),o!==t&&c(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:p};e.exports=g},function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,d[e[m]]={}),d[e[m]]}var r=n(31),o=n(94),a=n(347),s=n(606),l=n(348),u=n(159),c=n(35),d={},h=!1,p=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c(s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=i(n),s=a.registrationNameDependencies[e],l=r.topLevelTypes,c=0,d=s.length;c<d;c++){var h=s[c];o.hasOwnProperty(h)&&o[h]||(h===l.topWheel?u("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):h===l.topScroll?u("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):h===l.topFocus||h===l.topBlur?(u("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(h)&&g.ReactEventListener.trapBubbledEvent(h,f[h],n),o[h]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});e.exports=g},function(e,t,n){"use strict";var i={current:null};e.exports=i},function(e,t,n){"use strict";var i=n(46),r=n(352),o=n(86),a=n(7),s=n(73),l=n(35),u=s({MOUNTED:null,UNMOUNTED:null}),c=!1,d=null,h=null,p={injection:{injectEnvironment:function(e){a(!c),h=e.mountImageIntoNode,d=e.unmountIDFromEnvironment,p.BackendIDOperations=e.BackendIDOperations,c=!0}},LifeCycle:u,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===u.MOUNTED},setProps:function(e,t){var n=this._pendingDescriptor||this._descriptor;this.replaceProps(l(n.props,e),t)},replaceProps:function(e,t){a(this.isMounted()),a(0===this._mountDepth),this._pendingDescriptor=i.cloneAndReplaceProps(this._pendingDescriptor||this._descriptor,e),o.enqueueUpdate(this,t)},_setPropsInternal:function(e,t){var n=this._pendingDescriptor||this._descriptor;this._pendingDescriptor=i.cloneAndReplaceProps(n,l(n.props,e)),o.enqueueUpdate(this,t)},construct:function(e){this.props=e.props,this._owner=e._owner,this._lifeCycleState=u.UNMOUNTED,this._pendingCallbacks=null,this._descriptor=e,this._pendingDescriptor=null},mountComponent:function(e,t,n){a(!this.isMounted());var i=this._descriptor.props;if(null!=i.ref){var o=this._descriptor._owner;r.addComponentAsRefTo(this,i.ref,o)}this._rootNodeID=e,this._lifeCycleState=u.MOUNTED,this._mountDepth=n},unmountComponent:function(){a(this.isMounted());var e=this.props;null!=e.ref&&r.removeComponentAsRefFrom(this,e.ref,this._owner),d(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=u.UNMOUNTED},receiveComponent:function(e,t){a(this.isMounted()),this._pendingDescriptor=e,this.performUpdateIfNecessary(t)},performUpdateIfNecessary:function(e){if(null!=this._pendingDescriptor){var t=this._descriptor,n=this._pendingDescriptor;this._descriptor=n,this.props=n.props,this._owner=n._owner,this._pendingDescriptor=null,this.updateComponent(e,t)}},updateComponent:function(e,t){var n=this._descriptor;n._owner===t._owner&&n.props.ref===t.props.ref||(null!=t.props.ref&&r.removeComponentAsRefFrom(this,t.props.ref,t._owner),null!=n.props.ref&&r.addComponentAsRefTo(this,n.props.ref,n._owner))},mountComponentIntoNode:function(e,t,n){var i=o.ReactReconcileTransaction.getPooled();i.perform(this._mountComponentIntoNode,this,e,t,i,n),o.ReactReconcileTransaction.release(i)},_mountComponentIntoNode:function(e,t,n,i){var r=this.mountComponent(e,n,0);h(r,t,i)},isOwnedBy:function(e){return this._owner===e},getSiblingByRef:function(e){var t=this._owner;return t&&t.refs?t.refs[e]:null}}};e.exports=p},function(e,t,n){"use strict";function i(){p(M.ReactReconcileTransaction&&g)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(null),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled()}function o(e,t,n){i(),g.batchedUpdates(e,t,n)}function a(e,t){return e._mountDepth-t._mountDepth}function s(e){var t=e.dirtyComponentsLength;p(t===m.length),m.sort(a);for(var n=0;n<t;n++){var i=m[n];if(i.isMounted()){var r=i._pendingCallbacks;if(i._pendingCallbacks=null,i.performUpdateIfNecessary(e.reconcileTransaction),r)for(var o=0;o<r.length;o++)e.callbackQueue.enqueue(r[o],i)}}}function l(e,t){if(p(!t||"function"==typeof t),i(),!g.isBatchingUpdates)return void g.batchedUpdates(l,e,t);m.push(e),t&&(e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t])}var u=n(164),c=n(58),d=(n(84),n(59)),h=n(117),p=n(7),f=n(47),m=(n(44),[]),g=null,v={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),b()):m.length=0}},y={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},_=[v,y];f(r,h.Mixin),f(r,{getTransactionWrappers:function(){return _},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),c.addPoolingTo(r);var b=d.measure("ReactUpdates","flushBatchedUpdates",function(){for(;m.length;){var e=r.getPooled();e.perform(s,null,e),r.release(e)}}),w={injectReconcileTransaction:function(e){p(e),M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){p(e),p("function"==typeof e.batchedUpdates),p("boolean"==typeof e.isBatchingUpdates),g=e}},M={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:b,injection:w};e.exports=M},function(e,t,n){"use strict";function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return g(e,i)}function r(e,t,n){var r=t?m.bubbled:m.captured,o=i(e,n,r);o&&(n._dispatchListeners=p(n._dispatchListeners,o),n._dispatchIDs=p(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(e,i);r&&(n._dispatchListeners=p(n._dispatchListeners,r),n._dispatchIDs=p(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function l(e){f(e,o)}function u(e,t,n,i){h.injection.getInstanceHandle().traverseEnterLeave(n,i,a,e,t)}function c(e){f(e,s)}var d=n(31),h=n(94),p=n(157),f=n(158),m=d.PropagationPhases,g=h.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:u};e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getDefaultProps:function(){return{name:"",facetCategory:"",facetCategoryDisplay:"",data:null,filterChanged:null,showContent:!1,isActive:!1}}}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(9),l=r(s),u=n(2),c=n(6),d=n(3),h=(n(19),n(43)),p=n(4),f=r(p),m=n(5),g=i(m),v=n(373),y=i(v),_=function(){function e(t){var n=this;o(this,e);var i=this;i.viewManager=t,i.maxScale=3e3,i.selectedPicture=null,i.datastore=l.default,i.react=f.default,i.contextMenuItems=[],i.groupByAvailable=!0,i.groupsBorder=.1,i.groupsMargin=.2,i.selectedGroup=null,i.namesAvailable=!0,i.namesMinSize=25,i.picSize={},i.minCellShowDimension=30,i.visitedBorderSize=.05,i.mobileMinWidth=640,i.longTouchDuration=650,i.isLongTouch=!1,i.touchstartTimer=0,i.fingerFudginess=1,i.animationDuration=500,i.orientations=null,i.positions=null,i.itemScales=null,i.lastBins=null,i.mouseOverLast=!1,i.highlightMesh=null,i.debugOverlayMesh=null,i.debugOverlayLayer=null,i.duplicateIntegrityMap={},i.cameraMode="fixed",i.pointSingleMesh=null,u.Events.on("metadata.close",function(){i.selectedPicture=null}),u.Events.on("plane.mouseover",i.planeMouseOver),u.Events.on("plane.mouseout",i.planeMouseOut),u.Events.on("view.hide",i.planeMouseOut.bind(i)),u.Events.on("view.texture.ready",function(e){i.updateVisitedBorder(e)}),u.Events.on("view.shown",function(){null==i.highlightMesh&&(i.highlightMesh=i.createHighlightMesh()),null==i.debugOverlayMesh&&(i.debugOverlayMesh=i.createHighlightMesh(),i.debugOverlayLayer=i.viewManager.drawingManager.createLayer(512,512,"debug.diagOverlay"),i.viewManager.drawingManager.setProjectionSize(i.debugOverlayLayer,256,256),i.debugOverlayMesh.material=new g.MeshBasicMaterial({map:i.viewManager.drawingManager.getTexture(i.debugOverlayLayer),transparent:!0}));var e=l.default.getTable(!0),t=l.default.getPrimaryKeyColumn().name,r=e[t].lut[e[t][0]];if(1==l.default.getFilteredCount()&&1==i.viewManager.items.filter(function(e){return e.name==r}).length){var o=void 0;i.cameraMode="single_tile",o=i.viewManager.items.filter(function(e){if(e.name==r)return!0}),o.length>0?(n.pointSingleMesh=o[0],i.runAnimation(function(){i.viewManager.animatingCells=!1,i.endedAnimation(!1,!0),i.drawVisitedBorders(),i.selectMesh(o[0])})):i.runAnimation()}else i.selectedMesh=null,i.cameraMode="fixed",i.runAnimation()}),i.addEvents()}return a(e,[{key:"createHighlightMesh",value:function(){var e=this,t=void 0,n=void 0,i=void 0;return n=new g.MeshBasicMaterial({color:d.Config.properties().colors.primaryAlt}),i=e.viewManager.standardGeometry,t=new g.Mesh(i,n),t.position.set(-9999,-9999,2),e.viewManager.scene.add(t),t}},{key:"initView",value:function(e){var t=this;t.viewManager.numCells=e.values.length,t.scene=t.viewManager.getScene(),t.viewManager.updateRendererSize(),t.fingerFudginess=window.devicePixelRatio,t.skipAnimation=!0,t.resetState(),t.resetSceneContainer(!0)}},{key:"initMeshes",value:function(e){var t=this,n=void 0,i=void 0,r=void 0,o=void 0,a=[],s=void 0,l=void 0,u=t.viewManager.currentView.tileManager,c=void 0,d=void 0;for(o=e.values.length,r=0;r<o;r+=1)n=e.values[r].value,i=e.values[r].count,!0===u.imageless?(d=u.getDynamicPictureInfo(),d.n,c={column:0,row:0,gridIndex:0}):d=u.data[u.currentSource].pictures[n],s=t.viewManager.getMesh(n,r,c,d,u.maxAtlasLevel,u.maxTileSize),s.visible=!0,s.alpha=1,s.name=e.values[r].value,r<e.values.length-1&&(s.userData.nextMeshId=e.values[r+1].value),r>0&&(s.userData.previousMeshId=e.values[r-1].value),1===i?(s.userData.animation={startScale:s.scale.x,startScaleX:s.scale.x,startScaleY:s.scale.y,startX:s.position.x,startY:s.position.y},a.push(s),s.selected=!0):t.setMeshNotSelectedProperties(s);return l=t.geometryFromPlanes(function(e){return!u.imageless&&!e.loadedImg}),t.viewManager.groups.blanks.children.length>0&&t.viewManager.groups.blanks.remove(t.viewManager.groups.blanks.children[0]),null!=l&&t.viewManager.groups.blanks.add(l.mesh),a}},{key:"setPictureSize",value:function(e){var t=this;t.picSize.width=e.width,t.picSize.height=e.height}},{key:"bakeGroupObjects",value:function(e,t){var n=this,i=[];n.viewManager.coreNode.getProbe("build grouping").start();for(var r=0;r<e.length;r++)for(var o=0;o<e[r].meshes.length;o++)if(e[r].meshes[o].groupingCounter=0,e[r].meshes[o].duplicates)for(var a=0;a<e[r].meshes[o].duplicates.length;a++)e[r].meshes[o].duplicates[a]._groupBufferMarked=!1;for(var r=0;r<e.length;r++){var s=new g.MeshBasicMaterial({color:e[r].color?e[r].color.replace("0x","#"):16711680}),l=e[r].meshes;if(1==t){for(var u=[],c=0;c<l.length;c++)if(l[c].duplicates)for(var d=0;d<l[c].duplicates.length;d++)-1==u.indexOf(l[c].duplicates[d])&&1!=l[c].duplicates[d]._groupBufferMarked&&(u.push(l[c].duplicates[d]),l[c].duplicates[d]._groupBufferMarked=!0);l=l.concat(u)}var h=n.groupGeometryFromMeshes(l),p=new g.Mesh(h,s);p.name=n.viewManager.groupBy+" "+e[r].startingValue+"-"+e[r].endingValue,p.frustumCulled=!1,p.position.z=-1.5,p.userData={binIndex:e[r].index?e[r].index:r,startingValue:e[r].startingValue,endingValue:e[r].endingValue,bin:e[r],referenceMaterial:s},i.push(p)}do{n.viewManager.groups.groupBy.remove(n.viewManager.groups.groupBy.children[0])}while(n.viewManager.groups.groupBy.children.length>0);for(var r=0;r<i.length;r++)n.viewManager.groups.groupBy.add(i[r]);n.viewManager.coreNode.getProbe("build grouping").stop()}},{key:"geometryFromPlanes",value:function(e,t){var n=this,i=void 0,r={},o=void 0!==t?t:n.viewManager.items,a=[],s=void 0,l=void 0,u=void 0,c=void 0,h=0,p=void 0,f=void 0;void 0===e&&(e=function(){return!0}),f=["uniform float delta;","uniform vec3 color;","","void main() {","gl_FragColor = vec4(color,1.0);","}"].join("\n"),p=["precision highp float;","attribute vec3 iOffset;","attribute vec3 iScale;","vec3 applyTRS( vec3 position, vec3 translation, vec3 scale ) {","position *= scale;","return position + translation;","}","void main(){","vec3 transformed = applyTRS( position.xyz, iOffset, iScale );","gl_Position = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );","}"].join("\n"),i=new g.ShaderMaterial({vertexShader:p,fragmentShader:f,side:g.FrontSide,uniforms:{color:{value:new g.Color(parseInt(d.Config.properties().colors.blankSprite.replace("#",""),16))}}}),l=new g.Mesh;for(var m=0;m<o.length;m++)e(o[m])?(r[o[m].datastoreIndex]=h,o[m].nullImage=l,a.push(o[m]),h++):o[m].nullImage=null;if(0!=h)return s=new g.InstancedBufferGeometry,s.copy(n.viewManager.standardGeometry),u=new g.InstancedBufferAttribute(new Float32Array(3*h),3,1),c=new g.InstancedBufferAttribute(new Float32Array(3*h),3,1),u.setDynamic(!0),c.setDynamic(!0),s.addAttribute("iOffset",u),s.addAttribute("iScale",c),l.geometry=s,l.material=i,l.userData.planeMap=r,l.position.z=-1.5,l.frustumCulled=!1,{mesh:l,planes:a}}},{key:"groupGeometryFromMeshes",value:function(e){var t=this,n={},i=1,r=1;i=t.viewManager.effectiveWidth/2,r=t.viewManager.effectiveHeight/2,n=new g.Geometry;for(var o=0;o<e.length;o++){var a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;c=e[o],void 0!==e[o]&&e[o].groupingCounter>0&&e[o].duplicates&&e[o].duplicates[e[o].groupingCounter-1]&&(c=e[o].duplicates[e[o].groupingCounter-1]),void 0!==e[o]&&(e[o].groupingCounter++,a=c.position.x,s=c.position.y,void 0!==c.userData.animation.endX&&(a=c.userData.animation.endX,s=c.userData.animation.endY),l=i,u=r,n.vertices.push(new g.Vector3(a-l,s-u,0)),n.vertices.push(new g.Vector3(a-l,s+u,0)),n.vertices.push(new g.Vector3(a+l,s-u,0)),n.faces.push(new g.Face3(6*o,6*o+1,6*o+2)),n.vertices.push(new g.Vector3(a+l,s-u,0)),n.vertices.push(new g.Vector3(a-l,s+u,0)),n.vertices.push(new g.Vector3(a+l,s+u,0)),n.faces.push(new g.Face3(6*o+3,6*o+4,6*o+5)))}return n}},{key:"setMeshesPosition",value:function(e,t){var n=this,i=void 0,r=void 0,o=void 0,a=void 0;for(r=e.length,i=0;i<r;i++)a=e[i],n.setMeshSizeAndScale(a,n.picSize),o=t(i),a.userData.animation.endX=o.x,a.userData.animation.endY=o.y,n.skipAnimation&&n.hasMeshChangedPosition(a)&&(n.skipAnimation=!1)}},{key:"runAnimation",value:function(e){var t=this;t.onScaleChange(1),t.animateCells(t.skipAnimation,e),t.viewManager.startAnimations()}},{key:"show",value:function(){throw new Error("BaseView.show() is an abstract method. It should be overwritten.")}},{key:"getNotSelectedCoordinates",value:function(e,t,n){var i=this,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;return l=i.viewManager.stageViewport,s=Math.sqrt(l.fullWidth*l.fullWidth+l.fullHeight*l.fullHeight),o=Math.sqrt(t*t+n*n),a={x:l.width/2,y:l.height/2,radius:2*(s+o)},r=Math.atan2(e.position.y-a.y,e.position.x-a.x),{x:a.x+a.radius*Math.cos(r),y:a.y+a.radius*Math.sin(r)}}},{key:"animateCells",value:function(e,t){var n=this,i=n.viewManager,r=500,o=void 0,a=void 0;i.animatingCells=!0,n.startedAnimation(),t=t||function(){i.animatingCells=!1,n.endedAnimation(!1,!0),n.drawVisitedBorders()},e&&(r=0),a={time:0},o={time:1},void 0!==i.tweenCells&&y.remove(i.tweenCells),i.tweenCells=new y.Tween(a),i.tweenCells.to(o,r),i.tweenCells.easing(y.Easing.Cubic.Out),i.tweenCells.on("update",function(e){var t=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=n.viewManager.getMeshes(),l=void 0,u=void 0;for(i=s.length,t=0;t<i;t+=1)a=s[t],r=a.userData.animation.startX+(a.userData.animation.endX-a.userData.animation.startX)*e.time,o=a.userData.animation.startY+(a.userData.animation.endY-a.userData.animation.startY)*e.time,a.userData.animation.startScale,a.userData.animation.endScale,a.userData.animation.startScale,e.time,l=a.userData.animation.startScaleX+(a.userData.animation.endScaleX-a.userData.animation.startScaleX)*e.time,u=a.userData.animation.startScaleY+(a.userData.animation.endScaleY-a.userData.animation.startScaleY)*e.time,r===r&&(a.position.x=r),o===o&&(a.position.y=o),l===l&&u===u&&(a.scale.x=l,a.scale.y=u),1!=a.userData.duplicate?a.update(!0,!1):a.update(!0,2)}),i.tweenCells.on("complete",t),i.tweenCells.start()}},{key:"deleteOldDuplicates",value:function(){var e=this,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;for(n=e.viewManager.duplicates,o=n.length,i=0;i<o;i+=1)if(t=n[i],!0===t.trash)for(t.parent.removeChild(t),n.splice(i,1),i-=1,o-=1,l=t.originalSprite,s=l.duplicates,a=s.length,r=0;r<a;r+=1)if(s[r]===t){s.splice(r,1),0===s.length&&delete l.duplicates;break}}},{key:"showAllMeshes",value:function(e){var t=this,n=void 0,i=void 0,r=void 0,o=t.viewManager.getMeshes();for(i=o.length,n=0;n<i;n+=1)r=o[n],e&&r.loader}},{key:"clampCameraToWorkspace",value:function(e){var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=this.viewManager.camera;if(t=i=-this.viewManager.stageViewport.left,n=r=-this.viewManager.stageViewport.top,o=1-1/this.viewManager.camera.zoom,a=this.viewManager.stageViewport.fullWidth/2,s=this.viewManager.stageViewport.fullHeight/2,this.selectedMesh){var u=this.viewManager.items.filter(function(e){return!0===e.visible});u.length>=1&&(o+=u[0].scale.x/this.viewManager.stageViewport.fullWidth*2,t-=u[0].scale.x,i+=u[0].scale.x)}t-=o*a,i+=o*a,n-=o*s,r+=o*s,t+=this.viewManager.stageViewport.left*o,n+=this.viewManager.stageViewport.top*o;var c=this.viewManager.panning?1:this.viewManager.panMomentum;t-=a/l.zoom*(c/4),i+=a/l.zoom*(c/4),n-=s/l.zoom*(c/4),r+=s/l.zoom*(c/4),l.position.x=l.position.x<t?t:l.position.x,l.position.x=l.position.x>i?i:l.position.x,l.position.y=l.position.y<n?n:l.position.y,l.position.y=l.position.y>r?r:l.position.y,e&&l.updateProjectionMatrix()}},{key:"clampCameraToSingleTile",value:function(e){var t=void 0,n=void 0,i=void 0,r=void 0,o=this.viewManager.camera,a=this.pointSingleMesh;if(null!==a){var s=void 0,l=void 0;s=o.right,l=o.bottom,t=i=a.position.x-s/2,n=r=a.position.y-l/2;var u=void 0,c=void 0;u=a.scale.x,c=a.scale.y;var d=1-1/o.zoom;d=d<0?0:d,t-=u/2*d,i+=u/2*d,n-=c/2*d,r+=c/2*d,o.position.x=o.position.x<t?t:o.position.x,o.position.y=o.position.y<n?n:o.position.y,o.position.x=o.position.x>i?i:o.position.x,o.position.y=o.position.y>r?r:o.position.y,e&&o.updateProjectionMatrix()}}},{key:"clampCamera",value:function(e){switch(this.cameraMode){case"single_tile":this.clampCameraToSingleTile(!0);break;default:this.clampCameraToWorkspace(!0)}}},{key:"zoomEasing",value:function(e,t,n){var i=Math.abs(t-n),r=function(e){return 1/e},o=Math.abs(r(t)-r(n)),a=1/o,s=(r(e),n>t);return t==n?t:s?t+(r(n-e*i)-r(n))*a*i:n+(r(t-(1-e)*i)-r(t))*a*i}},{key:"animateSceneContainer",value:function(e,t,n,i){var r=this,o=r.viewManager,a=r.animationDuration,s=0,l={x:r.viewManager.camera.position.x,y:r.viewManager.camera.position.y},c={x:t.x-r.viewManager.camera.right/2,y:t.y-r.viewManager.camera.bottom/2},d=r.viewManager.camera.zoom;void 0!==o.tween&&y.remove(o.tween),o.tween&&o.tween.stop();var h={zoom:o.camera.zoom,time:0,x:t.x,y:t.y,px:l.x,py:l.y},p={zoom:e,time:1,x:t.x,y:t.y,px:c.x,py:c.y};o.tween=new y.Tween(h),o.tween.on("update",function(e){e.zoom,o.camera.zoom,o.camera.position.x=e.px,o.camera.position.y=e.py,o.camera.zoom=null==p.zoom?o.camera.zoom:r.zoomEasing(e.time,d,p.zoom),o.camera.updateProjectionMatrix(),r.viewManager.animating=!0,r.viewManager.projectionNeedsUpdate=!0,o.scaling=!1,r.clampCamera(!0),u.Events.emitEvent("view.scale.updated",[o.camera.zoom]),s=e.time}),o.tween.to(p,a),o.tween.easing(y.Easing.Quartic.Out),o.tween.on("complete",function(){o.scaling=!1,o.mousedown=!1,o.panning=!1,r.viewManager.projectionNeedsUpdate=!0,r.endedAnimation(n)}),o.tween.start(),o.scaling=!0}},{key:"resetState",value:function(){this.selectedPicture=null,u.Events.emitEvent("view.reset")}},{key:"setTexture",value:function(e,t,n,i){var r=this,o={};if(void 0!==r.tileManager){if(r.tileManager.dataDriven)for(var a=0;a<e.length;a++)o[e[a].datastoreIndex]=r.datastore.getItemById(e[a].name);r.tileManager.setTexture(e,t,n,i,o)}else r.createAndApplyTexture(mesh,t,n)}},{key:"isAnimating",value:function(){var e=this,t=void 0;return t=e.viewManager,!!(t.scaling||t.panning||t.animatingCells||t.pinching||t.drawing)}},{key:"startedAnimation",value:function(){var e=this;e.viewManager.animating||e.viewManager.startAnimations(),e.showAllMeshes(!0)}},{key:"endedAnimation",value:function(e,t){var n=this;n.viewManager.animatingCells||(n.viewManager.animating=!1),e||(n.updateTextures(),n.updateLayers()),t||(n.viewManager.projectionNeedsUpdate=!0)}},{key:"updateTextures",value:function(e){var t,n=this.viewManager.currentView,i=void 0,r=void 0,o=void 0;if(!n.isAnimating()&&(n.viewManager.scene,r=n.viewManager.camera.zoom,i=n.getViewportOffset(),void 0!==e&&null!==e||(e=n.viewManager.getMeshes()),0!=(o=this.getMeshesInViewport(e)))){this.sortSpritesByCenterProximity(o,i);var t={width:n.picSize.width,height:n.picSize.height};n.setTexture(o,t,r,i)}}},{key:"reduceMeshesToOriginals",value:function(e){var t=[],n=[];t=e.filter(function(e){return!e.userData.duplicate}),n=e.filter(function(e){return e.userData.duplicate});for(var i=0;i<n.length;i++){for(var r=!1,o=0;o<t.length;o++)t[o].datastoreIndex==n[i].datastoreIndex&&(r=!0);r||t.unshift(n[i].userData.duplicateParent)}return t}},{key:"updateLayers",value:function(){var e=this;e.positionMeshToView(e.viewManager.layers.names.mesh),e.positionMeshToView(e.viewManager.layers.selection.mesh),e.viewManager.namesVisibility?(e.drawNames(),e.viewManager.groups.names.visible=!0):(e.viewManager.drawingManager.clearLayer("internal.view.names"),e.viewManager.groups.names.visible=!1)}},{key:"drawNames",value:function(){var e=this,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,p=void 0,f=void 0,m=0,g=0,v=0;e.viewManager.coreNode.getProbe("draw names").start(),h=e.viewManager.layers.names,t=e.viewManager.groups.names.children[0].position.x,n=e.viewManager.groups.names.children[0].position.y,i=e.viewManager.stageViewport.fullWidth/e.viewManager.camera.zoom,r=e.viewManager.stageViewport.fullHeight/e.viewManager.camera.zoom+e.viewManager.stageViewport.padding,g=e.viewManager.effectiveWidth/3,v=e.viewManager.effectiveHeight/3,e.viewManager.drawingManager.clearLayer(e.viewManager.layers.names),p=e.viewManager.camera.zoom/(13/e.viewManager.effectiveWidth),f=1.2*p,o={font:f+"px Arial",strokeStyle:d.Config.properties().colors.labelBorder,textAlign:"center",textBaseline:"bottom",stroke:!0,lineWidth:.03*f},a={font:f+"px Arial",fillStyle:d.Config.properties().colors.primaryDark,textBaseline:"bottom",textAlign:"center"},s={font:f+"px Arial",fillStyle:"#66aa00",textBaseline:"bottom",textAlign:"center"},l=function(e,o){return e>t-i/2-g&&e<t+i/2+g&&o>n-r/2-v&&o<n+r/2+v},u=function(t,n){return t.scale.x*n>e.namesMinSize&&t.scale.x*n<e.viewManager.stageViewport.fullWidth/2};for(var y=0;y<e.viewManager.items.length;y++)if(c=e.viewManager.items[y],l(c.position.x,c.position.y)&&u(c,e.viewManager.camera.zoom)){var _=void 0,b=void 0,w=e.datastore.getItemById(c.name),M=null!=w.name?w.name.toString():w.id.toString();if(m++,_=e.viewManager.stageViewport.fullWidth/2+(c.position.x-t)*e.viewManager.camera.zoom,b=e.viewManager.stageViewport.fullHeight/2+(c.position.y-n)*e.viewManager.camera.zoom*(window.innerHeight/e.viewManager.stageViewport.fullHeight)+(window.innerHeight-e.viewManager.stageViewport.fullHeight-e.viewManager.toolbar.offsetHeight)/2,e.viewManager.drawingManager.drawMultiText(h,_,b,M,e.viewManager.effectiveWidth*e.viewManager.camera.zoom/1.22,e.viewManager.effectiveHeight*e.viewManager.camera.zoom/2.3,c.userData.duplicate?s:a),e.viewManager.drawingManager.drawMultiText(h,_,b,M,e.viewManager.effectiveWidth*e.viewManager.camera.zoom/1.22,e.viewManager.effectiveHeight*e.viewManager.camera.zoom/2.3,o),m>(e.viewManager.graphicsSettings.uiEnhancedRendering?300:100))break}e.viewManager.projectionNeedsUpdate=!0,e.viewManager.coreNode.getProbe("draw names").stop()}},{key:"positionMeshToView",value:function(e,t){var n=this,i=(new g.Box3).setFromObject(e),r=i.getSize().x/e.scale.x/(1/n.getInternalScale()),o=i.getSize().y/e.scale.y/(1/n.getInternalScale());if(t)return e.position.x=-n.viewManager.stageViewport.left+n.viewManager.viewCanvas.width/2/n.getInternalScale(),e.position.y=-n.viewManager.stageViewport.top+n.viewManager.viewCanvas.height/2/n.getInternalScale(),e.scale.x=n.viewManager.viewCanvas.width/r,void(e.scale.y=n.viewManager.viewCanvas.height/o);e.position.x=this.viewManager.camera.position.x+this.viewManager.camera.right/2,e.position.y=this.viewManager.camera.position.y+this.viewManager.camera.bottom/2,e.scale.x=this.viewManager.camera.right/this.viewManager.camera.zoom/r*n.getInternalScale(),e.scale.y=this.viewManager.camera.bottom/this.viewManager.camera.zoom/o*n.getInternalScale()}},{key:"getMeshesInViewport",value:function(e){var t=this,n=t.viewManager.camera,i=new g.Frustum,r=new g.Matrix4,o=n.clone();if(void 0===e||0==e.length)return[];var a=n.left>n.bottom,s=a?e[0].scale.x*n.zoom/window.innerWidth:e[0].scale.y*n.zoom/window.innerHeight,l=Math.ceil(s);if(o.zoom*=.9-(l>5?.5:l/10),o.updateProjectionMatrix(),r.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),i.setFromMatrix(r),l>1){var u=a?n.right-n.left:n.bottom-n.top,c=u/n.zoom*l,d=n.position.x+n.right/2,h=n.position.y+n.bottom/2;e=e.filter(function(e){if(0!==e.userData.cellSize.width&&0!==e.userData.cellSize.height)return e.position.x<d-c||e.position.x>d+c||e.position.y<h-c||e.position.y>h+c?void 0:e}),e=e.filter(function(e){for(var t=e.scale.x,n=(e.scale.y,e.position.x-e.scale.x/2),r=e.position.y-e.scale.y/2,o=t/l,a=0;a<l;a++)for(var s=0;s<l;s++)if(i.containsPoint(new g.Vector3(n+o*a,r+o*s,e.position.z)))return e})}else e=e.filter(function(e){return i.containsPoint(new g.Vector3(e.position.x,e.position.y,e.position.z))});return e}},{key:"_getMeshesInArea",value:function(e,t,n,i){var r=this,o=r.viewManager.camera;e===t&&(e+=1),n===i&&(n+=1);var a=new g.Matrix4;a.makeOrthographic(e,t,n,i,o.near,o.far),o.updateMatrixWorld(),o.matrixWorldInverse.getInverse(o.matrixWorld);var s=new g.Matrix4;s.multiplyMatrices(a,o.matrixWorldInverse);var l=new g.Frustum;return l.setFromMatrix(s),r.viewManager.getMeshes().filter(function(e){return e.visible&&l.containsPoint(e.position)})}},{key:"getMeshesInArea",value:function(e,t,n,i){var r=this,o=r.viewManager.getMeshes();if(e>t){var a=e;e=t,t=a}if(n>i){var a=n;n=i,i=a}return o.filter(function(r){return r.visible&&r.position.x>=e&&r.position.x<=t&&r.position.y>=n&&r.position.y<=i})}},{key:"positionMeshToSelectedImage",value:function(e){var t=this,n=t.boundingBoxFromPlane(e);n.max.x,n.min.x,n.max.y,n.min.y,null!==t.selectedMesh&&(e.position.x=t.selectedMesh.position.x,e.position.y=t.selectedMesh.position.y,e.scale.x=t.selectedMesh.scale.x*t.selectedMesh.geometry.parameters.width,e.scale.y=t.selectedMesh.scale.y)}},{key:"sortSpritesByCenterProximity",value:function(e,t){var n=t.x+t.width/2,i=t.y+t.height/2;e.sort(function(e,t){var r=n-e.position.x,o=i-e.position.y,a=n-t.position.x,s=i-t.position.y;return r*r+o*o<a*a+s*s?-1:r*r+o*o>a*a+s*s?1:0})}},{key:"getViewportOffset",value:function(){var e=this;return e.viewManager.camera,e.viewManager.stageViewport,e.viewManager.camera.zoom,{x:this.viewManager.camera.position.x+this.viewManager.camera.right/2-this.viewManager.camera.right/2/this.viewManager.camera.zoom,y:this.viewManager.camera.position.y+this.viewManager.camera.bottom/2-this.viewManager.camera.bottom/2/this.viewManager.camera.zoom,width:this.viewManager.camera.right/this.viewManager.camera.zoom,height:this.viewManager.camera.bottom/this.viewManager.camera.zoom}}},{key:"createAndApplyTexture",value:function(e,t,n){var i=this,r=void 0;r=i.createTexture(e.id,t,n),i.applyTexture(e,r,t),u.Events.emitEvent("view.texture.ready",[e])}},{key:"applyTexture",value:function(e,t,n){e.setTexture(t),e.width>e.height?(e.width=n.width,e.scale.y=e.scale.x):(e.height=n.height,e.scale.x=e.scale.y)}},{key:"removeEvent",value:function(e){u.Events.removeEvent(e)}},{key:"resetSceneContainer",value:function(e){var t=this,n=void 0;n={x:t.viewManager.camera.position.x+t.viewManager.camera.right/2,y:t.viewManager.camera.position.y+t.viewManager.camera.bottom/2},t.animateSceneContainer(1,n,e)}},{key:"toggleGroupVisibility",value:function(e){for(var t=this,n=0;n<t.viewManager.groups.groupBy.children.length;n++)t.viewManager.groups.groupBy.children[n].userData.binIndex!==e?(t.viewManager.groups.groupBy.children[n].material.opacity=.5,t.viewManager.groups.groupBy.children[n].material.transparent=!0,t.viewManager.groups.groupBy.children[n].position.z=1.05):(t.viewManager.groups.groupBy.children[n].position.z=-1.05,t.viewManager.groups.groupBy.children[n].material.opacity=1,t.viewManager.groups.groupBy.children[n].material=t.viewManager.groups.groupBy.children[n].userData.referenceMaterial)}},{key:"getHitGroup",value:function(e,t){var n=this,i={},r=void 0;i=n.viewManager.groups.groupBy.children;for(var o=0;o<i.length;o++)if(r=i[o],n.advancedHitTest(r,t))return r}},{key:"advancedHitTest",value:function(e,t){var n=void 0,i=void 0,r=void 0;n=function(e,t,n,i,r,o,a,s){var l=[a-n,s-i],u=[r-n,o-i],c=[e-n,t-i],d=l[0]*l[0]+l[1]*l[1],h=l[0]*u[0]+l[1]*u[1],p=l[0]*c[0]+l[1]*c[1],f=u[0]*u[0]+u[1]*u[1],m=u[0]*c[0]+u[1]*c[1],g=1/(d*f-h*h),v=(f*p-h*m)*g,y=(d*m-h*p)*g;return v>=0&&y>=0&&v+y<1},r=e.geometry.vertices;for(var o=0;o<e.geometry.faces.length;o++)if(i=e.geometry.faces[o],n(t.x,t.y,r[i.a].x,r[i.a].y,r[i.b].x,r[i.b].y,r[i.c].x,r[i.c].y))return!0;return!1}},{key:"getMeshRelativeMousePosition",value:function(e,t){var n=this,i=void 0,r=void 0,o=void 0,a=void 0,s={x:0,y:0},l=void 0;return t?(i=t.position.x-.5*t.scale.x,r=t.position.y-.5*t.scale.y,o=t.position.x+.5*t.scale.x,a=t.position.y+.5*t.scale.y,l=n.getLocalPosition3D({x:!0!==e.mobileEvent?e.clientX:e.x,y:!0!==e.mobileEvent?e.clientY:e.y}),s.x=(l.x-i)/(o-i),s.y=(l.y-r)/(a-r),s):s}},{key:"getHitMesh",value:function(e,t){var n=this,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(n.viewManager,n.viewManager.groups.optimisedMeshes.visible)for("undefined"!==e.clientX&&"undefined"!==e.clientY&&(o=n.getLocalPosition3D({x:!0!==e.mobileEvent?e.clientX:e.x,y:!0!==e.mobileEvent?e.clientY:e.y})),s=n.viewManager.getMeshes(),r=s.length,i=0;i<r;i++)if(a=s[i],n.meshHitTest(a,o,t))return a}},{key:"meshHitTest",value:function(e,t,n){var i=void 0,r=this;return i={min:{x:e.position.x-e.geometry.parameters.width*e.scale.x/2,y:e.position.y-e.geometry.parameters.height*e.scale.y/2},max:{x:e.position.x+e.geometry.parameters.width*e.scale.x/2,y:e.position.y+e.geometry.parameters.height*e.scale.y/2}},n&&(i={min:{x:e.position.x-r.viewManager.effectiveWidth/2,y:e.position.y-r.viewManager.effectiveHeight/2},max:{x:e.position.x+r.viewManager.effectiveWidth/2,y:e.position.y+r.viewManager.effectiveHeight/2}}),t.x>=i.min.x&&t.y>=i.min.y&&t.x<=i.max.x&&t.y<=i.max.y}},{key:"boundingBoxFromPlane",value:function(e,t){return t?{min:{x:e.userData.animation.endX-e.geometry.parameters.width*e.userData.animation.endScaleX/2,y:e.userData.animation.endY-e.geometry.parameters.height*e.userData.animation.endScaleY/2},max:{x:e.userData.animation.endX+e.geometry.parameters.width*e.userData.animation.endScaleX/2,y:e.userData.animation.endY+e.geometry.parameters.height*e.userData.animation.endScaleY/2}}:{min:{x:e.position.x-e.geometry.parameters.width*e.scale.x/2,y:e.position.y-e.geometry.parameters.height*e.scale.y/2},max:{x:e.position.x+e.geometry.parameters.width*e.scale.x/2,y:e.position.y+e.geometry.parameters.height*e.scale.y/2}}}},{key:"mousedownSceneHandler",value:function(e){var t=this,n=t.viewManager;n.mousedown=!0,n.panMomentum=0,n.scrollMomentum=0,t.clampCamera(!0),t.startedAnimation(),n.mousedownPosition=t.getLocalPosition3D({x:!0!==e.mobileEvent?e.clientX:e.x,y:!0!==e.mobileEvent?e.clientY:e.y}),t.viewManager.mousePositionLast=n.mousedownPosition}},{key:"getInternalScale",value:function(){return this.viewManager.renderer.getPixelRatio()}},{key:"getLocalPosition3D",value:function(e){var t=this,n=new g.Vector3,i=t.viewManager.viewCanvas.width,r=t.viewManager.viewCanvas.height,o=t.viewManager.viewCanvas.offsetTop*t.getInternalScale(),a=t.viewManager.viewCanvas.offsetLeft*t.getInternalScale();t.viewManager.camera.updateProjectionMatrix();var s=void 0,l=void 0;return s=e.x*t.getInternalScale(),l=e.y*t.getInternalScale(),n.set((s-a)/i*2-1,-(l-o)/r*2+1,-1),n.unproject(t.viewManager.camera),n}},{key:"getRelativePosition3D",value:function(e){var t=this,n=new g.Vector3,i=t.viewManager.camera,r=t.viewManager.viewCanvas.width,o=t.viewManager.viewCanvas.height,a=t.viewManager.viewCanvas.offsetTop*t.getInternalScale(),s=t.viewManager.viewCanvas.offsetLeft*t.getInternalScale();i.updateProjectionMatrix();var l=new g.Vector2,u=void 0,c=void 0;return u=e.x*t.getInternalScale(),c=e.y*t.getInternalScale(),l.set((u-s)/r*2-1,-(c-a)/o*2+1),n.set(l.x,l.y,(i.near+i.far)/(i.near-i.far)),n.unproject(i),n}},{key:"worldToScreenXY",value:function(e){var t=this,n=new g.Vector3(e.x,e.y,e.z),i=t.viewManager.viewCanvas.width,r=t.viewManager.viewCanvas.height,o=(t.viewManager.viewCanvas.offsetTop,t.viewManager.viewCanvas.offsetLeft,.5*i*t.getInternalScale()),a=.5*r*t.getInternalScale();return n.project(t.viewManager.camera),n.x=n.x*o+o,n.y=-n.y*a+a,n.z=0,n}},{key:"dynamicScrollToPoint",value:function(e,t,n,i){var r=this,o=Math.abs(e-1),a=e<1?-1:1,s={x:t,y:n},l=0,c=0,d=0,h=0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,y=void 0;void 0!==r.scope&&(r=this.scope),c=a>0?1+o:1/(1+o),l=i.zoom*c,l=l<1?1:l,l=l>r.maxScale?r.maxScale:l,v=i.zoom/l,l!=r.maxScale&&(d=i.right/2/i.zoom,h=i.bottom/2/i.zoom,p=i.position.x+i.right/2-d,f=i.position.y+i.bottom/2-h,m=s.x-p-d,g=s.y-f-h,m*=v,g*=v,m*=o,g*=o,y={position:{x:i.position.x+m*a,y:i.position.y+g*a},scale:l},i.zoom=l,i.position.x=y.position.x,i.position.y=y.position.y,r.clampCamera(!0),u.Events.emitEvent("view.scale.updated",[l]))}},{key:"mousewheelSceneHandler",value:function(e,t,n){var i=this,r=void i.viewManager;i.isAnimating()||(i.startedAnimation(),i.viewManager.animating=!1,r=i.getLocalPosition3D({x:t,y:n}),i.viewManager.scrollMomentum=.09,i.viewManager.scrollInfo={x:r.x,y:r.y,delta:e,handler:i.dynamicScrollToPoint,camera:i.viewManager.camera,scope:i},1==i.viewManager.graphicsSettings.uiEnhancedResponsiveness&&i.viewManager.namesVisibility&&(i.positionMeshToView(i.viewManager.layers.names.mesh),i.drawNames()))}},{key:"stageScaleHandler",value:function(e){var t=this,n=t.viewManager;t.viewManager.stageViewport.width,t.viewManager.stageViewport.left,t.viewManager.stageViewport.height,t.viewManager.stageViewport.top,n.camera.zoom=e,t.clampCamera(!0),t.onScaleChange(e),u.Events.emitEvent("view.scale.updated",[e])}},{key:"touchendSceneHandler",value:function(e){var t=this,n=t.viewManager;e.changedTouches&&e.changedTouches.length&&(e.x=e.changedTouches[0].clientX,e.y=e.changedTouches[0].clientY),void 0!==t.scene&&(n.mousedown&&(!0===n.panning?(n.panning=!1,n.panMomentum=1,t.endedAnimation(!0,!0)):(n.touchCenter&&!e.layerX&&(e.layerX=n.touchCenter.x,e.layerY=n.touchCenter.y),e.mobileEvent=!0,!0!==n.pinching&&t.checkClick(e)),n.mousedown=!1),1==n.pinching&&(n.pinching=!1,t.endedAnimation(!1,!1)))}},{key:"touchmoveSceneHandler",value:function(e){var t=this,n=t.viewManager,i=void 0;if(n.pinching){i=e.touches;var r={x:i[0].clientX-i[1].clientX,y:i[0].clientY-i[1].clientY},o=Math.sqrt(r.x*r.x+r.y*r.y);if(o!==n.touchDistance){var a=n.pinchingInitScale*o/n.touchDistance,s=t.getLocalPosition3D({x:n.touchCenter.x,y:n.touchCenter.y});t.dynamicScrollToPoint(a/n.camera.zoom,s.x,s.y,n.camera),t.onScaleChange(s.scale)}}else void 0===e.layerX&&(e.layerX=e.touches[0].clientX,e.layerY=e.touches[0].clientY,e.x=e.layerX,e.y=e.layerY),e.changedTouches&&e.changedTouches.length&&(e.x=e.changedTouches[0].clientX,e.y=e.changedTouches[0].clientY),e.mobileEvent=!0,t.mousemoveSceneHandler(e)}},{key:"touchstartSceneHandler",value:function(e){var t=this,n=t.viewManager,i=void 0;t.isLongTouch=!1,i=e.touches,void 0!==i&&i.length>1&&!1===n.pinching?(n.pinching=!0,t.startedAnimation(),n.touchDifference={x:i[1].clientX-i[0].clientX,y:i[1].clientY-i[0].clientY},n.touchCenter={x:(i[1].clientX+i[0].clientX)/2,y:(i[1].clientY+i[0].clientY)/2-t.viewManager.header.offsetHeight},n.touchDistance=Math.sqrt(n.touchDifference.x*n.touchDifference.x+n.touchDifference.y*n.touchDifference.y),n.pinchingInitScale=n.camera.zoom):(void 0===e.layerX&&(e.layerX=e.touches[0].clientX,e.layerY=e.touches[0].clientY,e.x=e.layerX,e.y=e.layerY),e.changedTouches&&e.changedTouches.length&&(e.x=e.changedTouches[0].clientX,e.y=e.changedTouches[0].clientY),i.length>0&&(n.touchCenter={x:i[0].clientX,y:i[0].clientY-t.viewManager.header.offsetHeight}),e.mobileEvent=!0,t.touchstartTimer=(new Date).getTime(),t.mousedownSceneHandler(e))}},{key:"mouseupSceneHandler",value:function(e){var t=this,n=void 0;void 0!==t.viewManager.scene&&(n=t.viewManager,n.mousedown&&(1==n.panning?(n.panMomentum=1,n.panning=!1):t.checkClick(e),n.mousedown=!1))}},{key:"mousemoveSceneHandler",value:function(e){var t=this,n=t.viewManager,i=void 0,r=void 0,o=void 0,a={};if(t.viewManager.stageViewport,a=t.viewManager.mousePositionLast,i=t.getLocalPosition3D({x:!0!==e.mobileEvent?e.clientX:e.x,y:!0!==e.mobileEvent?e.clientY:e.y}),n.mousedown&&!n.panning&&(r=Math.abs(a.x-i.x),o=Math.abs(a.y-i.y),r+o>7/t.viewManager.camera.zoom*t.fingerFudginess&&(n.startPanning={cameraX:t.viewManager.camera.position.x,cameraY:t.viewManager.camera.position.y,clientX:i.x,clientY:i.y},n.panning=!0)),n.panning&&(1==t.viewManager.graphicsSettings.uiEnhancedResponsiveness&&t.viewManager.namesVisibility&&(t.positionMeshToView(t.viewManager.layers.names.mesh),t.drawNames()),n.scaling&&(y.remove(n.tween),n.scaling=!1),r=a.x-i.x,o=a.y-i.y,n.panInfo={xDelta:r,yDelta:o,clamp:t.clampCamera},t.viewManager.camera.position.x+=r/2,t.viewManager.camera.position.y+=o/2,t.clampCamera(!0)),n.groups.meshes.visible){var s=t.getHitMesh(e,!1);void 0!==s?(t.planeMouseOver=!0,u.Events.emitEvent("plane.mouseover",[{plane:s,self:t}])):!0===t.planeMouseOver&&(t.planeMouseOver=!1,u.Events.emitEvent("plane.mouseout",[{self:t}]))}else!0===t.planeMouseOver&&(t.planeMouseOver=!1,u.Events.emitEvent("plane.mouseout",[{self:t}]))}},{key:"renderDebugOverlayMesh",value:function(e){var t=this,n=t.viewManager.drawingManager,i=t.debugOverlayLayer,r={textBaseline:"top",textAlign:"left",font:"11px sans-serif"},o={textBaseline:"top",textAlign:"left",font:"14px sans-serif"},a={textBaseline:"top",textAlign:"left",font:"11px sans-serif",fillStyle:"#a00"},s={fillStyle:"#fff",globalAlpha:.5};n.clearLayer(i),n.drawRect(i,0,0,256,256,{fillStyle:"#000",globalAlpha:1});var l=!1;try{n.drawImage(i,0,0,256,256,e.plane.mesh.material.uniforms.map.value.image,{globalAlpha:.7}),n.drawText(i,128,80,"Atlas",{textAlign:"center",fillStyle:"#fff",font:"14px sans-serif"})}catch(t){try{n.drawImage(i,0,0,256,256,e.plane.mesh.material.map.image,{globalAlpha:.7}),n.drawText(i,128,80,"Single/Composed",{textAlign:"center",fillStyle:"#fff",font:"14px sans-serif"})}catch(e){l=!0}}if(l)try{n.drawImage(i,0,0,256,256,e.plane.refMesh.material.uniforms.map.value.image,{globalAlpha:.7}),n.drawText(i,128,80,"Reference Atlas",{textAlign:"center",fillStyle:"#fff",font:"14px sans-serif"}),n.drawText(i,128,95,"No Valid Current Mesh",{textAlign:"center",fillStyle:"#fff",font:"12px sans-serif"}),n.drawText(i,128,105,"Data below is inaccurate.",{textAlign:"center",fillStyle:"#fff",font:"11px sans-serif"})}catch(e){n.drawText(i,128,80,"Could not draw mapped texture.",{textAlign:"center",fillStyle:"#fff",font:"14px sans-serif"})}if(n.drawRect(i,0,0,256,32,s),n.drawRect(i,0,128,256,128,{fillStyle:e.plane.userData.duplicate?"#aaf":"#ffa",globalAlpha:.5}),n.drawText(i,4,2,"DSID: "+e.plane.datastoreIndex,r),n.drawText(i,4,17,"Name: "+e.plane.name,r),n.drawText(i,132,2,"State: "+(e.plane.userData.duplicate?"Duplicate":"Original"),r),n.drawText(i,4,130,"Texture Info",o),void 0!==e.plane.picInfo&&null!=e.plane.picInfo?n.drawText(i,4,145,"PicInfo: "+e.plane.picInfo.width+"x"+e.plane.picInfo.height+" (Native)",r):n.drawText(i,4,145,"No PicInfo!",a),void 0!==e.plane.mesh&&null!=e.plane.mesh?void 0!==e.plane.mesh.material&&null!=e.plane.mesh.material?n.drawText(i,4,155,"Mat: "+e.plane.mesh.material.uuid,r):n.drawText(i,4,155,"No Material!",a):n.drawText(i,4,155,"No Mesh!",a),void 0!==e.plane.mesh&&null!=e.plane.mesh)if(void 0!==e.plane.mesh.material&&null!=e.plane.mesh.material)if(void 0!==e.plane.mesh.material.uniforms&&null!=e.plane.mesh.material.uniforms){var u=e.plane.mesh.material.uniforms.map.value;try{n.drawText(i,4,165,"TexInfo: "+u.image.tagName.toString()+" "+u.image.width+"x"+u.image.height,r)}catch(e){n.drawText(i,4,165,"Uniform error "+e,r)}}else try{n.drawText(i,4,165,e.plane.mesh.material.type+" ("+e.plane.mesh.material.map.image.tagName+") "+e.plane.mesh.material.map.image.width+"x"+e.plane.mesh.material.map.image.height,a)}catch(t){n.drawText(i,4,165,e.plane.mesh.material.type+" no map.image",a)}else n.drawText(i,4,165,"No Material!",a);else n.drawText(i,4,165,"No Mesh!",a);void 0!==e.plane.mesh&&null!=e.plane.mesh?n.drawText(i,4,185,null!=e.plane.mesh.parent?"Attached to scene":"ORPHANED from scene",r):n.drawText(i,4,185,"No Mesh!",a);var c=0;try{c=e.plane.currentBuffers.position.count}catch(e){c="unknown"}n.drawText(i,4,195,"PlaneData: cindex-"+e.plane.currentIndex.toString()+", blength-"+c,r),n.drawText(i,4,205,"VerboseState: "+(e.plane._mismatchedDuplicate?"Mismatched Duplicate!":""),r)}},{key:"planeMouseOver",value:function(e){var t=e.self;document.body.style.cursor="pointer",t.highlightMesh.position.set(e.plane.position.x,e.plane.position.y,-2),t.highlightMesh.scale.set(1.1*e.plane.scale.x,1.1*e.plane.scale.y,1),d.Config.properties().debug&&(t.debugOverlayMesh.position.set(e.plane.position.x,e.plane.position.y,2),t.debugOverlayMesh.scale.set(e.plane.scale.x*t.viewManager.camera.zoom<300?300/t.viewManager.camera.zoom:e.plane.scale.x,e.plane.scale.y*t.viewManager.camera.zoom<300?300/t.viewManager.camera.zoom:e.plane.scale.y,1),t.renderDebugOverlayMesh(e)),t.viewManager.projectionNeedsUpdate=!0}},{key:"planeMouseOut",value:function(e){var t=void 0;t=void 0===e?this:e.self,void 0!==t.highlightMesh&&null!=t.highlightMesh&&(document.body.style.cursor="default",t.highlightMesh.position.set(-9999,-9999,-2),d.Config.properties().debug&&t.debugOverlayMesh.position.set(-9999,-9999,2),t.viewManager.projectionNeedsUpdate=!0)}},{key:"clickMeshHandler",value:function(e,t){var n=this;if(t.stopPropagation(),n.selectedMesh===e&&!n.isLongTouch)return void n.resetSceneContainer();n.selectMesh(e)}},{key:"selectMesh",value:function(e,t){var n=this,i=n.viewManager,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=0,h=0,p=void 0,f=void 0,m="innerWidth",g=void 0;if(e&&!n.isAnimating()&&(!1!==d.Config.properties().trackVisited&&void 0===e.visited&&(n.setMeshAsVisited(e),n.updateVisitedBorder()),n.selectedMesh=e,(screen.width>=n.mobileMinWidth||n.isLongTouch)&&u.Events.emitEvent("view.picture.selected",[e]),!n.isLongTouch)){f=n.viewManager.stageViewport,m=screen.width<n.mobileMinWidth&&!n.isLongTouch?"fullWidth":"innerWidth",p=n.boundingBoxFromPlane(e,!0),c=p.max.x-p.min.x,h=p.max.y-p.min.y,l=f[m]/c<f.innerHeight/h?"width":"height",i.camera.zoom,r="width"==l?c:h,g="width"===l?m:"innerHeight",s=.7*f[g],a=t?r:s/r,o={x:e.position.x,y:e.position.y},o.x+=n.viewManager.metadataPanel.offsetWidth/2/a,o.x-=n.viewManager.filterPanel.offsetWidth/2/a;for(var v=0;v<n.viewManager.groups.annotations.children.length;v++)n.positionMeshToSelectedImage(n.viewManager.groups.annotations.children[v]);n.animateSceneContainer(a,o,!1,!0)}}},{key:"toggleEvents",value:function(e){var t=this,n=void 0,i=void 0,r=void 0;if(void 0!==t.events)for(r=e?"on":"off",i=t.events.length,n=0;n<i;n+=1)u.Events[r](t.events[n].event,t.events[n].handler)}},{key:"addEvents",value:function(){var e=this;void 0===e.events&&(e.events=[{event:"scene.mousewheel",handler:e.mousewheelSceneHandler.bind(e)},{event:"scene.mousedown",handler:e.mousedownSceneHandler.bind(e)},{event:"scene.mouseup",handler:e.mouseupSceneHandler.bind(e)},{event:"scene.mouseout",handler:e.mouseupSceneHandler.bind(e)},{event:"scene.mousemove",handler:e.mousemoveSceneHandler.bind(e)},{event:"scene.touchstart",handler:e.touchstartSceneHandler.bind(e)},{event:"scene.touchend",handler:e.touchendSceneHandler.bind(e)},{event:"scene.touchendoutside",handler:e.touchendSceneHandler.bind(e)},{event:"scene.touchmove",handler:e.touchmoveSceneHandler.bind(e)},{event:"view.scale.change.start",handler:e.startedAnimation.bind(e)},{event:"view.scale.change",handler:e.stageScaleHandler.bind(e)},{event:"view.scale.change.end",handler:e.endedAnimation.bind(e)},{event:"view.picture.deselected",handler:e.resetSceneContainer.bind(e)}])}},{key:"onScaleChange",value:function(e){var t=this,n=void 0;t.viewManager.stage,""!==t.viewManager.groupBy&&(n=t.picSize.width*e>t.minCellShowDimension||t.picSize.height*e>t.minCellShowDimension,void 0!==t.groupsBackgrounds&&(t.groupsBackgrounds.visible=!n),void 0!==t.groupsBorders&&(t.groupsBorders.visible=n))}},{key:"getGrid",value:function(e,t,n,i,r){var o=this,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0;a={width:0,height:0,rows:0,columns:0},s=Math.sqrt(e*r*t/(n*i)),l=Math.floor(s),u=Math.ceil(s),c=i/r,d=Math.ceil(e/l),h=Math.ceil(e/u),p=n/d*r,f=t/u*i,m=f*i*(f*i/c),g=p*r*(p*r*c);var v=!1;if(m>=g){if(a.width=t/u,a.height=a.width/c,a.height*Math.ceil(e/u)>n){var y=n/h,_=y*c;if(v=!0,_*e<t){for(_=t/Math.ceil(s++),y=_/c,v=!1;_*e>t;)_=t/Math.ceil(s++),y=_/c;y>n&&(y=n,_=y*c,v=!0)}var b=Math.floor(t/_),w=Math.ceil(e/b);_*b<t&&y*Math.ceil(e/b)<n&&(_=t/b,y=a.width/c,v=!1,y*Math.ceil(e/b)>n&&(y=n/w,_=y*c,v=!0)),a.height=y,a.width=_}}else a.height=n/d,a.width=a.height*c,v=!0;return o.viewManager.effectiveWidth=a.width,o.viewManager.effectiveHeight=a.height,v?(a.columns=Math.floor(t/a.width),a.rows=Math.ceil(e/a.columns)):(a.rows=Math.floor(n/a.height),a.columns=Math.ceil(e/a.rows)),a}},{key:"addVisitedBorderToGroup",value:function(e){var t=this,n=t.groupGeometryFromMeshes(e),i=new g.MeshPhongMaterial({color:d.Config.properties().colors.primaryAlt}),r=new g.Mesh(n,i);r.position.z=-2.5,t.viewManager.groups.borders.add(r),t.viewManager.projectionNeedsUpdate=!0}},{key:"removeVisitedBorder",value:function(e){var t=this,n=void 0;if(t.viewManager.groups.borders.children.length>0){do{n=t.viewManager.groups.borders.children.length-1,c.Helpers.disposeMesh(t.viewManager.groups.borders.children[n])}while(t.viewManager.groups.borders.children.length>0);!0===e&&(t.viewManager.projectionNeedsUpdate=!0)}}},{key:"updateVisitedBorder",value:function(e){var t=this;t.removeVisitedBorder();var n=t.viewManager.visitedItems;t.addVisitedBorderToGroup(n)}},{key:"drawVisitedBorders",value:function(){var e=this,t=void 0;e.removeVisitedBorder(),t=e.viewManager.visitedItems,t.length>0&&e.addVisitedBorderToGroup(t)}},{key:"setMeshAsVisited",value:function(e){var t=this;e.visited=!0,t.viewManager.visitedItems.push(e)}},{key:"setMeshesAsVisited",value:function(e){for(var t=this,n=0;n<e.length;n++)void 0===e[n]||e[n].visited||t.setMeshAsVisited(e[n]);t.addVisitedBorderToGroup(e)}},{key:"setMeshAsUnvisited",value:function(e){var t=this;e.visited=!1;for(var n=t.viewManager.visitedItems.length;n>=0;n--)if(t.viewManager.visitedItems[n]===e){t.viewManager.visitedItems.splice(n,1);break}}},{key:"setMeshesAsUnvisited",value:function(e,t){for(var n=this,i=0;i<e.length;i++)n.setMeshAsUnvisited(e[i]);n.updateVisitedBorder()}},{key:"setMeshNotSelectedProperties",value:function(e){var t=this;if(void 0===e.userData.animation&&(e.userData.animation={}),e.visible=!1,e.userData.animation.startScale=1,e.userData.animation.startScaleX=1,e.userData.animation.startScaleY=1,e.userData.animation.startX=e.position.x,e.userData.animation.startY=e.position.y,"undefined"!=typeof destination&&null!==destination)e.userData.animation.endX=destination.endX,e.userData.animation.endY=destination.endY,e.userData.animation.endScale=destination.endScale,e.userData.animation.endScaleX=destination.endScaleX,e.userData.animation.endScaleY=destination.endScaleY;else{var n=t.getNotSelectedCoordinates(e,4,3);e.userData.animation.endX=n.x,e.userData.animation.endY=n.y}}},{key:"duplicateMesh",value:function(e){var t=this,n=void 0,i=void 0;n=t.viewManager.makePlane(e.currentIndex,e.name,null,null),n.name=e.name,n.index=e.name,n.userData={};for(i in e.userData)e.userData.hasOwnProperty(i)&&(n.userData[i]=e.userData[i]);if(n.position.x=e.position.x,n.position.y=e.position.y,n.position.z=e.position.z,n.scale.x=e.scale.x,n.scale.y=e.scale.y,n.scale.z=e.scale.z,n.viewManager=t.viewManager,void 0!==e.userData.animation){n.userData.animation={};for(i in e.userData.animation)e.userData.animation.hasOwnProperty(i)&&(n.userData.animation[i]=e.userData.animation[i])}return n.picInfo=e.picInfo,n.primaryIndex=e.primaryIndex,n.userData.duplicate=!0,n.userData.duplicateParent=e,n.parent=e,n.datastoreIndex=e.datastoreIndex,n.duplicateId=t.viewManager.duplicatesIdCounter,t.viewManager.duplicatesIdCounter++,t.viewManager.items.push(n),void 0===e.duplicates&&(e.duplicates=[]),n.uniquenessIndex=e.duplicates.length,e.duplicates.push(n),n.originalSprite=e,this.tileManager.getDefaultSetter()(n),n}},{key:"hasMeshChangedPosition",value:function(e){return e.userData.animation.startX!==e.userData.animation.endX||e.userData.animation.startY!==e.userData.animation.endY||e.userData.animation.startScaleX!==e.userData.animation.endScaleX||e.userData.animation.startScaleY!==e.userData.animation.endScaleY}},{key:"setMeshSizeAndScale",value:function(e,t){var n=void 0,i=void 0;e.picInfo?"number"==typeof e.picInfo.width?e.picInfo.width/t.width>e.picInfo.height/t.height?(n=t.width,i=e.picInfo.height*(t.width/e.picInfo.width),e.userData.animation.endScaleX=n/e.geometry.parameters.width,e.userData.animation.endScaleY=i/e.geometry.parameters.height):(n=e.picInfo.width*(t.height/e.picInfo.height),i=t.height,e.userData.animation.endScaleX=n/e.geometry.parameters.width,e.userData.animation.endScaleY=i/e.geometry.parameters.height):(n=t.width*(t.height/t.height),i=t.height,e.userData.animation.endScaleX=n/e.geometry.parameters.width,e.userData.animation.endScaleY=i/e.geometry.parameters.height):(e.userData.animation.endScaleX=t.width/e.geometry.parameters.width,e.userData.animation.endScaleY=t.height/e.geometry.parameters.height),e.userData.cellSize={width:t.width,height:t.height}}},{key:"setSpriteSizeAndScale",value:function(e,t){var n=this;e.texture.frame.width/n.viewManager.cellSize.width>e.texture.frame.height/n.viewManager.cellSize.height?e.animation.endScale=t.width/e.texture.frame.width:e.animation.endScale=t.height/e.texture.frame.height,e.cellSize={width:t.width,height:t.height},c.Helpers.checkSizeIntegrity(e.cellSize)}},{key:"createGroup",value:function(e,t,n,i,r,o){var a=this,s=void 0,l=void 0,u={},c=!1,d={},h={},p=void 0,f=void 0;for(p=e.length,l=0;l<p;l+=1)if(0===l&&(d.x=e[l].animation.endX-i.width/2,d.y=e[l].animation.endY-i.height/2,d.height=i.height),void 0===d.width)(l===p-1||e[l].animation.endX>=e[l+1].animation.endX)&&(d.width=e[l].animation.endX+i.width/2-d.x,f=a.createSprite(t,d),n.background.addChild(f),a.groupsBorder>0&&(f=a.createSprite(t,{x:d.x,y:d.y,height:d.height,width:r.width}),n.border.addChild(f),f=a.createSprite(t,{x:d.x+r.width,y:d.y,height:r.height,width:d.width-2*r.width}),n.border.addChild(f),f=a.createSprite(t,{x:d.x+d.width-r.width,y:d.y,height:d.height,width:r.width}),n.border.addChild(f),l===p-1&&(f=a.createSprite(t,{x:d.x+r.width,y:d.y+d.height-r.height,height:r.height,width:d.width-2*r.width}),n.border.addChild(f))));else{if(e[l].animation.endY===e[p-1].animation.endY){h.x=e[l].animation.endX-i.width/2,h.y=e[l].animation.endY-i.height/2,h.height=i.height,h.width=e[p-1].animation.endX+i.width/2-h.x,f=a.createSprite(t,h),n.background.addChild(f),a.groupsBorder>0&&(f=a.createSprite(t,{x:h.x,y:h.y,height:h.height,width:r.width}),n.border.addChild(f),f=a.createSprite(t,{x:h.x+r.width,y:h.y+h.height-r.height,height:r.height,width:h.width-2*r.width}),n.border.addChild(f),f=a.createSprite(t,{x:h.x+h.width-r.width,y:h.y,height:h.height,width:r.width}),n.border.addChild(f)),void 0===u.x&&(u=d,h.x+h.width<u.x&&(c=!0)),c?(s=a.createSprite(t,{x:h.x+h.width,y:h.y-o.height/2-r.height/2,height:r.height,width:u.x-(h.x+h.width)}),n.connection.addChild(s),f=a.createSprite(t,{x:s.x-r.width,y:s.y,height:h.y-s.y,width:r.width}),n.connection.addChild(f),f=a.createSprite(t,{x:s.x+s.width,y:d.y+d.height,height:h.y-s.y,width:r.width}),n.connection.addChild(f)):(s=a.createSprite(t,{x:u.x,y:h.y-o.height,height:o.height,width:a.getIntersectionWidth(u,h)}),n.background.addChild(s),a.groupsBorder>0&&(f=a.createSprite(t,{x:s.x,y:s.y,height:s.height,width:r.width}),n.border.addChild(f),f=a.createSprite(t,{x:s.x+s.width-r.width,y:s.y,height:s.height,width:r.width}),n.border.addChild(f))),a.groupsBorder>0&&(u.x<d.x&&(f=a.createSprite(t,{x:u.x+r.width,y:u.y,height:r.height,width:d.x-u.x}),n.border.addChild(f)),u.x+u.width>d.x+d.width&&(f=a.createSprite(t,{x:d.x+d.width-r.width,y:u.y,height:r.height,width:u.x+u.width-(d.x+d.width)}),n.border.addChild(f)),u.x+u.width>h.x+h.width&&(f=a.createSprite(t,{x:h.x+h.width-r.width,y:u.y+u.height-r.height,height:r.height,width:u.x+u.width-(h.x+h.width)}),c&&(f.width=d.width-2*r.width,f.x=d.x+r.width),n.border.addChild(f)),u.x+u.width<h.x+h.width&&(f=a.createSprite(t,{x:u.x+u.width-r.width,y:h.y,height:r.height,width:h.x+h.width-(u.x+u.width)}),n.border.addChild(f)),h.x<u.x&&(f=a.createSprite(t,{x:h.x+r.width,y:h.y,height:r.height,width:u.x-h.x}),c&&(f.width=h.width-2*r.width),n.border.addChild(f)));break}void 0===u.x&&e[l].animation.endY!==e[p-1].animation.endY?(u.x=e[l].animation.endX-i.width/2,u.y=e[l].animation.endY-i.height/2):e[l+1].animation.endY===e[p-1].animation.endY&&(u.width=e[l].animation.endX+i.width/2-u.x,u.height=e[l].animation.endY+i.height/2-u.y,f=a.createSprite(t,u),n.background.addChild(f),a.groupsBorder>0&&(f=a.createSprite(t,{x:u.x,y:u.y,height:u.height,width:r.width}),n.border.addChild(f),f=a.createSprite(t,{x:u.x+u.width-r.width,y:u.y,height:u.height,width:r.width}),n.border.addChild(f)),s=a.createSprite(t,{x:d.x,y:d.y+d.height,height:o.height,width:a.getIntersectionWidth(d,u)}),n.background.addChild(s),a.groupsBorder>0&&(f=a.createSprite(t,{x:s.x,y:s.y,height:s.height,width:r.width}),n.border.addChild(f),f=a.createSprite(t,{x:s.x+s.width-r.width,y:s.y,height:s.height,width:r.width}),n.border.addChild(f)))}}},{key:"getFacetGroups",value:function(e,t){var n=this,i=void 0,r=void 0,o=void 0,a=void 0,s=!1,u=void 0,c=void 0,d=[],h=void 0,p=void 0,f=[],m={},g=!1,v=void 0,y=void 0,_=void 0,b=void 0,w=0,M=void 0,x=void 0;if(a=n.datastore.getTable(),u=n.datastore.getFacetTypeByName(t),n.datastore.isCategoryActive(t)&&(s=!0,h=n.datastore.getFilterCategoryType(t)),"numeric"===u&&(g=!0),void 0!==e){for(_=e.length,v=0;v<_;v+=1)for(M=e[v],x=l.default.getIndexById(M.name),c=a[t].get(x),i=Array.isArray(c)?c:[c],b=i.length,y=0;y<b;y+=1)o=i[y],s&&(r="scatter"===h?l.default.getIndexById(M.name):o),s&&!n.datastore.isInFilter(t,r)||(p=m[o],void 0===p&&(f.push({value:o,meshes:[]}),m[o]=w,p=w,w+=1,g?d.push(o):d.push(p)),f[p].meshes.push(M));return f.sort(n.datastore.sortFunctionGenerator([function(e){return e.value}])),{groups:f,facetValues:d}}}},{key:"purgeDuplicates",value:function(){for(var e=this,t=[],n=e.viewManager.items,i=0;i<n.length;i++)n[i].userData.duplicate&&(t.push(n.splice(i,1)[0]),i--);for(var i=0;i<t.length;i++)t[i].userData.duplicateParent.usedDuplicates=void 0,t[i].userData.duplicateParent.duplicates=[],t[i].mesh?(t[i].mesh.userData.doNotDisposeMaterial=!0,t[i].decomissioned=!0,t[i].detach()):t[i]=null}},{key:"getBinnedData",value:function(e,t,n){var i=this,r=void 0,o=void 0,a=void 0,s=[],l=void 0,u=void 0,d=void 0,h=void 0;for(!1!==n&&(n=!0),l=i.getFacetGroups(e,t),s=l.groups,a=i.datastore.getOriginFacet(t).type,o="Number"!==a&&"Date"!==a&&s.length<10?1:c.Helpers.getBinWidth(l.facetValues,!1,a),h=c.Helpers.getBins(s,a,o,"meshes","name",i.forEachBinElementFunction),i.sortMeshes(e,i.datastore.getSortColumn().name,t),d=h.bins.length,u=0;u<d;u+=1)r=h.bins[u],r.meshes=r.elements,n&&i.sortMeshes(r.meshes,i.datastore.getSortColumn().name,t);return h}},{key:"manageDuplicateMeshes",value:function(e,t,n){var i=this,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=[],d=void 0,h=void 0,p=void 0;for(i.viewManager.coreNode.getProbe("manage duplicates").start(),void 0===n&&(n={discardOldDuplicates:!0}),p=void 0!==t&&t?t:{},!0===n.discardOldDuplicates&&!0===i.viewManager.duplicateRemapRequired&&(i.purgeDuplicates(),i.viewManager.duplicateRemapRequired=!1),l=e.length,a=0;a<l;a+=1)for(h=e[a].meshes,u=h.length,s=0;s<u;s+=1)d=h[s],void 0===p[d.datastoreIndex]?(p[d.datastoreIndex]=!0,c.push(d),d.usedDuplicates=0):(o=d.duplicates,void 0!==o&&void 0!==o[d.usedDuplicates]?(r=o[d.usedDuplicates],r.trash=!1,r.selected=!0,r.userData.animation.startScale=r.scale.x,r.userData.animation.startScaleX=r.scale.x,r.userData.animation.startScaleY=r.scale.y,r.userData.animation.startX=r.position.x,r.userData.animation.startY=r.position.y):r=i.duplicateMesh(d),d.usedDuplicates+=1,h.splice(s,1,r));i.viewManager.coreNode.getProbe("manage duplicates").stop()}},{key:"createMeshWithMaterial",value:function(e,t){var n=this,i=void 0,r=void 0;return i=new g.InstancedBufferGeometry,i.copy(n.viewManager.standardGeometry),i=n.viewManager.currentView.tileManager.createBufferGeometryArrays(i,t),r=new g.Mesh(i,e),r.frustumCulled=!1,r}},{key:"sortMeshes",value:function(e,t,n){var i=this,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=[];void 0!==e&&(r=i.datastore.getTable(),o=r[t],c.push(function(e){return o.get(e.datastoreIndex)}),void 0!==n&&null!==n&&(a=r[n],c.push(function(e){return a.get(e.datastoreIndex)})),l=i.datastore.getPrimaryKeyColumn().name,o===l||void 0!==n&&null!==n&&n===l||(s=r[l],c.push(function(e){return s.get(e.datastoreIndex)})),u=i.datastore.sortFunctionGenerator(c,i.datastore.getSortOrder()),e.sort(u))}},{key:"forEachBinElementFunction",value:function(e){void 0===this.relations[e.name]&&(this.relations[e.name]=[]),this.relations[e.name].push(this.numberOfBins)}},{key:"createBinsByMap",value:function(e,t,n){var i=void 0,r=void 0,o=[],a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;for(l=e.length,a=0;a<l;a+=1)if(c=e[a],void 0!==(r=t[c.name]))for(u=r.length,s=0;s<u;s+=1)i=r[s],-1===i?o[o.length-1].meshes.push(c):o.push({index:i,meshes:[c],color:h.Colors.getSequentialColorByIndex(i,n)});return o}},{key:"detach",value:function(){this.toggleEvents(!1)}},{key:"getViewConfigObject",value:function(e){var t=d.Config.properties().views,n=void 0;return t.filter(function(t){t.type===e&&(n=t)}),n}},{key:"getCameraZoom",value:function(){return this.viewManager.camera.zoom}},{key:"checkClick",value:function(e){var t=this,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0;return n=t.viewManager,t.viewManager.coreNode.getProbe("geometry hit test").start(),i=!0===e.mobileEvent?e:t.getLocalPosition3D({x:e.clientX,y:e.clientY}),!n.animatingCells&&n.groups.meshes.visible&&(o=Math.max(t.viewManager.effectiveWidth,t.viewManager.effectiveHeight)*this.viewManager.camera.zoom<20,null!==(r=t.getHitMesh(e,o))&&void 0!==r)?t.selectedMesh===r?(t.selectedMesh=null,u.Events.emitEvent("view.picture.deselected",[r]),t.resetSceneContainer(),void t.viewManager.coreNode.getProbe("geometry hit test").stop()):(t.clickMeshHandler(r,e),void t.viewManager.coreNode.getProbe("geometry hit test").stop()):""!==t.viewManager.groupBy&&void 0!==(a=t.getHitGroup(e,i))?(t.viewManager.selectedGroup=a.userData.binIndex,t.groupClickHandler(a.userData.bin,a.userData.binIndex),void t.viewManager.coreNode.getProbe("geometry hit test").stop()):(u.Events.emitEvent("view.picture.deselected",[t.selectedMesh]),t.resetSceneContainer(),void t.viewManager.coreNode.getProbe("geometry hit test").stop())}}]),e}();t.default=_},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){var i=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(33),r=n(13)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var i=n(347),r=n(155),o=n(157),a=n(158),s=n(7),l=(n(159),n(160),{}),u=null,c=function(e){if(e){var t=r.executeDispatch,n=i.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},d=null,h={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){d=e},getInstanceHandle:function(){return d},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(e,t,n){s(!n||"function"==typeof n),(l[t]||(l[t]={}))[e]=n},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=l[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in l)delete l[t][e]},extractEvents:function(e,t,n,r){for(var a,s=i.plugins,l=0,u=s.length;l<u;l++){var c=s[l];if(c){var d=c.extractEvents(e,t,n,r);d&&(a=o(a,d))}}return a},enqueueEvents:function(e){e&&(u=o(u,e))},processEventQueue:function(){var e=u;u=null,a(e,c),s(!u)},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=h},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(74),o=n(165),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";function i(){o=d.Config.properties(),a=o.serverUrl,s=a+"api/plugin/annotation/",l=o.collectionId,f=o.tagEndpoint}function r(e){this.tags=[]}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s,l,u=n(22),c=n(2),d=n(3),h=(n(6),n(9)),p=function(e){return e&&e.__esModule?e:{default:e}}(h),f=null,m={loadAllTags:function(e){u.Ajax.getJSON(""+f,function(t){if("tags"in t){var n=t.tags;for(var i in n)for(var r=n[i],o=0;o<r.length;o++)p.default.addTag(r[o],i);void 0===e&&null===e||e()}})},addTag:function(e,t,n){var i={tags:[[t.toString(),e]]};u.Ajax.post(f+"add",i,n)},addTagToMany:function(e,t,n){var i=t.map(function(t){return[t.toString(),e]}),r={tags:i};u.Ajax.post(f+"add",r,n)},updateTagNote:function(e,t){var n={tags:e};u.Ajax.put(s+l+"/"+t,n,function(e){e.status})},deleteTag:function(e,t,n){var i={tags:[[t.toString(),e]]};u.Ajax.post(f+"remove",i,n)},deleteAllCollectionTags:function(e,t){var n={tags:e};u.Ajax.post(f+"remove",n,t)}},g=null,v=function(){function e(){c.Events.emitEvent("tags.store.change")}return{loadTag:function(){null!==f&&(p.default.getTagsForId(g.name).length<1&&m.loadTag(g.name),e())},loadAllTags:function(){null!==f&&(c.Events.emitEvent("tags.store.loading"),m.loadAllTags(function(){e()}.bind(e)))},setTag:function(t,n){null!==f&&(void 0===n&&(n=g.name),m.addTag(t,n,function(){p.default.addTag(t,n)}),e())},setTagToMany:function(e,t){null!==f&&m.addTagToMany(e,t,function(){for(var n=0;n<t.length;n++)p.default.addTag(e,t[n])})},removeTag:function(t,n){null!==f&&(void 0===n&&(n=g.name),m.deleteTag(t,n,function(){p.default.removeTag(t,n)}),e())},removeAllTags:function(t){null!==f&&(m.deleteAllCollectionTags(t,function(){for(var e=0;e<t.length;e++)p.default.removeTag(t[e][1],t[e][0])}),e())},setSprite:function(t){null!==f&&(g=t,e())},createAnnotationFromServer:function(t){if(null!==f){var n,i=t.tags;if(i)for(var r=0;r<i.length;r++)n=i[r],p.default.addTag(n,parseInt(id));e()}}}}();r.prototype={},r.prototype.constructor=r,r.prototype.addTag=function(e){this.tags.push(e)},r.prototype.removeTag=function(e){for(var t=0;t<this.tags.length;t++)this.tags[t]===e&&this.tags.splice(t,1)},t.default={initTagsServer:i,store:v}},function(e,t,n){var i=n(10),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(28),r=n(16),o=n(66);e.exports=function(e){return function(t,n,a){var s,l=i(t),u=r(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(33);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(12),r=n(33),o=n(13)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(13)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(8);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(24),r=n(25),o=n(11),a=n(39),s=n(13);e.exports=function(e,t,n){var l=s(e),u=n(a,l,""[e]),c=u[0],d=u[1];o(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,c),i(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var i=n(8),r=n(21),o=n(13)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){"use strict";var i=n(10),r=n(1),o=n(25),a=n(72),s=n(54),l=n(71),u=n(70),c=n(12),d=n(11),h=n(102),p=n(75),f=n(130);e.exports=function(e,t,n,m,g,v){var y=i[e],_=y,b=g?"set":"add",w=_&&_.prototype,M={},x=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(v||w.forEach&&!d(function(){(new _).entries().next()}))){var S=new _,E=S[b](v?{}:-0,1)!=S,T=d(function(){S.has(1)}),C=h(function(e){new _(e)}),L=!v&&d(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});C||(_=t(function(t,n){u(t,_,e);var i=f(new y,t,_);return void 0!=n&&l(n,g,i[b],i),i}),_.prototype=w,w.constructor=_),(T||L)&&(x("delete"),x("has"),g&&x("get")),(L||E)&&x(b),v&&w.clear&&delete w.clear}else _=m.getConstructor(t,e,g,b),a(_.prototype,n),s.NEED=!0;return p(_,e),M[e]=_,r(r.G+r.W+r.F*(_!=y),M),v||m.setStrong(_,e,g),_}},function(e,t,n){for(var i,r=n(10),o=n(24),a=n(63),s=a("typed_array"),l=a("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(i=r[h[d++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(e,t,n){"use strict";e.exports=n(64)||!n(11)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(10)[e]})},function(e,t,n){"use strict";var i=n(1);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var i=n(1),r=n(21),o=n(32),a=n(71);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(i=0,s=o(l,arguments[2],2),a(e,!1,function(e){n.push(s(e,i++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={enter:13,left:37,right:39,escape:27,f:70,e:69,w:87,a:65,s:83,d:68,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:58},r={},o=function(e){var t=e.keyCode?e.keyCode:e.which;r[t]=!0},a=function(e){var t=e.keyCode?e.keyCode:e.which;r[t]=null},s={onKeyboardShortcut:function(e,t){var n=e.keyCode||e.which;if(!(n>=112&&n<=123)){var r=e.target.tagName;return"INPUT"!==r&&"TEXTAREA"!==r&&("function"!=typeof t&&(t=this.getKeyboardShortcuts()),Object.keys(t).some(function(n){return(i[n]||n)===e.keyCode&&!1!==t[n](e,n)}),e.preventDefault&&e.preventDefault(),!1)}},componentDidMount:function(){document.addEventListener("keyup",a),document.addEventListener("keydown",o),document.addEventListener("keydown",this.onKeyboardShortcut)},componentWillUnmount:function(){document.removeEventListener("keyup",a),document.removeEventListener("keydown",o),document.removeEventListener("keydown",this.onKeyboardShortcut)}};t.GlobalKeyMaster=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceTester=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(151),s=i(a),l=n(152),u=i(l),c=n(153),d=i(c),h=n(5),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),f=n(3),m=function(){function e(){r(this,e),this.tests=[],this.results=[],this.scores=[],this.callback=null,this._webGLFailed=!1,this._skipBenchmark=!1;var t=window.localStorage||{getItem:function(){return null},setItem:function(){return null}};if(this._storage=t,1!=t.getItem("zeg_perf_failed"))if(null==t.getItem("zeg_perf_results")){try{this.renderer=new p.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(1),this.renderer.setSize(800,600)}catch(e){this._webGLFailed=!0,t.setItem("zeg_perf_failed","true")}1==f.Config.properties().debug&&this._attachRenderer()}else this.scores=JSON.parse(t.getItem("zeg_perf_results")),this._skipBenchmark=!0;else this._webGLFailed=!0}return o(e,[{key:"_attachRenderer",value:function(){}},{key:"_detachRenderer",value:function(){this.renderer.domElement.parentElement&&this.renderer.domElement.parentElement.removeChild(this.renderer.domElement)}},{key:"getMedian",value:function(e){var t=e;t.sort(function(e,t){return e-t});var n=Math.floor((t.length-1)/2),i=Math.ceil((t.length-1)/2);return(t[n]+t[i])/2}},{key:"filterOutliers",value:function(e){var t=e.concat();t.sort(function(e,t){return e-t});var n=t[Math.floor(t.length/4)],i=t[Math.ceil(.75*t.length)],r=i-n,o=i+1.5*r,a=n-1.5*r;return t.filter(function(e){return e<=o&&e>=a})}},{key:"addTest",value:function(e){this.tests.push(e)}},{key:"execute",value:function(){if(this._webGLFailed||this._skipBenchmark)return void this.callback();this._startTime=performance.now();for(var e=0;e<this.tests.length;e++)this.tests[e].scope.renderer=this.renderer,this.tests[e].init();window.requestAnimationFrame(this.step.bind(this))}},{key:"step",value:function(){for(var e=!1,t=0;t<this.tests.length;t++)if(!0!==this.tests[t].scope.finished){this.tests[t].step(),e=!0;break}if(!e)return void this.finish();window.requestAnimationFrame(this.step.bind(this))}},{key:"finish",value:function(){for(var e=0;e<this.tests.length;e++){this.results.push(this.tests[e].finish());var t=this.filterOutliers(this.results[e]);t.length>=4?this.scores.push({title:this.tests[e].name,result:this.getMedian(t)}):this.scores.push({title:this.tests[e].name,result:t[0]})}1==f.Config.properties().debug&&this._detachRenderer(),this._storage.setItem("zeg_perf_results",JSON.stringify(this.scores)),this.callback()}}]),e}(),g=new m,v=new u.default,y=new s.default("Geometry Test","Tests the capacity of the GPU to handle textured geometries. Directly translates to collection size handling.");y.onInit(v.initialize),y.onStep(v.draw),y.onFinish(v.finish),g.addTest(y);var _=new d.default,b=new s.default("Texture Upload Test","Tests the efficiency of the browser and GPU at uploading textures to buffer memory.");b.onInit(_.initialize),b.onStep(_.draw),b.onFinish(_.finish),g.addTest(b),t.PerformanceTester=g},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=null;i.prototype.linearRegression=function(e){var t=0,n=0,i=0,r=0,o=0,a=0;if(1===e.length)n=e[0].y;else{for(var s=0;s<e.length;s++){var l=e[s].x,u=e[s].y;i+=l,r+=u,o+=l*l,a+=l*u}i/=e.length,r/=e.length,o/=e.length,a/=e.length,t=(a-i*r)/(o-i*i),n=r-t*i}return{m:t,b:n}},t.Stats=r=r||new i,t.Stats=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtilsApi=void 0;var i=n(22),r=n(43),o=n(3),a=n(56),s=n(2),l=n(6),u=n(19),c=n(79),d={Ajax:i.Ajax,Colors:r.Colors,Config:o.Config,DrawingManager:a.DrawingManager,Events:s.Events,Helpers:l.Helpers,Log:u.Log,PerformanceManager:c.PerformanceManager};t.UtilsApi=d},function(e,t,n){e.exports=n(603)},function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.type&&"function"==typeof e.type.prototype.mountComponent&&"function"==typeof e.type.prototype.receiveComponent}function r(e){return o(i(e)),new e.type(e)}var o=n(7);e.exports=r},function(e,t,n){"use strict";var i=n(7),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,a,s,l){i(!this.isInTransaction());var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,r,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){i(this.isInTransaction());for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,a=t[n],s=this.wrapperInitData[n];try{r=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(95),o=n(348),a=n(168),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(i,s),e.exports=i},function(e,t,n){"use strict";var i=n(363),r={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=n(3),s=(n(6),n(19)),l=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(5),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),h=n(61),p=function e(){i(this,e),this.executor=null,this.scope=null,this.disposable=!1},f=function(){function e(t,n){i(this,e);var r,o=this;if(o.name=n,o.type="simple",o.viewManager=h.ViewManager,o.datastore=u.default,o.currentSource=0,o.sources=[],o.config=a.Config,o.taskList=[],o.taskBudgetMs=40,o.atlasCanvas={},o.previousLevel,o.tilesPath="",o.loadersResources={},o.isLoadingImages=!1,o.loader=new d.FileLoader,o.textureLoader=new d.ImageLoader,null!==a.Config.properties().authToken&&o.loader.setRequestHeader({Authorization:a.Config.properties().authToken}),o.loadersResources={},o.loader.setResponseType("blob"),o.atlasCanvas={},o.geomArray=[],o.newMats=[],o.oldMats=[],o.materialSets={masterSet:[],currentLevel:null},o.prevMeshes=[],o.oldGroups,o.geomMeshes={},o.levelItems={},o.referenceLevel=null,void 0===t||void 0===t.sources)throw new Error("Tile Manager options not valid");for(Array.isArray(t.url)||(t.url=[t.url]),r=0;r<t.sources.length;r++){var s=t.sources[r];if(!("url"in s||"sourceId"in s))throw new Error("Tile Manager source missing url");"sourceId"in s&&(s.url=t.serverUrl+"api/collections/"+t.collectionId+"/dz/"+s.sourceId+"/collection.json"),void 0===s.name&&(s.name=r),o.sources.push(s)}}return r(e,[{key:"getSourceName",value:function(e){return e.substring(e.lastIndexOf("/")+1)}},{key:"ready",value:function(e){o.Events.emitEvent("tilemanager.ready",[e])}},{key:"init",value:function(){this.initSource()}},{key:"setTexture",value:function(e,t){var n=this,i=void 0;i=this.tilesPath+"/"+e.name+".jpg",n.loadAndApplyTexture(e,i,t)}},{key:"reduce",value:function(e,t,n){return e/n}},{key:"createBufferGeometryArrays",value:function(e,t){var n=new d.InstancedBufferAttribute(new Float32Array(3*t),3,1),i=new d.InstancedBufferAttribute(new Float32Array(3*t),3,1),r=new d.InstancedBufferAttribute(new Float32Array(4*t),4,1),o=new d.InstancedBufferAttribute(new Float32Array(2*t),2,1),a=new d.InstancedBufferAttribute(new Float32Array(2*t),2,1),s=new d.InstancedBufferAttribute(new Float32Array(2*t),2,1);return n.setDynamic(!0),i.setDynamic(!0),r.setDynamic(!0),o.setDynamic(!0),a.setDynamic(!0),s.setDynamic(!0),e.addAttribute("iOffset",n),e.addAttribute("iScale",i),e.addAttribute("iUvs",r),e.addAttribute("iSize",o),e.addAttribute("texSize",a),e.addAttribute("iInset",s),e}},{key:"getSingleTexture",value:function(e){var t=document.createElementNS("http://www.w3.org/1999/xhtml","img");return this.loader.load(e,function(e){t.onload=function(){t.onload=null,URL.revokeObjectURL(t.src)},t.src=URL.createObjectURL(e)}),t}},{key:"applyTexture",value:function(e,t,n){var i=this;void 0!==n&&i.applyAspectRatio(t,n),e.setTexture(t),this.updateSpriteSize(e,n),o.Events.emitEvent("view.texture.ready",[e])}},{key:"applyAspectRatio",value:function(e,t){e.frame.width>e.frame.height?e.frame.height=e.frame.width/t:e.frame.width=e.frame.height*t,e._updateWebGLuvs()}},{key:"updateSpriteSize",value:function(e){var t=this,n=void 0,i=void 0;e.picInfo.width/t.viewManager.cellSize.width>e.picInfo.height/t.viewManager.cellSize.height?(n=e.userData.cellSize.width,i=e.picInfo.height*(e.userData.cellSize.width/e.picInfo.width),e.scale.x=n/e.geometry.parameters.width,e.scale.y=i/e.geometry.parameters.height):(n=e.picInfo.width*(e.userData.cellSize.height/e.picInfo.height),i=e.userData.cellSize.height,e.scale.x=n/e.geometry.parameters.width,e.scale.y=i/e.geometry.parameters.height)}},{key:"setTask",value:function(e,t,n){var i=this,r=new p;return r.executor=e,r.scope=t,i.taskList.push(r),r.disposable=!!n,r}},{key:"executeTasks",value:function(){var e=this,t=performance.now(),n=void 0,i=0;do{if(e.taskList.length>0){if(!0===a.Config.properties().debug){var r=e.taskList[0].executor;e.taskList[0].scope&&(r=r.bind(e.taskList[0].scope)),r(),i++}else try{var o=e.taskList[0].executor;e.taskList[0].scope&&(o=o.bind(e.taskList[0].scope)),o(),i++}catch(e){s.Log.error("Error executing task. "+e.toString())}e.taskList.splice(0,1)}n=performance.now()-t}while(e.taskList.length>0&&n<e.taskBudgetMs)}},{key:"initSource",value:function(e){var t=this;t.tilesPath=t.sources[t.currentSource].url,t.ready(e)}},{key:"setNextSource",value:function(e){void 0!==e&&null!==e&&e>=0&&e<this.sources.length?this.currentSource=e:this.currentSource+=1,this.currentSource>=this.sources.length&&(this.currentSource=0),this.initSource(!0)}}]),e}();t.default=f},function(e,t,n){"use strict";function i(){this.reactClass=a}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=o.default.createClass({displayName:"utils/ui/Modal",getDefaultProps:function(){return{handleDidMount:function(){}}},render:function(){return o.default.DOM.div({className:"ui-modal-container",onClick:this.closeModal},o.default.DOM.div({className:"ui-modal"},o.default.DOM.div({className:"ui-modal-header"},o.default.DOM.div({className:"primary-color"},o.default.DOM.h1(null,this.props.title),o.default.DOM.span({className:"zeg-close-icon primary-color zeg-button active push-right",id:"ui-modal-close",onClick:this.closeModal},"x"))),o.default.DOM.div({className:"ui-modal-body active"},o.default.DOM.div({style:{height:"100%"}},this.props.component))))},componentDidMount:function(){this.props.handleDidMount()},closeModal:function(e){if("ui-modal-container"===e.target.className||"ui-modal-close"===e.target.id)return this.props.onClose(),o.default.unmountComponentAtNode(document.getElementById("zeg-modal-anchor")),!1}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={Fragment:Symbol("Frag"),Vertex:Symbol("Vertex"),None:Symbol("None")};Object.freeze(i),t.ShaderType=i},function(e,t,n){var i=n(12),r=n(10).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(10),r=n(37),o=n(64),a=n(178),s=n(15).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(97)("keys"),r=n(63);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(10).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(12),r=n(8),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(32)(Function.call,n(29).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var i=n(12),r=n(128).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},function(e,t,n){"use strict";var i=n(40),r=n(39);e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var i=n(40),r=n(39);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var i=n(64),r=n(1),o=n(25),a=n(24),s=n(23),l=n(77),u=n(136),c=n(75),d=n(30),h=n(13)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,m,g,v,y){u(n,t,m);var _,b,w,M=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==g,E=!1,T=e.prototype,C=T[h]||T["@@iterator"]||g&&T[g],L=!p&&C||M(g),D=g?S?M("entries"):L:void 0,A="Array"==t?T.entries||C:C;if(A&&(w=d(A.call(new e)))!==Object.prototype&&w.next&&(c(w,x,!0),i||s(w,h)||a(w,h,f)),S&&C&&"values"!==C.name&&(E=!0,L=function(){return C.call(this)}),i&&!y||!p&&!E&&T[h]||a(T,h,L),l[t]=L,l[x]=f,g)if(_={values:S?L:M("values"),keys:v?L:M("keys"),entries:D},y)for(b in _)b in T||o(T,b,_[b]);else r(r.P+r.F*(p||E),t,_);return _}},function(e,t,n){"use strict";var i=n(67),r=n(62),o=n(75),a={};n(24)(a,n(13)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(101),r=n(39);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(13)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var i=n(77),r=n(13)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){"use strict";var i=n(15),r=n(62);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(93),r=n(13)("iterator"),o=n(77);e.exports=n(37).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(487);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){"use strict";var i=n(18),r=n(66),o=n(16);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(55),r=n(194),o=n(77),a=n(28);e.exports=n(135)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i,r,o,a=n(32),s=n(184),l=n(127),u=n(123),c=n(10),d=c.process,h=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete v[e]},"process"==n(33)(d)?i=function(e){d.nextTick(a(y,e,1))}:m&&m.now?i=function(e){m.now(a(y,e,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=_,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,n){var i=n(10),r=n(145).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(33)(a);e.exports=function(){var e,t,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var d=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(21);e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";function i(e,t,n){var i,r,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?j(2,-24)-j(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for(e=B(e),e!=e||e===R?(r=e!=e?1:0,i=l):(i=F(Y(e)/z),e*(o=j(2,-i))<1&&(i--,o*=2),e+=i+u>=1?c/o:c*j(2,1-u),e*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(e*o-1)*j(2,t),i+=u):(r=e*j(2,u-1)*j(2,t),i=0));t>=8;a[d++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*h,a}function r(e,t,n){var i,r=8*n-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=t;s>0;i=256*i+e[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:u?-R:R;i+=j(2,t),c-=a}return(u?-1:1)*i*j(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function l(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return i(e,52,8)}function c(e){return i(e,23,4)}function d(e,t,n){T(e[D],t,{get:function(){return this[n]}})}function h(e,t,n,i){var r=+n,o=S(r);if(o+t>e[H])throw I(A);var a=e[U]._b,s=o+e[V],l=a.slice(s,s+t);return i?l:l.reverse()}function p(e,t,n,i,r,o){var a=+n,s=S(a);if(s+t>e[H])throw I(A);for(var l=e[U]._b,u=s+e[V],c=i(+r),d=0;d<t;d++)l[u+d]=c[o?d:t-d-1]}var f=n(10),m=n(14),g=n(64),v=n(107),y=n(24),_=n(72),b=n(11),w=n(70),M=n(40),x=n(16),S=n(203),E=n(68).f,T=n(15).f,C=n(143),L=n(75),D="prototype",A="Wrong index!",P=f.ArrayBuffer,k=f.DataView,O=f.Math,I=f.RangeError,R=f.Infinity,N=P,B=O.abs,j=O.pow,F=O.floor,Y=O.log,z=O.LN2,U=m?"_b":"buffer",H=m?"_l":"byteLength",V=m?"_o":"byteOffset";if(v.ABV){if(!b(function(){P(1)})||!b(function(){new P(-1)})||b(function(){return new P,new P(1.5),new P(NaN),"ArrayBuffer"!=P.name})){P=function(e){return w(this,P),new N(S(e))};for(var G,W=P[D]=N[D],X=E(N),q=0;X.length>q;)(G=X[q++])in P||y(P,G,N[G]);g||(W.constructor=P)}var Q=new k(new P(2)),Z=k[D].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||_(k[D],{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},!0)}else P=function(e){w(this,P,"ArrayBuffer");var t=S(e);this._b=C.call(new Array(t),0),this[H]=t},k=function(e,t,n){w(this,k,"DataView"),w(e,P,"DataView");var i=e[H],r=M(t);if(r<0||r>i)throw I("Wrong offset!");if(n=void 0===n?i-r:x(n),r+n>i)throw I("Wrong length!");this[U]=e,this[V]=r,this[H]=n},m&&(d(P,"byteLength","_l"),d(k,"buffer","_b"),d(k,"byteLength","_l"),d(k,"byteOffset","_o")),_(k[D],{getInt8:function(e){return h(this,1,e)[0]<<24>>24},getUint8:function(e){return h(this,1,e)[0]},getInt16:function(e){var t=h(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=h(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(h(this,4,e,arguments[1]))},getUint32:function(e){return o(h(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(h(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(h(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,a,t)},setUint8:function(e,t){p(this,1,e,a,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,l,t,arguments[2])},setUint32:function(e,t){p(this,4,e,l,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,u,t,arguments[2])}});L(P,"ArrayBuffer"),L(k,"DataView"),y(k[D],v.VIEW,!0),t.ArrayBuffer=P,t.DataView=k},function(e,t,n){var i=n(10),r=i.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,r,o){if(!e||/^(?:expires|max-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(r?"; domain="+r:"")+(i?"; path="+i:"")+(o?"; secure":""),!0},r=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},o=function(e,t,n){return!!(void 0).cookieExists(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},a=function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)};t.setCookie=i,t.getCookie=r,t.deleteCookie=o,t.cookieExists=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){return i(this,e),this.name=void 0!==t?t:"",this.description=void 0!==n?t:"",this.initEvent=[],this.stepEvent=[],this.finishEvent=null,this.scope={finish:!1},this}return r(e,[{key:"onInit",value:function(e){"function"==typeof e&&this.initEvent.push(e)}},{key:"onStep",value:function(e){"function"==typeof e&&this.stepEvent.push(e)}},{key:"onFinish",value:function(e){"function"==typeof e&&(this.finishEvent=e)}},{key:"init",value:function(){for(var e=0;e<this.initEvent.length;e++)this.initEvent[e].bind(this.scope)()}},{key:"step",value:function(){for(var e=0;e<this.stepEvent.length;e++)this.stepEvent[e].bind(this.scope)()}},{key:"finish",value:function(){return this.finishEvent.bind(this.scope)()}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=function(){function e(){i(this,e)}return r(e,[{key:"initialize",value:function(){this.drawCalls=125,this.vertexShader=atob("CQlwcmVjaXNpb24gaGlnaHAgZmxvYXQ7DQoNCgkJdW5pZm9ybSBmbG9hdCBzaW5lVGltZTsNCg0KCQl1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4Ow0KCQl1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsNCg0KCQlhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsNCgkJYXR0cmlidXRlIHZlYzMgb2Zmc2V0Ow0KCQlhdHRyaWJ1dGUgdmVjNCBjb2xvcjsNCgkJYXR0cmlidXRlIHZlYzQgb3JpZW50YXRpb25TdGFydDsNCgkJYXR0cmlidXRlIHZlYzQgb3JpZW50YXRpb25FbmQ7DQoNCgkJdmFyeWluZyB2ZWMzIHZQb3NpdGlvbjsNCgkJdmFyeWluZyB2ZWM0IHZDb2xvcjsNCg0KCQl2b2lkIG1haW4oKXsNCg0KCQkJdlBvc2l0aW9uID0gb2Zmc2V0ICogbWF4KCBhYnMoIHNpbmVUaW1lICogMi4wICsgMS4wICksIDAuNSApICsgcG9zaXRpb247DQoJCQl2ZWM0IG9yaWVudGF0aW9uID0gbm9ybWFsaXplKCBtaXgoIG9yaWVudGF0aW9uU3RhcnQsIG9yaWVudGF0aW9uRW5kLCBzaW5lVGltZSApICk7DQoJCQl2ZWMzIHZjViA9IGNyb3NzKCBvcmllbnRhdGlvbi54eXosIHZQb3NpdGlvbiApOw0KCQkJdlBvc2l0aW9uID0gdmNWICogKCAyLjAgKiBvcmllbnRhdGlvbi53ICkgKyAoIGNyb3NzKCBvcmllbnRhdGlvbi54eXosIHZjViApICogMi4wICsgdlBvc2l0aW9uICk7DQoNCgkJCXZDb2xvciA9IGNvbG9yOw0KDQoJCQlnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCB2UG9zaXRpb24sIDEuMCApOw0KDQoJCX0="),this.fragmentShader=atob("CQlwcmVjaXNpb24gaGlnaHAgZmxvYXQ7DQoNCgkJdW5pZm9ybSBmbG9hdCB0aW1lOw0KDQoJCXZhcnlpbmcgdmVjMyB2UG9zaXRpb247DQoJCXZhcnlpbmcgdmVjNCB2Q29sb3I7DQoNCgkJdm9pZCBtYWluKCkgew0KDQoJCQl2ZWM0IGNvbG9yID0gdmVjNCggdkNvbG9yICk7DQoJCQljb2xvci5yICs9IHNpbiggdlBvc2l0aW9uLnggKiAxMC4wICsgdGltZSApICogMC41Ow0KDQoJCQlnbF9GcmFnQ29sb3IgPSBjb2xvcjsNCg0KCQl9"),this.scene=new a.Scene,this.camera=new a.PerspectiveCamera(50,4/3,1,10),this.camera.position.z=2,this.camera.lookAt(this.scene.position),this.deltas=[];var e=new a.Vector4,t=[],n=[],i=[],r=[],o=[];t.push(.025,-.025,0),t.push(-.025,.025,0),t.push(0,0,.025);for(var s=0;s<2e4;s++)n.push(Math.random()-.5,Math.random()-.5,Math.random()-.5),i.push(Math.random(),Math.random(),Math.random(),Math.random()),e.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),e.normalize(),r.push(e.x,e.y,e.z,e.w),e.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),e.normalize(),o.push(e.x,e.y,e.z,e.w);var l=new a.InstancedBufferGeometry;l.maxInstancedCount=2e4,l.addAttribute("position",new a.Float32BufferAttribute(t,3)),l.addAttribute("offset",new a.InstancedBufferAttribute(new Float32Array(n),3)),l.addAttribute("color",new a.InstancedBufferAttribute(new Float32Array(i),4)),l.addAttribute("orientationStart",new a.InstancedBufferAttribute(new Float32Array(r),4)),l.addAttribute("orientationEnd",new a.InstancedBufferAttribute(new Float32Array(o),4));var u=new a.RawShaderMaterial({uniforms:{time:{value:1},sineTime:{value:1}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:a.DoubleSide,transparent:!0});this.meshes=[];for(var s=0;s<this.drawCalls;s++)this.meshes.push(new a.Mesh(l,u)),this.meshes[s].position.x=2*Math.random()-1,this.scene.add(this.meshes[s]);this.scene.add(this.camera),this._frame=0,this._deltaTime=performance.now()}},{key:"draw",value:function(){if(this._frame<9){this._frame++;for(var e=0;e<this.drawCalls;e++)this.meshes[e].rotation.y=e/30*this._frame*5e-4,this.meshes[e].rotation.x=(e+5)/100,this.meshes[e].material.uniforms.time.value=e/30*this._frame*.005,this.meshes[e].material.uniforms.sineTime.value=Math.sin(e/30*this.meshes[e].material.uniforms.time.value*.05);return this.renderer.render(this.scene,this.camera),this.deltas.push(performance.now()-this._deltaTime),void(this._deltaTime=performance.now())}this.finished=!0}},{key:"finish",value:function(){for(var e=0;e<this.drawCalls;e++)this.meshes[e].material.dispose(),this.meshes[e].geometry.dispose();return this.deltas}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=function(){function e(){i(this,e)}return r(e,[{key:"initialize",value:function(){this.deltas=[],this.scene=new a.Scene,this.camera=new a.PerspectiveCamera(50,4/3,1,10),this.camera.position.z=4,this.camera.lookAt(this.scene.position),this.canvas=document.createElement("canvas"),this.canvas.width=2048,this.canvas.height=2048,this.context=this.canvas.getContext("2d"),this.context.fillStyle="#ff6688",this.context.fillRect(0,0,1024,2048),this.context.fillStyle="#33ffaa",this.context.fillRect(1024,0,1024,2048),this.context.fillStyle="#ffffff",this.context.fillRect(512,512,1024,1024),this.texture=new a.Texture(this.canvas),this.texture.needsUpdate=!0,this.material=new a.MeshBasicMaterial({map:this.texture}),this.material.map.needsUpdate=!0,this.material.needsUpdate=!0,this.geometry=new a.CubeGeometry(1,-1,1),this.mesh=new a.Mesh(this.geometry,this.material),this.mesh.frustumCulled=!1,this.mesh.rotation.x+=.1,this.scene.add(this.camera),this.scene.add(this.mesh),this._frame=0}},{key:"draw",value:function(){if(this._frame<7)return this._frame++,this.context.fillStyle="#"+Math.floor(16777215*Math.random()).toString(16),this.context.fillRect(768,768,512,512),this.mesh.rotation.x+=.1,this.mesh.rotation.y+=.1,this.material.map.needsUpdate=!0,this.material.needsUpdate=!0,this._deltaTime=performance.now(),this.renderer.render(this.scene,this.camera),void this.deltas.push(performance.now()-this._deltaTime);this.finished=!0}},{key:"finish",value:function(){return this.deltas}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return o[e]}function r(e){return(""+e).replace(a,i)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;e.exports=r},function(e,t,n){"use strict";function i(e){return e===g.topMouseUp||e===g.topTouchEnd||e===g.topTouchCancel}function r(e){return e===g.topMouseMove||e===g.topTouchMove}function o(e){return e===g.topMouseDown||e===g.topTouchStart}function a(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)t(e,n[r],i[r]);else n&&t(e,n,i)}function s(e,t,n){e.currentTarget=m.Mount.getNode(n);var i=t(e,n);return e.currentTarget=null,i}function l(e,t){a(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function c(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function d(e){var t=e._dispatchListeners,n=e._dispatchIDs;f(!Array.isArray(t));var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function h(e){return!!e._dispatchListeners}var p=n(31),f=n(7),m={Mount:null,injectMount:function(e){m.Mount=e}},g=p.topLevelTypes,v={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:d,executeDispatch:s,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,injection:m,useTouchEvents:!1};e.exports=v},function(e,t,n){"use strict";function i(){return l(s),s()}function r(e){u[e]=!0}function o(e){delete u[e]}function a(e){return u[e]}var s,l=n(7),u={},c={injectEmptyComponent:function(e){s=e}},d={deregisterNullComponentID:o,getEmptyComponent:i,injection:c,isNullComponentID:a,registerNullComponentID:r};e.exports=d},function(e,t,n){"use strict";function i(e,t){if(r(null!=t),null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n?e.concat(t):i?[e].concat(t):[e,t]}var r=n(7);e.exports=i},function(e,t,n){"use strict";var i=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=i},function(e,t,n){"use strict";/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function i(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(27);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=i},function(e,t,n){"use strict";function i(e,t){r(e&&!/[^a-z0-9_]/.test(e))}var r=n(7);e.exports=i},function(e,t,n){"use strict";function i(e,t){if(a(e),null!=t){o(t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var r=n(607),o=r.checkMergeObjectArg,a=r.checkMergeIntoObjectArg;e.exports=i},function(e,t,n){"use strict";var i=n(35),r={current:{},withContext:function(e,t){var n,o=r.current;r.current=i(o,e);try{n=t()}finally{r.current=o}return n}};e.exports=r},function(e,t,n){"use strict";function i(e,t){return!(!e||!t||e.type!==t.type||(e.props&&e.props.key)!==(t.props&&t.props.key)||e._owner!==t._owner)}e.exports=i},function(e,t,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=n(58),o=n(7);n(47)(i,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,i=e.length;n<i;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=i},function(e,t,n){"use strict";function i(e){return o(document.documentElement,e)}var r=n(624),o=n(350),a=n(363),s=n(364),l={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,r=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(27),o=null;e.exports=i},function(e,t,n){"use strict";function i(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=o[e];return!!i&&!!n[i]}function r(e){return i}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t,n){"use strict";function i(e){u(null==e.props.checkedLink||null==e.props.valueLink)}function r(e){i(e),u(null==e.props.value&&null==e.props.onChange)}function o(e){i(e),u(null==e.props.checked&&null==e.props.onChange)}function a(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var l=n(370),u=n(7),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={Mixin:{propTypes:{value:function(e,t,n){if(!(!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled))return new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){if(e[t]&&!e.onChange&&!e.readOnly&&!e.disabled)return new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(e){return e.props.valueLink?(r(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(o(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(r(e),a):e.props.checkedLink?(o(e),s):e.props.onChange}};e.exports=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(n(6),n(3)),s=n(19),l=n(22),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=function(){function e(t){i(this,e);var n=this;n.url="",n.idColumn="id",n.columns=[],n.facetsArray=[],n.multivalueDelimiter=",",void 0!==t&&(void 0!==t.url?n.url=t.url:null!==t.serverUrl&&null!==t.collectionId&&(n.url=t.serverUrl+"api/collections/"+t.collectionId+"/datasource.tsv"),void 0!==t.id&&(n.idColumn=t.id),void 0!==t.columns&&(n.columns=t.columns,n.loadFacetsArrayFromColumns()),void 0!==t.multivalueDelimiter&&(n.multivalueDelimiter=t.multivalueDelimiter))}return r(e,[{key:"self",get:function(){return this}}]),r(e,[{key:"loadPage",value:function(e){var t=this;l.Ajax.getJSON(e,function(n){o.Events.emitEvent("loader.loaded",[e]),t.processData(n),o.Events.emitEvent("loader.ready",[t.facetsArray])})}},{key:"load",value:function(){var e=this;o.Events.emitEvent("loader.loading",[e.url,1]),this.loadPage(e.url)}},{key:"processData",value:function(e){for(var t=this,n=0,i=e.length;n<i;n++)!function(e){if(0===t.facetsArray.length)for(var n in e)if(e.hasOwnProperty(n)){for(var i=null!==e[n]?t.detectFacetType(e[n]):"String",r=0,o=!1;r<t.facetsArray.length;r++)if(t.facetsArray[r].name===n){o=!0;break}if(o)t.facetsArray[r].type!==i&&"String"===i&&(t.facetsArray[r].type=i,s.Log.warn("mismatch"));else{var a={name:n,displayName:n,type:i,displayInFilter:!0,displayInMeta:!0,useInSearch:!0,values:[]};n.toLowerCase()===t.idColumn.toLowerCase()&&(a.isId=!0,a.displayInFilter=!1),"name"===n.toLowerCase()&&(a.isName=!0),"description"===n.toLowerCase()&&(a.isDescription=!0),"Url"===i&&(a.displayInFilter=!1,a.useInSearch=!1,a.displayInMeta=!1),t.facetsArray.push(a)}}}(e[n]);s.Log.info(t.facetsArray),function(){for(var n,i=0;i<t.facetsArray.length;i++)for(var r=0;r<e.length;r++)e[r].hasOwnProperty(t.facetsArray[i].name)?(n=e[r][t.facetsArray[i].name],n!==n&&(n=null),null!==n&&(n=t.convertValueByType(n,t.facetsArray[i].type)),t.facetsArray[i].values.push(n)):t.facetsArray[i].values.push(null)}()}},{key:"detectFacetType",value:function(e){var t,n=null,i=e.toString(),r=n;return'"'===i.charAt(0)&&'"'===i.charAt(e.length-1)?e=i.substring(1,i.length-1):(t=i.indexOf(","))>=0&&(e=i.substring(0,t)),""!==e&&(r=isNaN(e)?(0,c.default)(e,c.default.ISO_8601).isValid()?"Date":void 0!==e.indexOf&&e.match(/^(?:(?:https?|ftp):\/\/)/i)?"Url":void 0!==e.indexOf&&e.match(/^(((\+|-)\d*\.?\d*)*\/)*$/i)?"Geo":"String":"Number"),null!==r&&void 0!==a.Config.properties().facetTypes[r.toLowerCase()]&&(n=r),n}},{key:"convertToDate",value:function(e){return(0,c.default)(e,c.default.ISO_8601).valueOf()}},{key:"convertValueByType",value:function(e,t){var n,i,r=this;if("Number"===t||void 0!==e&&null!==e&&0!==e.length)if(void 0!==e.charAt&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1))e=e.substring(1,e.length-1);else if(void 0!==e.indexOf&&e.indexOf(r.multivalueDelimiter)>=0){var o=new RegExp("([^\\\\\\][^"+r.multivalueDelimiter+"]|\\\\"+r.multivalueDelimiter+")+","gi"),a=new RegExp("\\\\"+r.multivalueDelimiter,"gi"),s=e.match(o);if(null==s)return e=null;if(e=s.map(function(e){return e.replace(a,r.multivalueDelimiter)}),"Number"===t)for(i=e.length,n=0;n<i;n+=1)e[n]=parseFloat(e[n]),e[n]!==e[n]&&(e[n]=null);else if("Date"===t)for(i=e.length,n=0;n<i;n+=1)e[n]=r.convertToDate(e[n]),e[n]!==e[n]&&(e[n]=null);else e=e.map(function(e){return e.trim()})}else{if("Number"===t)e=parseFloat(e);else if("Date"===t)e=this.convertToDate(e);else if("Geo"===t)for(var l=e.split("/"),u=/(\+|-)\d*\.\d*/g,e=[],c=0;c<l.length;c++){var o,d=[];if(""!==l[c]){for(;o=u.exec(l[c]);)d.push(parseFloat(o[0]));e.push(d)}}else e=e.trim();e!==e&&(e=null)}else e=null;return e}},{key:"loadFacetsArrayFromColumns",value:function(){for(var e=this,t=e.columns.sort(function(e,t){return e.order===t.order?e.name-t.name:e.order-t.order}),n=0;n<t.length;n++){var i=t[n];e.facetsArray.push({name:i.name,displayName:i.displayName,description:i.description,type:i.datatype,isId:i.isIdentifier,isName:i.isName,isDescription:i.isDescription,displayInFilter:i.isFilterVisible,displayInMeta:i.isMetadataVisible,useInSearch:i.isSearchable,values:[]})}}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BlurPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(20),u=n(17);t.BlurPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="BlurPass",n.needsSwap=!0,n.renderTargetX=new s.WebGLRenderTarget(1,1,{minFilter:s.LinearFilter,magFilter:s.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetX.texture.name="Blur.TargetX",n.renderTargetX.texture.generateMipmaps=!1,n.renderTargetY=n.renderTargetX.clone(),n.renderTargetY.texture.name="Blur.TargetY",n.resolutionScale=void 0!==e.resolutionScale?e.resolutionScale:.5,n.convolutionMaterial=new l.ConvolutionMaterial,n.kernelSize=e.kernelSize,n.quad.material=n.convolutionMaterial,n}return o(t,e),a(t,[{key:"render",value:function(e,t,n){var i=this.scene,r=this.camera,o=this.renderTargetX,a=this.renderTargetY,s=this.convolutionMaterial,l=s.uniforms,u=s.getKernel(),c=t,d=void 0,h=void 0,p=void 0;for(h=0,p=u.length-1;h<p;++h)d=h%2==0?o:a,l.kernel.value=u[h],l.tDiffuse.value=c.texture,e.render(i,r,d),c=d;l.kernel.value=u[h],l.tDiffuse.value=c.texture,e.render(i,r,this.renderToScreen?null:n)}},{key:"initialise",value:function(e,t){t||(this.renderTargetX.texture.format=s.RGBFormat,this.renderTargetY.texture.format=s.RGBFormat)}},{key:"setSize",value:function(e,t){e=Math.max(1,Math.floor(e*this.resolutionScale)),t=Math.max(1,Math.floor(t*this.resolutionScale)),this.renderTargetX.setSize(e,t),this.renderTargetY.setSize(e,t),this.convolutionMaterial.setTexelSize(1/e,1/t)}},{key:"width",get:function(){return this.renderTargetX.width}},{key:"height",get:function(){return this.renderTargetX.height}},{key:"kernelSize",get:function(){return this.convolutionMaterial.kernelSize},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.KernelSize.LARGE;this.convolutionMaterial.kernelSize=e}}]),t}(u.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,i){var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),o=r.getContext("2d"),a=o.createImageData(e,t),s=a.data,l=void 0,u=void 0,c=void 0,d=void 0;for(u=0;u<t;++u)for(l=0;l<e;++l)c=4*(u*e+l),d=(u*e+l)*i,s[c]=i>0?n[d]:0,s[c+1]=i>1?n[d+1]:0,s[c+2]=i>2?n[d+2]:0,s[c+3]=i>3?n[d+3]:255;return r.width=e,r.height=t,o.putImageData(a,0,0),r}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.RawImageData=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;i(this,e),this.width=t,this.height=n,this.data=r,this.channels=o}return o(e,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:r(this.width,this.height,this.data,this.channels)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DataTypeViewManager=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(n(6),n(213)),s=(i(a),n(371)),l=(i(s),n(713)),u=i(l),c=n(714),d=i(c),h=n(715),p=i(h),f=n(716),m=i(f),g=n(717),v=i(g),y=n(718),_=i(y),b=n(719),w=i(b),M=n(720),x=i(M),S=n(721),E=i(S),T=n(722),C=i(T),L=n(723),D=i(L),A=function(){function e(){r(this,e);var t=this;t.Views={},t.Actions={},t.addDataTypeView("List",u.default),t.addDataTypeView("Range",d.default),t.addDataTypeView("Date",p.default),t.addDataTypeView("ScatterPlot",m.default),t.addDataTypeAction("Info",v.default),t.addDataTypeAction("List",_.default),t.addDataTypeAction("Sort",w.default),t.addDataTypeAction("Range",x.default),t.addDataTypeAction("Date",E.default),t.addDataTypeAction("ScatterPlot",C.default),t.addDataTypeAction("Expand",D.default)}return o(e,[{key:"addDataTypeView",value:function(e,t){if(!e)throw new Error('Added Data Type View without a specified "type name"');if(this.Views[e])throw new Error("A Data Type View with this type already exists: "+e);var n={};t&&"[object Function]"===n.toString.call(t)||(t=t),this.Views[e]=t}},{key:"addDataTypeAction",value:function(e,t){if(!e)throw new Error('Added Data Type Action without a specified "type name"');if(this.Actions[e])throw new Error("A Data Type Action with this type already exists: "+e);var n={};t&&"[object Function]"===n.toString.call(t)||(t=t),this.Actions[e]=t}}]),e}(),P=new A;t.DataTypeViewManager=P},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=(n(2),n(6)),s=n(3);i.prototype.UI=o.default.createClass({displayName:"utils/ui/RangeSlider",getDefaultProps:function(){return{readOnly:!1}},getInitialState:function(){return{minValue:0,maxValue:0,minHandleLeft:0,maxHandleLeft:100,rangeLeft:0,rangeWidth:100,selectedSlider:null}},componentWillReceiveProps:function(e){this.offset=this.getOffset(this.refs.sliderrange.getDOMNode());var t=e.min,n=e.max,i=this.calcLeftFromVal(t,e.minRange,e.maxRange,"min"),r=this.calcLeftFromVal(n,e.minRange,e.maxRange,"max");this.setMin(i,t),this.setMax(r,n),this.setRange(i,r-i)},render:function(){var e=o.default.addons.classSet({"ui-slider-range":!0!==this.props.setDefault,"ui-slider-range-move":null!==this.state.selectedSlider}),t=s.Config.i18nValue("range-label");return o.default.DOM.div(null,o.default.DOM.div({className:"ui-slider ui-slider-background",ref:"sliderrange"},o.default.DOM.div({className:"ui-slider-handle-origin",style:{left:this.state.minHandleLeft+"%"}},o.default.DOM.div({className:"ui-slider-handle",onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,ref:"minhandle"})),o.default.DOM.div({className:"ui-slider-handle-origin",style:{left:this.state.maxHandleLeft+"%"}},o.default.DOM.div({className:"ui-slider-handle",onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,ref:"maxhandle"})),o.default.DOM.div({className:e,style:{left:this.state.rangeLeft+"%",width:this.state.rangeWidth+"%"},onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,ref:"rangehandle"})),o.default.DOM.div({className:"zeg-facet-item-desc row"},o.default.DOM.input({className:"ui-slider-input value",value:void 0!==this.props.parseValue?this.props.parseValue(this.state.minValue):this.state.minValue,onChange:this.props.readOnly?null:this.minChange,onBlur:this.props.readOnly?null:this.minBlur,readOnly:this.props.readOnly||!this.props.isActive}),o.default.DOM.span({className:"ui-slider-input-label"},t),o.default.DOM.input({className:"ui-slider-input value",value:void 0!==this.props.parseValue?this.props.parseValue(this.state.maxValue):this.state.maxValue,onChange:this.props.readOnly?null:this.maxChange,onBlur:this.props.readOnly?null:this.maxBlur,readOnly:this.props.readOnly||!this.props.isActive})))},componentDidMount:function(){this.offset=this.getOffset(this.refs.sliderrange.getDOMNode());var e=this.props.min,t=this.props.max,n=this.calcLeftFromVal(e,this.props.minRange,this.props.maxRange,"min"),i=this.calcLeftFromVal(t,this.props.minRange,this.props.maxRange,"max");this.setMin(n,e),this.setMax(i,t),this.setRange(n,i-n)},updateFilter:function(e,t){this.props.onChange(e,t)},handleMouseUp:function(e){var t=a.Helpers.getTouch(e);document.body.removeEventListener(t.endEvent,this.handleMouseUp),window.removeEventListener(t.moveEvent,this.handleMouseMove),this.setState({selectedSlider:null}),this.updateFilter(this.state.minValue,this.state.maxValue)},rangeMouseUp:function(e){var t=a.Helpers.getTouch(e);document.body.removeEventListener(t.endEvent,this.rangeMouseUp),window.removeEventListener(t.moveEvent,this.rangeMouseMove),this.setState({selectedSlider:null}),this.updateFilter(this.state.minValue,this.state.maxValue)},handleMouseMove:function(e){var t,n,i,r=0;"touchmove"===e.type&&e.stopPropagation(),i=a.Helpers.isTouchSupported&&"touchmove"===e.type?e.touches[0].pageX:e.pageX;var o=i-this.offset.left+this.state.selectedSlider.offset;o=Math.min(Math.max(0,o/this.offset.width*100),100),this.state.selectedSlider===this.refs.minhandle.getDOMNode()?(r=Math.min(o,this.state.maxHandleLeft),t=r,n=this.state.maxHandleLeft,this.setMin(r,this.calcValueFromHandle(r))):(r=Math.max(o,this.state.minHandleLeft),n=r,t=this.state.minHandleLeft,this.setMax(r,this.calcValueFromHandle(r))),this.setRange(t,n-t)},rangeMouseMove:function(e){var t,n=0;a.Helpers.isTouchSupported&&"touchmove"===e.type?(t=e.touches[0].pageX,e.stopPropagation()):t=e.pageX;var i=t-this.offset.left+this.refs.rangehandle.getDOMNode().offset;i=Math.min(Math.max(0,i/this.offset.width*100),100),i-=this.state.rangeLeft+this.state.rangeWidth/2;var r=this.state.minHandleLeft,o=this.state.maxHandleLeft,s=Math.max(0,r+i),l=Math.min(100,o+i);n=Math.abs(r-s)<=Math.abs(o-l)?r-s:o-l,r-=n,o-=n,this.setMin(r,this.calcValueFromHandle(r)),this.setMax(o,this.calcValueFromHandle(o)),this.setRange(r,o-r)},onMouseDown:function(e){var t,n=a.Helpers.getTouch(e);t=a.Helpers.isTouchSupported&&"touchstart"===e.type?e.touches[0].pageX:e.pageX,this.props.isActive&&(e.target.offset=this.getOffset(e.target).left+this.getOffset(e.target).width/2-t,this.setState({selectedSlider:e.target}),e.target!==this.refs.rangehandle.getDOMNode()?(window.addEventListener(n.moveEvent,this.handleMouseMove),document.body.addEventListener(n.endEvent,this.handleMouseUp),this.refs.maxhandle.getDOMNode().style.zIndex=2,this.refs.minhandle.getDOMNode().style.zIndex=2,e.target.style.zIndex=3):(window.addEventListener(n.moveEvent,this.rangeMouseMove),document.body.addEventListener(n.endEvent,this.rangeMouseUp)))},getOffset:function(e){return e=e.getBoundingClientRect(),{left:e.left+document.body.scrollLeft,top:e.top+document.body.scrollTop,width:e.width,height:e.height}},calcValueFromHandle:function(e){var t=this.props.maxRange-this.props.minRange,n=t*(e/100),i=n+this.props.minRange;return this.checkPrecision(i)},calcLeftFromVal:function(e,t,n,i){return t===n?"min"===i?0:100:Math.min(Math.max(0,(e-t)/(n-t)*100),100)},minChange:function(e){this.setState({minValue:e.target.value})},maxChange:function(e){this.setState({maxValue:e.target.value})},minBlur:function(e){var t=parseFloat(e.target.value),n=this.clampMin(t);this.props.isActive&&(isNaN(t)?this.setState({minValue:this.props.min}):(n=this.checkPrecision(n),this.updateFilter(n,this.props.max)))},clampMin:function(e){return Math.min(Math.max(this.props.minRange,e),this.props.max)},checkPrecision:function(e){var t=this.props.precision||null;return null===t?e:e=t.isFacetFloating?Math.round(e*t.roundingPower)/t.roundingPower:Math.round(e)},maxBlur:function(e){var t=parseFloat(e.target.value),n=this.clampMax(t);this.props.isActive&&(isNaN(t)?this.setState({maxValue:this.props.max}):(n=this.checkPrecision(n),this.updateFilter(this.props.min,n)))},clampMax:function(e){return Math.max(Math.min(this.props.maxRange,e),this.props.min)},setMin:function(e,t){this.setState({minHandleLeft:e,minValue:t})},setMax:function(e,t){this.setState({maxHandleLeft:e,maxValue:t})},setRange:function(e,t){this.setState({rangeLeft:e,rangeWidth:t})}}),t.default=i},function(e,t,n){"use strict";function i(){function e(){var e=document.getElementById("zeg-wrapper");i=document.createElement("DIV"),i.className="ui-dialog-container",r=document.createElement("DIV"),r.className="ui-dialog-control",o=document.createElement("DIV"),o.className="zeg-dialog-title primary-color",a=document.createElement("I"),a.className="fa fa-times zeg-close-icon primary-color active push-right",a.onclick=t.close,s=document.createElement("DIV"),s.className="zeg-dialog-content",r.appendChild(o),r.appendChild(a),r.appendChild(s),i.appendChild(r),e.appendChild(i)}var t=this,n=!1,i=null,r=null,o=null,a=null,s=null;t.show=function(a,l){t=this,null===r&&e(),n||(o.innerHTML=a,s.innerHTML=l,i.style.display="block",r.style.display="block",n=!0)},t.close=function(){i.style.display="none",r.style.display="none",n=!1}}Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.Dialog=r=r||new i,t.Dialog=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={Composed:Symbol("Composed"),Atlas:Symbol("Atlas"),Blank:Symbol("Blank")};Object.freeze(i),t.SetterType=i},function(e,t,n){e.exports=!n(14)&&!n(11)(function(){return 7!=Object.defineProperty(n(123)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(13)},function(e,t,n){var i=n(23),r=n(28),o=n(98)(!1),a=n(125)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var i=n(15),r=n(8),o=n(65);e.exports=n(14)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var i=n(28),r=n(68).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):r(i(e))}},function(e,t,n){"use strict";var i=n(65),r=n(99),o=n(92),a=n(18),s=n(91),l=Object.assign;e.exports=!l||n(11)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=r.f,d=o.f;l>u;)for(var h,p=s(arguments[u++]),f=c?i(p).concat(c(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:l},function(e,t,n){"use strict";var i=n(21),r=n(12),o=n(184),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(10).parseInt,r=n(76).trim,o=n(129),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(a.test(n)?16:10))}:i},function(e,t,n){var i=n(10).parseFloat,r=n(76).trim;e.exports=1/i(n(129)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},function(e,t,n){var i=n(33);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,n){var i=n(12),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(132),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126),u=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),c=i(e);return r<l?c*u(r/l/a)*l*a:(t=(1+a/o)*r,n=t-(t-r),n>s||n!=n?c*(1/0):c*n)}},function(e,t,n){var i=n(8);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(21),r=n(18),o=n(91),a=n(16);e.exports=function(e,t,n,s,l){i(t);var u=r(e),c=o(u),d=a(u.length),h=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(h in c){s=c[h],h+=p;break}if(h+=p,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=p)h in c&&(s=t(s,c[h],h,u));return s}},function(e,t,n){"use strict";var i=n(18),r=n(66),o=n(16);e.exports=[].copyWithin||function(e,t){var n=i(this),a=o(n.length),s=r(e,a),l=r(t,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:r(u,a))-l,a-s),d=1;for(l<s&&s<l+c&&(d=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(14)&&"g"!=/./g.flags&&n(15).f(RegExp.prototype,"flags",{configurable:!0,get:n(103)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(8),r=n(12),o=n(147);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(199),r=n(78);e.exports=n(106)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(15).f,r=n(67),o=n(72),a=n(32),s=n(70),l=n(71),u=n(135),c=n(194),d=n(69),h=n(14),p=n(54).fastKey,f=n(78),m=h?"_s":"size",g=function(e,t){var n,i=p(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=i&&l(i,n,e[u],e)});return o(c.prototype,{clear:function(){for(var e=f(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=f(this,t),i=g(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(e){f(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(f(this,t),e)}}),h&&i(c.prototype,"size",{get:function(){return f(this,t)[m]}}),c},def:function(e,t,n){var i,r,o=g(e,t);return o?o.v=n:(e._l=o={i:r=p(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:g,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var i=n(199),r=n(78);e.exports=n(106)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i,r=n(42)(0),o=n(25),a=n(54),s=n(182),l=n(202),u=n(12),c=n(11),d=n(78),h=a.getWeak,p=Object.isExtensible,f=l.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=h(e);return!0===t?f(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(106)("WeakMap",g,v,l,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(i=l.getConstructor(g,"WeakMap"),s(i.prototype,v),a.NEED=!0,r(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,r){if(u(t)&&!p(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){"use strict";var i=n(72),r=n(54).getWeak,o=n(8),a=n(12),s=n(70),l=n(71),u=n(42),c=n(23),d=n(78),h=u(5),p=u(6),f=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(u.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var i=r(o(t),!0);return!0===i?m(e).set(t,n):i[e._i]=n,e},ufstore:m}},function(e,t,n){var i=n(40),r=n(16);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var i=n(68),r=n(99),o=n(8),a=n(10).Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function i(e,t,n,u,c,d,h,p){for(var f,m,g=c,v=0,y=!!h&&s(h,p,3);v<u;){if(v in n){if(f=y?y(n[v],v,t):n[v],m=!1,o(f)&&(m=f[l],m=void 0!==m?!!m:r(f)),m&&d>0)g=i(e,t,f,a(f.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}v++}return g}var r=n(100),o=n(12),a=n(16),s=n(32),l=n(13)("isConcatSpreadable");e.exports=i},function(e,t,n){var i=n(16),r=n(131),o=n(39);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,u=void 0===n?" ":String(n),c=i(t);if(c<=l||""==u)return s;var d=c-l,h=r.call(u,Math.ceil(d/u.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},function(e,t,n){var i=n(65),r=n(28),o=n(92).f;e.exports=function(e){return function(t){for(var n,a=r(t),s=i(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var i=n(93),r=n(209);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){var i=n(71);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,i,r){return 0===arguments.length||e!=e||t!=t||n!=n||i!=i||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-i)/(n-t)+i}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){ee.Simple=d.default}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.base=t.Client=void 0;var o,a=n(597),s=i(a),l=n(212),u=n(598),c=n(170),d=i(c),h=n(61),p=n(374),f=i(p),m=n(173),g=n(724),v=n(384),y=i(v),_=n(9),b=i(_),w=n(762),M=i(w),x=n(763),S=i(x),E=n(772),T=i(E),C=n(779),L=i(C),D=n(780),A=i(D),P=n(781),k=i(P),O=n(784),I=i(O),R=n(785),N=n(786),B=i(N),j=n(788),F=i(j),Y=n(789),z=i(Y),U=n(790),H=i(U),V=n(791),G=n(388),W=n(387),X=n(6),q=n(2),Q=n(3),Z=n(19),K=n(22),J=n(114),$=n(112),ee={},te={},ne=f.default,ie={},re=!1,oe=null;s.default.install(),q.Events.on("loader.loading",function(e,t){Z.Log.info("loading data "+e+" of "+t)}),q.Events.on("loader.loaded",function(e){Z.Log.info("data loaded: "+e)}),q.Events.on("loader.ready",function(e){b.default.loadData(e)}),q.Events.on("view.shown",function(e){if(!re){X.Helpers.isMobile()||(q.Events.emitEvent("filter.toggle"),q.Events.emitEvent("lefttoolbar.toggled",[!0]));var t=X.Helpers.getQueryStringParameter(document.URL,"zegid");null!==t&&y.default.service.requestSnapshot(t,function(e){if("snapshot"in e&&y.default.loadSnapshot(e.snapshot),"success"===e.status){var t=e.data.snapshots[0];y.default.loadSnapshot(t)}}),re=!0}}),q.Events.on("log",function(e){Z.Log.info("Event: "+e)});var ae=function(e){var t=e||window.event;1!==h.ViewManager.stage.container.scale.x||X.Helpers.hasClass(document.getElementById("zeg-filterpanel"),"filter-enter")||(t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0),q.Events.emitEvent("filter.toggle"))},se=function(e){var t=e||window.event;X.Helpers.hasClass(t.target,"zeg-filter-header")&&X.Helpers.hasClass(document.getElementById("zeg-filterpanel"),"filter-enter")&&(t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0),q.Events.emitEvent("filter.toggle"))};document.body.addEventListener("swr",ae,!1),document.body.addEventListener("swl",se,!1),r.prototype._initUI=function(e){Z.Log.info(this.version),o=document.getElementById(e),g.UIManager.init(o)},r.prototype._launchCollection=function(){var e=Q.Config.properties();this._initUI(oe),this._initComponents(),V.Loading.show();for(var t in te)te.hasOwnProperty(t)&&new te[t](e.extensions[t]);for(var n in ie)ie.hasOwnProperty(n)&&G.MetadataPanelTypes.addType(n,ie[n]);y.default.setService(ne);var i=e.loader.options;i.serverUrl=e.serverUrl,i.collectionId=e.collectionId;var r=new ee[e.loader.type](i);return $.PerformanceTester.callback=function(){r.load()},$.PerformanceTester.execute(),this},r.prototype.attach=function(e,t){if(void 0===e||0===e.length)throw new Error("Base element has not been defined.");if(oe=e,"string"!=typeof t)return Q.Config.init(t),this._launchCollection();K.Ajax.getJSON(t,function(e){return e.configUrl=t,Q.Config.init(e),this._launchCollection(),this}.bind(this))},r.prototype._initComponents=function(){this.loader("TabData",M.default),this.tileManager("DeepZoom",S.default),this.tileManager("Dynamic",T.default),this.view("Grid",L.default),this.view("Graph",A.default),this.view("Table",I.default),this.view("Map",k.default),this.metadataPanel("Metadata",B.default),this.dataTypeView("Map",R.MapDataTypeView),this.extension("WebViewer",F.default),this.extension("LinkButton",z.default),this.extension("SessionRefreshLoader",H.default)},r.prototype.getConfigFromUrl=function(e,t){return K.Ajax.getJSON(e,function(e){t(e)}),this},r.prototype.dataTypeAction=function(e,t){return m.DataTypeViewManager.addDataTypeAction(e,t),this},r.prototype.toolbarButton=function(e,t){return ToolbarButtonManager.addToolbarButton(e,t),this},r.prototype.metadataPanel=function(e,t,n){if(void 0!==ie[e])throw new Error("A Plugin by the type of "+e+" already exists");return ie[e]=t,this},r.prototype.dataTypeView=function(e,t){return m.DataTypeViewManager.addDataTypeView(e,t),this},r.prototype.loader=function(e,t){if(void 0!==ee[e])throw new Error("A Loader by the type of "+e+" already exists");return ee[e]=t,this},r.prototype.snapshotService=function(e){return ne=e,this},r.prototype.tileManager=function(e,t){return h.ViewManager.addTileManagerType(e,t),this},r.prototype.view=function(e,t){return h.ViewManager.addViewType(e,t),this},r.prototype.searchSource=function(e,t){var n=t;return SearchManager.addSearchSource(new n(e)),this},r.prototype.extension=function(e,t){if(void 0!==te[e])throw new Error("An Extension by the type of "+e+" already exists");return te[e]=t,this},r.prototype.authToken=function(e,t){return Q.Config.update({authToken:Array.prototype.slice.call(arguments).join(" ")}),this},r.prototype.on=function(e,t){return q.Events.addListener(e,t),this},r.prototype.off=function(e,t){return q.Events.removeListener(e,t),this},r.prototype.trigger=function(e,t){return q.Events.emitEvent(e,t),this},r.prototype.getCurrentView=function(){return h.ViewManager.currentView},r.prototype.leftPanel=function(e,t){return W.LeftPanelManager.addPanel(e,t),this},r.prototype.version=l.Statics.version.toString();var le=new r;t.Client=le,t.base=u.BaseApi,t.utils=J.UtilsApi},function(e,t,n){"use strict";function i(){this.version={major:1,minor:7,release:3,name:"Zegami",toString:function(){return this.name+" "+this.major+"."+this.minor+"."+this.release}}}Object.defineProperty(t,"__esModule",{value:!0});var r=new i;t.Statics=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=i(o),s=n(57),l=i(s),u=n(115),c=i(u);r.prototype.DataTypeActionMixin=l.default,r.prototype.DataStore=a.default,r.prototype.React=c.default,t.default=r},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,a){var s=i(t),l=r[e][i(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];return e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,o,a){var s=n(t),l=i[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];return e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(r[i],+e)}return e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n){return e+" "+r({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){return e>9?i(e%10):e}function r(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return e>1&&e<5&&1!=~~(e/10)}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"pr sekund":"pr sekundami";case"m":return n?"minuta":r?"minutu":"minutou";case"mm":return n||r?o+(t(e)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(t(e)?"hodiny":"hodin"):o+"hodinami";case"d":return n||r?"den":"dnem";case"dd":return n||r?o+(t(e)?"dny":"dn"):o+"dny";case"M":return n||r?"msc":"mscem";case"MM":return n||r?o+(t(e)?"msce":"msc"):o+"msci";case"y":return n||r?"rok":"rokem";case"yy":return n||r?o+(t(e)?"roky":"let"):o+"lety"}}var i="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),r="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");return e.defineLocale("cs",{months:i,monthsShort:r,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(i,r),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(r),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(i),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=i[t]),e+n},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}return e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}return e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}return e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var i=this._calendarEl[e],r=n&&n.hours();return t(i)&&(i=i.apply(n)),i.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY H:mm",LLLL:"dddd, MMMM [de] D [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,i,r){var o="";switch(i){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":o=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=n(e,r)+" "+o}function n(e,t){return e<10?t?r[e]:i[e]:e}var i="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",i[7],i[8],i[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"];return e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[n][0]:r[n][1]}return e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return r+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return r+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return r+(i||t?" v":" ve")}return""}function n(e){return(e?"":"[mlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return e%100==11||e%10!=1}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||r?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(r?"daga":"dgum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(r?"mnui":"mnuum"):n?o+"mnuur":o+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return t(e)?o+(n||r?"r":"rum"):o+(n||r?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){return r(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function i(e){return r(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return r(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return r(e)}return e/=1e3,r(e)}return e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10==0||e>10&&e<20}function r(e){return a[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(e,t,o[0],a):t?s+(i(e)?r(o)[1]:r(o)[0]):a?s+r(o)[1]:s+(i(e)?r(o)[1]:r(o)[2])}var a={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};return e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function n(e,n,i){return e+" "+t(o[i],e,n)}function i(e,n,i){return t(o[i],e,n)}function r(e,t){return t?"daas sekundes":"dam sekundm"}var o={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};return e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:r,m:i,mm:n,h:i,hh:n,d:i,dd:n,M:i,MM:n,y:i,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r="";if(t)switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}var n={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return n[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function n(e,n,i){var r=e+" ";switch(i){case"m":return n?"minuta":"minut";case"mm":return r+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesice":"miesicy");case"yy":return r+(t(e)?"lata":"lat")}}var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+r[e.month()]+"|"+i[e.month()]+")":/D MMMM/.test(t)?r[e.month()]:i[e.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie",dd:"%d dni",M:"miesic",MM:n,y:"rok",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+i[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":e+" "+t(r[i],+e)}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];return e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return e>1&&e<5}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"pr seknd":"pr sekundami";case"m":return n?"minta":r?"mintu":"mintou";case"mm":return n||r?o+(t(e)?"minty":"mint"):o+"mintami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(t(e)?"hodiny":"hodn"):o+"hodinami";case"d":return n||r?"de":"dom";case"dd":return n||r?o+(t(e)?"dni":"dn"):o+"dami";case"M":return n||r?"mesiac":"mesiacom";case"MM":return n||r?o+(t(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||r?"rok":"rokom";case"yy":return n||r?o+(t(e)?"roky":"rokov"):o+"rokmi"}}var i="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),r="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:i,monthsShort:r,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function i(e,t,n,i){var o=r(e);switch(n){case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}function r(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),i=e%10,r="";return t>0&&(r+=o[t]+"vatlh"),n>0&&(r+=(""!==r?" ":"")+o[n]+"maH"),i>0&&(r+=(""!==r?" ":"")+o[i]),""===r?"pagh":r}var o="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");return e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:t,past:n,s:"puS lup",m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}return e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(r[i],+e)}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function r(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}return e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,l){"object"===a(t)&&void 0!==e?l(n(0)):(r=[n(0)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},function(e,t,n){"use strict";var i=n(22);test("Ajax is defined",function(){expect(i.Ajax).toBeDefined()})},function(e,t,n){"use strict";var i=n(43);describe("Colors",function(){test("Colors is defined",function(){expect(i.Colors).toBeDefined()}),describe("Color by index",function(){test("should get the same color for the same index",function(){var e=i.Colors.getColorByIndex(7),t=i.Colors.getColorByIndex(7);expect(e).toBe("0x7f7f7f"),expect(t).toBe("0x7f7f7f")}),test("should return a color when outside of color array index",function(){var e=i.Colors.getColorByIndex(21);expect(e).toBe("0xff7f0e")})}),describe("Sequential color",function(){test("should get the same color for the same index",function(){var e=i.Colors.getSequentialColorByIndex(7,20),t=i.Colors.getSequentialColorByIndex(7,20);expect(e).toBe("0xa1d99b"),expect(t).toBe("0xa1d99b")}),test("should get the same color for different length groups",function(){var e=i.Colors.getSequentialColorByIndex(7,15),t=i.Colors.getSequentialColorByIndex(9,20);expect(e).toBe("0x74c476"),expect(t).toBe("0x74c476")}),test("should get the same color for different length groups v2",function(){var e=i.Colors.getSequentialColorByIndex(18,19),t=i.Colors.getSequentialColorByIndex(18,20);expect(e).toBe("0x003012"),expect(t).toBe("0x003012")}),test("should be able to handle when an index is larger than the length",function(){var e=i.Colors.getSequentialColorByIndex(54,20);expect(e).toBe("0x001c09")}),test("should be able to handle when an index is smaller than the length",function(){var e=i.Colors.getSequentialColorByIndex(-1,20);expect(e).toBe("0xfdfdfc")})})})},function(e,t,n){"use strict";var i=n(3);describe("Configuration",function(){test("Config is defined",function(){expect(i.Config).toBeDefined()}),describe("Initialisation",function(){test("should start with the default options",function(){var e=i.Config.defaults,t=i.Config.properties();expect(t).toMatchObject(e)}),test("should override a default value",function(){var e=i.Config.defaults;e.debug=!0,i.Config.init({debug:!0});var t=i.Config.properties();expect(t).toMatchObject(e)}),test("should override a default object",function(){var e=i.Config.defaults;e.loader.name="test",e.loader.options.url="http://www.coritsu.com",i.Config.init({loader:{name:"test",options:{url:"http://www.coritsu.com"}}});var t=i.Config.properties();expect(t).toMatchObject(e)}),test("should insert a new value",function(){var e=i.Config.defaults;e.test=!0,i.Config.init({test:!0});var t=i.Config.properties();expect(t).toMatchObject(e)}),test("should override object properties while preserving existing",function(){var e=i.Config.defaults;e.colors.primary="test",i.Config.init({colors:{primary:"test"}});var t=i.Config.properties();expect(t).toMatchObject(e)})}),describe("Update",function(){test("should allow updating of Config items",function(){var e=i.Config.defaults;e.title="pass",i.Config.init({title:"fail"}),i.Config.update({title:"pass"});var t=i.Config.properties();expect(t).toMatchObject(e)})})})},function(e,t,n){"use strict";var i=n(56);test("Drawing Manager is defined",function(){expect(i.DrawingManager).toBeDefined()})},function(e,t,n){"use strict";var i=n(2);test("Events is defined",function(){expect(i.Events).toBeDefined()})},function(e,t,n){"use strict";var i=n(111);test("GlobalKeyMaster is defined",function(){expect(i.GlobalKeyMaster).toBeDefined()})},function(e,t,n){"use strict";var i=n(6);describe("Helpers",function(){test("Helpers is defined",function(){expect(i.Helpers).toBeDefined()}),describe("Can generate uuid",function(){test("should return a hexadecimal string",function(){var e=i.Helpers.generateUUID(),t=/[0-9A-Fa-f]{6}/g;expect(t.test(e)).toBe(!0)}),test("two returned values should be unique",function(){var e=i.Helpers.generateUUID(),t=i.Helpers.generateUUID();expect(e).not.toEqual(t)})}),describe("Array Merge in Order",function(){test("should add new item to the end",function(){var e=[1,2,3],t=[1,2,3,4],n=[1,2,3,4],r=i.Helpers.arrayMergeInOrder(e,t);expect(r).toEqual(n)}),test("should remove item that does not exist",function(){var e=[1,2,3],t=[1,3],n=[1,3],r=i.Helpers.arrayMergeInOrder(e,t);expect(r).toEqual(n)}),test("should add items in order despite merge array order",function(){var e=[1,2,3],t=[1,4,2,3],n=[1,2,3,4],r=i.Helpers.arrayMergeInOrder(e,t);expect(r).toEqual(n)}),test("should remove all with empty array",function(){var e=[1,2,3],t=[],n=[],r=i.Helpers.arrayMergeInOrder(e,t);expect(r).toEqual(n)})}),describe("Array equals",function(){test("should return true for an array of ints that equal",function(){var e=[1,2,3,4],t=[1,2,3,4],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!0)}),test("should return false for an array of ints that are not equal",function(){var e=[1,2,3,4],t=[1,2,3],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!1)}),test("should return false for an array of ints that are out of order",function(){var e=[1,2,3,4],t=[1,4,2,3],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!1)}),test("should return true for an array of strings that equal",function(){var e=["one","two","three","four"],t=["one","two","three","four"],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!0)}),test("should return false for an array of strings that are not equal",function(){var e=["one","two","three","four"],t=["one","two","three"],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!1)}),test("should return true for an array of objects that equal",function(){var e=[{name:"one"},{name:"two"},{name:"three"},{name:"four"}],t=[{name:"one"},{name:"two"},{name:"three"},{name:"four"}],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!0)}),test("should return false for an array of objects that not equal",function(){var e=[{name:"one"},{name:"two"},{name:"three"},{name:"four"}],t=[{name:"one"},{name:"two"},{name:"three"}],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!1)}),test("should return false for an array of objects that are out of order",function(){var e=[{name:"one"},{name:"two"},{name:"three"},{name:"four"}],t=[{name:"one"},{name:"four"},{name:"two"},{name:"three"}],n=i.Helpers.arrayEquals(e,t);expect(n).toBe(!1)})}),describe("Checking if an object is inside a specified offset",function(){test("should return true for an object that is completely inside the offset",function(){var e={x:50,y:50},t={width:100,height:100},n={x:25,y:25,width:200,height:200},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!0)}),test("should return true for an object that is partially inside the offset",function(){var e={x:50,y:50},t={width:100,height:100},n={x:100,y:100,width:10,height:10},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!0)}),test("should return false for an object completely out (up) the offset",function(){var e={x:50,y:50},t={width:300,height:300},n={x:0,y:351,width:100,height:100},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!1)}),test("should return false for an object completely out (left) the offset",function(){var e={x:50,y:50},t={width:300,height:300},n={x:351,y:0,width:100,height:100},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!1)}),test("should return false for an object completely out (right) the offset",function(){var e={x:110,y:50},t={width:300,height:300},n={x:0,y:0,width:100,height:100},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!1)}),test("should return false for an object completely out (down) the offset",function(){var e={x:50,y:200},t={width:300,height:300},n={x:0,y:10,width:100,height:100},r=i.Helpers.inOffset(e,t,n);expect(r).toBe(!1)})}),describe("Bin width",function(){test("should return width of 1 for ranges less than or equal to 10",function(){var e=[50,52,52,52,56,56,57,57,57,57,58],t=i.Helpers.getBinWidth(e);expect(t).toBe(1)}),test("should handle odd length data arrays",function(){var e=[13,23,12,44,55,45,3,4,5,6,55],t=i.Helpers.getBinWidth(e,!1);expect(t).toBe(33)}),test("should return width of 1 when data length is zero",function(){var e=[],t=i.Helpers.getBinWidth(e);expect(t).toBe(1)}),test("should handle floating point numbers",function(){var e=[12058147.6598114,15961574.3309813,18974027.6450334,23493528.9932199,26841306.6152706,29779793.0966664,31919528.634226,35216156.1020958,37265760.3013431,39340068.7036647,44973019.0623307,48818376.7427871,50948955.6860834,52176949.776436,5861847.49644369,7109744.08476508,9265998.62428276],t=i.Helpers.getBinWidth(e);expect(t).toBe(20579558.74724459)})}),describe("Get Query String Parameter",function(){test("should find the zegid parameter",function(){var e=i.Helpers.getQueryStringParameter("http://localhost:8080/?zegid=54254fcf3e459169d454feb7","zegid");expect(e).toBe("54254fcf3e459169d454feb7")}),test("should return null if not found",function(){var e=i.Helpers.getQueryStringParameter("http://localhost:8080","zegid");expect(e).toBe(null)}),test("should return null with multiple other values",function(){var e=i.Helpers.getQueryStringParameter("http://localhost:8080/?sid=54254fcf3e459169d454feb7","zegid");expect(e).toBe(null)}),test("should be able to get a value amongst multiple values",function(){var e=i.Helpers.getQueryStringParameter("http://localhost:8080/?zegid=54254fcf3e459169d454feb7&sid=test","zegid");expect(e).toBe("54254fcf3e459169d454feb7")})}),describe("Add or Update Query String Parameter",function(){test("should add a parameter if none other exist",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?zegid=54254fcf3e459169d454feb7")}),test("should add a parameter if others do exist",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080?sid=test","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?sid=test&zegid=54254fcf3e459169d454feb7")}),test("should update the value if a previous version exists",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080?zegid=123","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?zegid=54254fcf3e459169d454feb7")}),test("should update the value if a previous version exists as well as another value",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080?sid=test&zegid=123","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?sid=test&zegid=54254fcf3e459169d454feb7")}),test("should update the value if a previous version exists as well as other values",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080?sid=test&zegid=123&sid2=987","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?sid=test&zegid=54254fcf3e459169d454feb7&sid2=987")}),test("should update the value if a previous version exists as well as even more other values",function(){var e=i.Helpers.addUpdateQueryStringParameter("http://localhost:8080?sid=test&zegid=123&sid2=987&sid3=2423","zegid","54254fcf3e459169d454feb7");expect(e).toBe("http://localhost:8080?sid=test&zegid=54254fcf3e459169d454feb7&sid2=987&sid3=2423")})}),describe("bankersRound",function(){test("integers unchanged",function(){expect(i.Helpers.bankersRound(0)).toBe(0),expect(i.Helpers.bankersRound(1)).toBe(1),expect(i.Helpers.bankersRound(-1)).toBe(-1)}),test("fractions to nearest",function(){expect(i.Helpers.bankersRound(.25)).toBe(0),expect(i.Helpers.bankersRound(.75)).toBe(1),expect(i.Helpers.bankersRound(-.25)).toBe(-0),expect(i.Helpers.bankersRound(-.75)).toBe(-1)}),test("positive down to even",function(){expect(i.Helpers.bankersRound(.5)).toBe(0),expect(i.Helpers.bankersRound(2.5)).toBe(2)}),test("positive up to even",function(){expect(i.Helpers.bankersRound(1.5)).toBe(2),expect(i.Helpers.bankersRound(3.5)).toBe(4)}),test("negative down to even",function(){expect(i.Helpers.bankersRound(-.5)).toBe(-0),expect(i.Helpers.bankersRound(-2.5)).toBe(-2)}),test("negative up to even",function(){expect(i.Helpers.bankersRound(-1.5)).toBe(-2),expect(i.Helpers.bankersRound(-3.5)).toBe(-4)})})})},function(e,t,n){"use strict";var i=n(19),r=n(3);describe("Log",function(){test("Log is defined",function(){expect(i.Log).toBeDefined()}),test("should not log a message for default Config",function(){var e=console.log,t=!1;console.log=function(e){t=!0},i.Log.debug("test"),console.log=e,expect(t).toBe(!1)}),test("should log an error message when error logging is configured",function(){var e=console.error,t="",n=!1;r.Config.init({logging:"error"}),console.error=function(e){n=!0,t=e},i.Log.error("test"),console.error=e,expect(n).toBe(!0),expect(t).toBe("test")}),test("should log an error message when error logging is configured",function(){var e=console.log,t=!1;r.Config.init({logging:"error"}),console.log=function(e){t=!0},i.Log.debug("test"),console.log=e,expect(t).toBe(!1)})})},function(e,t,n){"use strict";var i=n(79);n(3),describe("PerformanceManager",function(){jest.useFakeTimers(),test("PerformanceManager is defined",function(){expect(i.PerformanceManager).toBeDefined()}),test("should allow the creation of a cache store object with a name provided",function(e){var t;t=i.PerformanceManager.createStore("Un1t"),expect(t.name).toBe("Un1t"),e()}),test("should allow the creation and retrieval of a cache item within a cache store object",function(e){var t,n,r;n={name:"John Doe",age:43,gender:"Male"},t=i.PerformanceManager.createStore(),t.setObject(n,"person"),r=t.getObject("person").data,expect(r.age).toBe(43),e()}),test("should not allow adding duplicate items to cache stores that share a name",function(e){var t,n;n={name:"John Doe",age:43,gender:"Male"},t=i.PerformanceManager.createStore(),t.setObject(n,"person"),t.setObject(n,"person"),expect(t.count).toBe(1),e()}),test("should not allow adding duplicate items to cache stores that reference the same object",function(e){var t,n;n={name:"John Doe",age:43,gender:"Male"},t=i.PerformanceManager.createStore(),t.setObject(n,"person"),t.setObject(n,"person2"),expect(t.count).toBe(1),e()}),test("should prevent objects being added to a store if it exceeds the level defined in the store policy",function(e){var t,n,r;n={name:"John Doe",age:43,gender:"Male"},r={name:"Jane Doe",age:41,gender:"Female"},t=i.PerformanceManager.createStore(),t.policy.hardLimit=1,t.setObject(n,"person"),t.setObject(r,"person2"),expect(t.count).toBe(1),e()}),test("should allow you to dispose of cached items",function(e){var t,n,r;r={name:"John Doe",age:43,gender:"Male"},t=i.PerformanceManager.createStore(),n=t.setObject(r,"person"),t.deleteObject(n),expect(t.count).toBe(0),e()}),test("should cleanup items with the lowest priority in a given store",function(e){var t,n;t=i.PerformanceManager.createStore(),t.policy.softLimit=2,t.setObject({a:2,b:6},"stuff1").priority=6,t.setObject({a:77,b:23},"stuff2").priority=8,n=t.setObject({a:16,b:2},"stuff3"),n.priority=3,n.locked=!0,t.setObject({a:26,b:13},"stuff4").priority=10,t.setObject({a:44,b:83},"stuff5").priority=9,t.purge(!1),expect(t.count).toBe(2),expect(t.objects[0].priority).toBe(3),expect(t.objects[1].priority).toBe(10),e()}),test("should not cleanup items that are locked in a given store even it exceeds the soft limit depending on policy",function(e){var t,n;t=i.PerformanceManager.createStore(),t.policy.softLimit=2,n=t.setObject({a:2,b:6},"stuff1"),n.priority=8,n.locked=!0,n=t.setObject({a:77,b:23},"stuff2"),n.priority=6,n.locked=!0,n=t.setObject({a:16,b:2},"stuff3"),n.priority=3,n.locked=!0,n=t.setObject({a:26,b:13},"stuff4"),n.priority=10,n.locked=!0,t.purge(!1),expect(t.count).toBe(4),expect(t.objects[0].priority).toBe(10),expect(t.objects[1].priority).toBe(8),e()}),test("should clean up log entries so they do not exceed the policy defined amount",function(e){var t;t=i.PerformanceManager.createStore(),t.policy.softLimit=2,t.policy.logLimit=5,t.setObject({a:2,b:6},"stuff1"),t.setObject({a:77,b:23},"stuff2"),t.setObject({a:65,b:11},"stuff3").priority=4,t.setObject({a:65,b:11},"stuff4").priority=3,t.purge(!1),t.purge(!1),expect(t.log.length).toBeLessThan(t.policy.logLimit+1),e()}),test.skip("should not initialize a purge process on stores before the desired interval",function(e){var t;(void 0).timeout(5e3),t=i.PerformanceManager.createStore(),t.policy.gcInterval=3,t.policy.automateGC=!0,t.policy.softLimit=2,t.setObject({a:2,b:6},"stuff1"),t.setObject({a:77,b:23},"stuff2"),t.setObject({a:65,b:11},"stuff3").priority=4,t.setObject({a:65,b:11},"stuff4").priority=3,i.PerformanceManager.tick(),setTimeout(function(){t.setObject({a:33,b:23},"stuff5"),i.PerformanceManager.tick(),expect(t.count).toBe(3),e()},2100)}),test.skip("should initialize a purge process on stores when the tick passed",function(e){var t;(void 0).timeout(5e3),t=i.PerformanceManager.createStore(),t.policy.gcInterval=2,t.policy.automateGC=!0,t.policy.softLimit=2,t.setObject({a:2,b:6},"stuff1"),t.setObject({a:77,b:23},"stuff2"),t.setObject({a:65,b:11},"stuff3").priority=4,t.setObject({a:65,b:11},"stuff4").priority=3,i.PerformanceManager.tick(),setTimeout(function(){t.setObject({a:33,b:23},"stuff5"),i.PerformanceManager.tick(),expect(t.count).toBe(2),e()},2200)}),test.skip("should allow the creation and operation of a monitoring node and probe",function(e){var t,n;t=i.PerformanceManager.createMonitor("test.1"),n=t.createProbe("test cases","test.1.primes"),n.start(),i.PerformanceManager.calculatePrimes(1e5),n.stop(),expect(n.values.length).toBe(1),e()}),test.skip("should keep historical data per probe",function(e){var t,n;t=i.PerformanceManager.createMonitor("test.2"),n=t.createProbe("test cases","test.2.primes");for(var r=0;r<10;r++)n.start(),i.PerformanceManager.calculatePrimes(5e3),n.stop(),i.PerformanceManager.tick();for(var r=0;r<n.values.length;r++)console.info(n.values[r]);expect(n.values.length).toBe(10),e()}),test.skip("should keep historical data per probe but not exceed the policy log limit",function(e){var t,n;t=i.PerformanceManager.createMonitor("test.3"),n=t.createProbe("test cases","test.3.primes"),t.policy.valueLimit=20;for(var r=0;r<25;r++)n.start(),i.PerformanceManager.calculatePrimes(3e3),n.stop(),i.PerformanceManager.tick();expect(n.values.length).toBe(20),e()}),test.skip("should maintain parity between all probes in terms of their historical data",function(e){var t,n,r;t=i.PerformanceManager.createMonitor("test.4"),n=t.createProbe("p1","test.4.primes"),r=t.createProbe("p2","test.4.primes"),i.PerformanceManager.tick(),expect(n.values.length).toBe(1),expect(r.values.length).toBe(1),e()})})},function(e,t,n){"use strict";var i=n(113);test("Stats is defined",function(){expect(i.Stats).toBeDefined()})},function(e,t,n){"use strict";var i=n(114);test("Utils API is defined",function(){expect(i.UtilsApi).toBeDefined()})},function(e,t,n){"use strict";function i(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}e.exports=i},function(e,t,n){"use strict";function i(e){return h[e]}function r(e,t){return e&&e.props&&null!=e.props.key?a(e.props.key):t.toString(36)}function o(e){return(""+e).replace(p,i)}function a(e){return"$"+o(e)}function s(e,t,n){return null==e?0:f(e,"",0,t,n)}var l=n(82),u=n(346),c=n(7),d=l.SEPARATOR,h={"=":"=0",".":"=1",":":"=2"},p=/[=.:]/g,f=function(e,t,n,i,o){var s=0;if(Array.isArray(e))for(var l=0;l<e.length;l++){var h=e[l],p=t+(t?":":d)+r(h,l),m=n+s;s+=f(h,p,m,i,o)}else{var g=typeof e,v=""===t,y=v?d+r(e,0):t;if(null==e||"boolean"===g)i(o,null,y,n),s=1;else if(e.type&&e.type.prototype&&e.type.prototype.mountComponentIntoNode)i(o,e,y,n),s=1;else if("object"===g){c(!e||1!==e.nodeType);for(var _ in e)e.hasOwnProperty(_)&&(s+=f(e[_],t+(t?":":d)+a(_)+":"+r(e[_],0),n+s,i,o))}else if("string"===g){var b=u(e);i(o,b,y,n),s+=1}else if("number"===g){var w=u(""+e);i(o,w,y,n),s+=1}}return s};e.exports=s},function(e,t,n){"use strict";var i={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:i};e.exports=r},function(e,t,n){"use strict";var i=n(80),r=n(45),o=n(85),a=n(46),s=n(154),l=n(47),u=function(e){this.construct(e)};l(u,o.Mixin),l(u,r),l(u,{mountComponent:function(e,t,n){o.Mixin.mountComponent.call(this,e,t,n);var r=s(this.props);return t.renderToStaticMarkup?r:"<span "+i.createMarkupForID(e)+">"+r+"</span>"},receiveComponent:function(e,t){var n=e.props;n!==this.props&&(this.props=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}}),e.exports=a.createFactory(u)},function(e,t,n){"use strict";function i(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(a(n>-1),!u.plugins[n]){a(t.extractEvents),u.plugins[n]=t;var i=t.eventTypes;for(var o in i)a(r(i[o],t,o))}}}function r(e,t,n){a(!u.eventNameDispatchConfigs.hasOwnProperty(n)),u.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){a(!u.registrationNameModules[e]),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(7),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a(!s),s=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(a(!l[n]),l[n]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=u.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=u.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=u},function(e,t,n){"use strict";var i=n(349),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var e=i(window);r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";function i(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=i},function(e,t,n){function i(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?i(e,t.parentNode):e.contains?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=n(608);e.exports=i},function(e,t,n){"use strict";function i(e){return e?e.nodeType===r?e.documentElement:e.firstChild:null}var r=9;e.exports=i},function(e,t,n){"use strict";var i=n(610),r=n(7),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(o.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(o.isValidOwner(n)),n.refs[t]===e&&n.detachRef(t)},Mixin:{construct:function(){this.refs=i},attachRef:function(e,t){r(t.isOwnedBy(this)),(this.refs===i?this.refs={}:this.refs)[e]=t},detachRef:function(e){delete this.refs[e]}}};e.exports=o},function(e,t,n){"use strict";function i(){var e=h.current;return e&&e.constructor.displayName||void 0}function r(e,t){e._store.validated||null!=e.props.key||(e._store.validated=!0,a("react_key_warning",'Each child in an array should have a unique "key" prop.',e,t))}function o(e,t,n){v.test(e)&&a("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",t,n)}function a(e,t,n,r){var o=i(),a=r.displayName,s=o||a,l=f[e];if(!l.hasOwnProperty(s)){l[s]=!0,t+=o?" Check the render method of "+o+".":" Check the renderComponent call using <"+a+">.";var u=null;n._owner&&n._owner!==h.current&&(u=n._owner.constructor.displayName,t+=" It was passed a child from "+u+"."),t+=" See http://fb.me/react-warning-keys for more information.",p(e,{component:s,componentOwner:u}),console.warn(t)}}function s(){var e=i()||"";m.hasOwnProperty(e)||(m[e]=!0,p("react_object_map_children"))}function l(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];c.isValidDescriptor(i)&&r(i,t)}else if(c.isValidDescriptor(e))e._store.validated=!0;else if(e&&"object"==typeof e){s();for(var a in e)o(a,e[a],t)}}function u(e,t,n,i){for(var r in t)if(t.hasOwnProperty(r)){var o;try{o=t[r](n,r,e,i)}catch(e){o=e}o instanceof Error&&!(o.message in g)&&(g[o.message]=!0,p("react_failed_descriptor_type_check",{message:o.message}))}}var c=n(46),d=n(354),h=n(84),p=n(160),f={react_key_warning:{},react_numeric_key_warning:{}},m={},g={},v=/^\d+$/,y={createFactory:function(e,t,n){var i=function(i,r){for(var o=e.apply(this,arguments),a=1;a<arguments.length;a++)l(arguments[a],o.type);var s=o.type.displayName;return t&&u(s,t,o.props,d.prop),n&&u(s,n,o._context,d.context),o};i.prototype=e.prototype,i.type=e.type;for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}};e.exports=y},function(e,t,n){"use strict";var i=n(73),r=i({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";function i(e,t,n){if(!e)return null;var i=0,r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=t.call(n,e[o],o,i++));return r}e.exports=i},function(e,t,n){"use strict";function i(e){e&&(g(null==e.children||null==e.dangerouslySetInnerHTML),g(null==e.style||"object"==typeof e.style))}function r(e,t,n,i){var r=h.findReactContainerForID(e);if(r){var o=r.nodeType===E?r.ownerDocument:r;w(t,o)}i.getPutListenerQueue().enqueuePutListener(e,t,n)}function o(e,t){this._tagOpen="<"+e,this._tagClose=t?"":"</"+e+">",this.tagName=e.toUpperCase()}var a=n(358),s=n(81),l=n(80),u=n(45),c=n(85),d=n(83),h=n(53),p=n(360),f=n(59),m=n(154),g=n(7),v=n(60),y=n(35),_=n(47),b=d.deleteListener,w=d.listenTo,M=d.registrationNameModules,x={string:!0,number:!0},S=v({style:null}),E=1;o.Mixin={mountComponent:f.measure("ReactDOMComponent","mountComponent",function(e,t,n){return c.Mixin.mountComponent.call(this,e,t,n),i(this.props),this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(e){var t=this.props,n=this._tagOpen;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(M.hasOwnProperty(i))r(this._rootNodeID,i,o,e);else{i===S&&(o&&(o=t.style=y(t.style)),o=a.createMarkupForStyles(o));var s=l.createMarkupForProperty(i,o);s&&(n+=" "+s)}}return e.renderToStaticMarkup?n+">":n+" "+l.createMarkupForID(this._rootNodeID)+">"},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=x[typeof this.props.children]?this.props.children:null,i=null!=n?null:this.props.children;if(null!=n)return m(n);if(null!=i)return this.mountChildren(i,e).join("")}return""},receiveComponent:function(e,t){e===this._descriptor&&null!=e._owner||c.Mixin.receiveComponent.call(this,e,t)},updateComponent:f.measure("ReactDOMComponent","updateComponent",function(e,t){i(this._descriptor.props),c.Mixin.updateComponent.call(this,e,t),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e)}),_updateDOMProperties:function(e,t){var n,i,o,a=this.props;for(n in e)if(!a.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===S){var l=e[n];for(i in l)l.hasOwnProperty(i)&&(o=o||{},o[i]="")}else M.hasOwnProperty(n)?b(this._rootNodeID,n):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in a){var u=a[n],d=e[n];if(a.hasOwnProperty(n)&&u!==d)if(n===S)if(u&&(u=a.style=y(u)),d){for(i in d)!d.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in u)u.hasOwnProperty(i)&&d[i]!==u[i]&&(o=o||{},o[i]=u[i])}else o=u;else M.hasOwnProperty(n)?r(this._rootNodeID,n,u,t):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,u)}o&&c.BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t){var n=this.props,i=x[typeof e.children]?e.children:null,r=x[typeof n.children]?n.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,s=null!=i?null:e.children,l=null!=r?null:n.children,u=null!=i||null!=o,d=null!=r||null!=a;null!=s&&null==l?this.updateChildren(null,t):u&&!d&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=a?o!==a&&c.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,a):null!=l&&this.updateChildren(l,t)},unmountComponent:function(){this.unmountChildren(),d.deleteAllListeners(this._rootNodeID),c.Mixin.unmountComponent.call(this)}},_(o,c.Mixin),_(o,o.Mixin),_(o,p.Mixin),_(o,u),e.exports=o},function(e,t,n){"use strict";var i=n(359),r=n(614),o=n(615),a=n(343),s=a(function(e){return o(e)}),l={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&(t+=s(n)+":",t+=r(n,i)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=r(o,t[o]);if(a)n[o]=a;else{var s=i.shorthandPropertyExpansions[o];if(s)for(var l in s)n[l]="";else n[o]=""}}}};e.exports=l},function(e,t,n){"use strict";function i(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[i(t,e)]=r[e]})});var a={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:a};e.exports=s},function(e,t,n){"use strict";function i(e,t,n){m.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:g.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function r(e,t,n){m.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function o(e,t){m.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function a(e,t){m.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){m.length&&(u.BackendIDOperations.dangerouslyProcessChildrenUpdates(m,g),l())}function l(){m.length=0,g.length=0}var u=n(85),c=n(361),d=n(617),h=n(116),p=n(163),f=0,m=[],g=[],v={Mixin:{mountChildren:function(e,t){var n=d(e),i=[],r=0;this._renderedChildren=n;for(var o in n){var a=n[o];if(n.hasOwnProperty(o)){var s=h(a);n[o]=s;var l=this._rootNodeID+o,u=s.mountComponent(l,t,this._mountDepth+1);s._mountIndex=r,i.push(u),r++}}return i},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(e),t=!1}finally{--f||(t?l():s())}},updateChildren:function(e,t){f++;var n=!0;try{this._updateChildren(e,t),n=!1}finally{--f||(n?l():s())}},_updateChildren:function(e,t){var n=d(e),i=this._renderedChildren;if(n||i){var r,o=0,a=0;for(r in n)if(n.hasOwnProperty(r)){var s=i&&i[r],l=s&&s._descriptor,u=n[r];if(p(l,u))this.moveChild(s,a,o),o=Math.max(s._mountIndex,o),s.receiveComponent(u,t),s._mountIndex=a;else{s&&(o=Math.max(s._mountIndex,o),this._unmountChildByName(s,r));var c=h(u);this._mountChildByNameAtIndex(c,r,a,t)}a++}for(r in i)!i.hasOwnProperty(r)||n&&n[r]||this._unmountChildByName(i[r],r)}},unmountChildren:function(){var e=this._renderedChildren;for(var t in e){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){i(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i){var r=this._rootNodeID+t,o=e.mountComponent(r,i,this._mountDepth+1);e._mountIndex=n,this.createChild(e,o),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[t]=e},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null,e.unmountComponent(),delete this._renderedChildren[t]}}};e.exports=v},function(e,t,n){"use strict";var i=n(73),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";function i(e){return e&&("INPUT"===e.nodeName&&r[e.type]||"TEXTAREA"===e.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=i},function(e,t,n){"use strict";function i(e){e.disabled||e.focus()}e.exports=i},function(e,t){function n(){try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){function i(e){return o(!!a),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var r=n(27),o=n(7),a=r.canUseDOM?document.createElement("div"):null,s={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c,circle:d,defs:d,ellipse:d,g:d,line:d,linearGradient:d,path:d,polygon:d,polyline:d,radialGradient:d,rect:d,stop:d,text:d};e.exports=i},function(e,t,n){"use strict";var i=n(27),r=function(e,t){e.innerHTML=t};if(i.canUseDOM){var o=document.createElement("div");o.innerHTML=" ",""===o.innerHTML&&(r=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),t.match(/^[ \r\n\t\f]/)||"<"===t[0]&&(-1!==t.indexOf("<noscript")||-1!==t.indexOf("<script")||-1!==t.indexOf("<style")||-1!==t.indexOf("<meta")||-1!==t.indexOf("<link"))){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=r},function(e,t,n){"use strict";var i=n(638),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return e.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(r.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),i(e)===n}};e.exports=r},function(e,t,n){"use strict";function i(){this.listenersToPut=[]}var r=n(58),o=n(83);n(47)(i,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];o.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){e.remove()}var r=n(83),o=n(157),a=n(158),s=n(7),l={trapBubbledEvent:function(e,t){s(this.isMounted());var n=r.trapBubbledEvent(e,t,this.getDOMNode());this._localEventListeners=o(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,i)}};e.exports=l},function(e,t,n){"use strict";function i(e){function t(t,n,i,r,o){if(r=r||v,null!=n[i])return e(n,i,r,o);var a=m[o];return t?new Error("Required "+a+" `"+i+"` was not specified in `"+r+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,i,r){var o=t[n];if(h(o)!==e){var a=m[r],s=p(o);return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` supplied to `"+i+"`, expected `"+e+"`.")}}return i(t)}function o(e){function t(t,n,i,r){var o=t[n];if(!Array.isArray(o)){var a=m[r],s=h(o);return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<o.length;l++){var u=e(o,l,i,r);if(u instanceof Error)return u}}return i(t)}function a(e){function t(t,n,i,r){if(!(t[n]instanceof e)){var o=m[r],a=e.name||v;return new Error("Invalid "+o+" `"+n+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}}return i(t)}function s(e){function t(t,n,i,r){for(var o=t[n],a=0;a<e.length;a++)if(o===e[a])return;var s=m[r],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` supplied to `"+i+"`, expected one of "+l+".")}return i(t)}function l(e){function t(t,n,i,r){var o=t[n],a=h(o);if("object"!==a){var s=m[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` supplied to `"+i+"`, expected an object.")}for(var l in o)if(o.hasOwnProperty(l)){var u=e(o,l,i,r);if(u instanceof Error)return u}}return i(t)}function u(e){function t(t,n,i,r){for(var o=0;o<e.length;o++)if(null==(0,e[o])(t,n,i,r))return;var a=m[r];return new Error("Invalid "+a+" `"+n+"` supplied to `"+i+"`.")}return i(t)}function c(e){function t(t,n,i,r){var o=t[n],a=h(o);if("object"!==a){var s=m[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` supplied to `"+i+"`, expected `object`.")}for(var l in e){var u=e[l];if(u){var c=u(o,l,i,r);if(c)return c}}}return i(t,"expected `object`")}function d(e){switch(typeof e){case"number":case"string":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(f.isValidDescriptor(e))return!0;for(var t in e)if(!d(e[t]))return!1;return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function p(e){var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var f=n(46),m=n(355),g=n(52),v="<<anonymous>>",y={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:function(){return i(g.thatReturns())}(),arrayOf:o,component:function(){function e(e,t,n,i){if(!f.isValidDescriptor(e[t])){var r=m[i];return new Error("Invalid "+r+" `"+t+"` supplied to `"+n+"`, expected a React component.")}}return i(e)}(),instanceOf:a,objectOf:l,oneOf:s,oneOfType:u,renderable:function(){function e(e,t,n,i){if(!d(e[t])){var r=m[i];return new Error("Invalid "+r+" `"+t+"` supplied to `"+n+"`, expected a renderable prop.")}}return i(e)}(),shape:c};e.exports=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=i(o),s=n(115),l=i(s),u=n(88),c=i(u);r.prototype.DataTypeViewMixin=c.default,r.prototype.DataStore=a.default,r.prototype.React=l.default,t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(9),s=i(a),l=n(115),u=i(l),c=function(){function e(){r(this,e)}return o(e,[{key:"React",get:function(){return u.default}},{key:"DataStore",get:function(){return s.default}}]),e}();t.default=c},function(e,t,n){"use strict";(function(n,i){var r,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,i){"object"==s(t)&&void 0!==e?i(t):(o=[t],r=i,void 0!==(a="function"==typeof r?r.apply(t,o):r)&&(e.exports=a))}(0,function(e){function t(e){if(void 0===e||"object"!=(void 0===e?"undefined":s(e)))return e;if(Array.isArray(e))return[].concat(e);if("object"==(void 0===e?"undefined":s(e))){var n={};for(var i in e)n[i]=t(e[i]);return n}return e}function r(e,t,n,i){var o=n[e],a=i[e];if("string"==typeof o&&"string"==typeof a){var l=o.match(A).map(function(e){return P(e)?e:+e}),u=a.match(A).map(function(e,t){return P(e)?e:+e});return l.unshift(D),n[e]=l,i[e]=u,!0}if("object"==(void 0===o?"undefined":s(o))&&"object"==(void 0===a?"undefined":s(a))){if(Array.isArray(o))return o.map(function(n,i){return r(i,t[e],o,a)});for(var c in a)r(c,t[e],o,a);return!0}return!1}function o(e,t,n,i,r,a){var l=n[e],u=i[e];if(void 0===u)return l;if(void 0===l||"string"==typeof l||l===u)return u;if("object"==(void 0===l?"undefined":s(l))&&"object"==(void 0===u?"undefined":s(u))){if(!l||!u)return t[e];if(l[0]===D){for(var c="",d=1,h=l.length;d<h;d++)p="string"==typeof u[d-1],c+="number"!=typeof u[d-1]?l[d]:((p?l[d]+ +u[d-1]:l[d]+(u[d-1]-l[d])*r)*k|0)/k,1===a&&(l[d]=l[d]+ +u[d-1]);return t[e]=c,c}if(Array.isArray(l))for(var d=0,h=l.length;d<h;d++)l[d]!==u[d]&&o(d,t[e],l,u,r,a);else for(var d in l)l[d]!==u[d]&&o(d,t[e],l,u,r,a)}else if("number"==typeof l){var p="string"==typeof u;t[e]=((p?l+ +u*r:l+(u-l)*r)*k|0)/k,p&&1===a&&(n[e]=t[e])}else"function"==typeof u&&(t[e]=u(r));return t[e]}var a,l="undefined"!=typeof window?window:void 0!==n?n:this,u=l.requestAnimationFrame||function(e){return l.setTimeout(e,16)},c=l.cancelAnimationFrame||function(e){return l.clearTimeout(e)},d=function(){if(void 0!==i&&void 0!==i.hrtime)return function(){var e=i.hrtime();return 1e3*e[0]+e[1]/1e6};if(void 0!==l.performance&&void 0!==l.performance.now)return l.performance.now.bind(l.performance);var e=l.performance&&l.performance.timing&&l.performance.timing.navigationStart?l.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}(),h=[],p=!1,f=!1,m=u,g=c,v=0,y=function(e){var t=h.indexOf(e);if(t>-1&&h.splice(t,1),h.length>0){t=h.length-1;var n=h[t];e.prev=n,n.next=e}h.push(e),v=0,f&&!p&&(a=m(w),p=!0)},_=function(e){for(var t=0;t<h.length;t++)if(e===h[t])return h[t];return null},b=function(e){var t=h.indexOf(e);-1!==t&&h.splice(t,1)},w=function e(t,n){if(t=void 0!==t?t:d(),f&&p&&(a=m(e)),h.length||v++,v>120)return g(a),p=!1,v=0,!1;for(var i=0;i<h.length;)h[i++].update(t,n);return!0},M={},x={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-x.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*x.Bounce.In(2*e):.5*x.Bounce.Out(2*e-1)+.5}},Stepped:{steps:function(e){return function(t){return(t*e|0)/e}}}},S={Linear:function(e,t,n){var i=e.length-1,r=i*t,o=Math.floor(r),a=S.Utils.Linear;return t<0?a(e[0],e[1],r,n):t>1?a(e[i],e[i-1],i-r,n):a(e[o],e[o+1>i?i:o+1],r-o,n)},Bezier:function(e,t,n){for(var i=0,r=e.length-1,o=Math.pow,a=S.Utils.Bernstein,s=0;s<=r;s++)i+=o(1-t,r-s)*o(t,s)*e[s]*a(r,s);return i},CatmullRom:function(e,t,n){var i=e.length-1,r=i*t,o=Math.floor(r),a=S.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(o=Math.floor(r=i*(1+t))),a(e[(o-1+i)%i],e[o],e[(o+1)%i],e[(o+2)%i],r-o,n)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r,n)-e[0]):t>1?e[i]-(a(e[i],e[i],e[i-1],e[i-1],r-i,n)-e[i]):a(e[o?o-1:0],e[o],e[i<o+1?i:o+1],e[i<o+2?i:o+2],r-o,n)},Utils:{Linear:function(e,t,n,i){if("string"==typeof i)return t;if("number"==typeof i)return"function"==typeof e?e(n):(t-e)*n+e;if("object"==(void 0===i?"undefined":s(i))){if(void 0!==i.length)for(var r=0,o=i.length;r<o;r++)i[r]=S.Utils.Linear(e[r],t[r],n,i[r]);else for(var r in i)i[r]=S.Utils.Linear(e[r],t[r],n,i[r]);return i}},Bernstein:function(e,t){var n=S.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom:function(e,t,n,i,r,o){if("string"==typeof o)return t;if("number"==typeof o){var a=.5*(n-e),l=.5*(i-t),u=r*r;return(2*t-2*n+a+l)*(r*u)+(-3*t+3*n-2*a-l)*u+a*r+t}if("object"==(void 0===o?"undefined":s(o))){if(void 0!==o.length)for(var c=0,d=o.length;c<d;c++)o[c]=S.Utils.CatmullRom(e[c],t[c],n[c],i[c],r,o[c]);else for(var c in o)o[c]=S.Utils.CatmullRom(e[c],t[c],n[c],i[c],r,o[c]);return o}}}},E=function(){function e(){this.totalTime=0,this.labels=[],this.offsets=[]}return e.prototype.parseLabel=function(e,t){var n=this,i=n.offsets,r=n.labels,o=r.indexOf(e);if("string"==typeof e&&-1!==e.indexOf("=")&&!t&&-1===o){var a=e.substr(e.indexOf("=")-1,2),s=e.split(a);t=2===s.length?a+s[1]:null,e=s[0],o=r.indexOf(e)}if(-1!==o&&e){var l=i[o]||0;if("number"==typeof t)l=t;else if("string"==typeof t&&-1!==t.indexOf("=")){var u=t.charAt(0);t=Number(t.substr(2)),"+"===u||"-"===u?l+=parseFloat(u+t):"*"===u?l*=t:"/"===u?l/=t:"%"===u&&(l*=t/100)}return l}return"number"==typeof t?t:0},e.prototype.addLabel=function(e,t){return this.labels.push(e),this.offsets.push(this.parseLabel(e,t)),this},e.prototype.setLabel=function(e,t){var n=this.labels.indexOf(e);return-1!==n&&this.offsets.splice(n,1,this.parseLabel(e,t)),this},e.prototype.eraseLabel=function(e){var t=this.labels.indexOf(e);return-1!==t&&(this.labels.splice(t,1),this.offsets.splice(t,1)),this},e}(),T={},C=function(e,t,n){if(!e||!e.nodeType)return t;var i=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=i);var r=T[i];if(r){if(r.object!==t||e!==r.tween.node||n._startTime!==r.tween._startTime){for(var o in t)o in r.object&&(n._startTime===r.tween._startTime?delete r.object[o]:r.propNormaliseRequired=!0);return t}return b(r.tween),r.object}return T[i]={tween:n,object:t,propNormaliseRequired:!1},T[i].object},L=function(e,t){return t?e?e===window||e===document?[e]:"string"==typeof e?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:[]:null:e?e===window||e===document?e:"string"==typeof e?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType?e:null:null},D="STRING_PROP",A=/\s+|([A-Za-z?().,{}:""[\]#\%]+)|([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P=function(e){return isNaN(+e)||"+"===e[0]||"-"===e[0]||""===e||" "===e},k=Math.pow(10,4),O=/([.\[])/g,I=/\]/g,R=function(e,t){var n=e[t],i=t.replace(I,"").split(O),r=i.length-1,o=Array.isArray(e),a="object"==(void 0===e?"undefined":s(e))&&!o;return a?(e[t]=null,delete e[t]):o&&e.splice(t,1),i.reduce(function(e,t,s){o&&"."!==t&&"["!==t&&(t*=1);var l="["===i[s+1];if("."===t||"["===t)return"."===t?(a=!0,o=!1):"["===t&&(a=!1,o=!0),e;if(void 0===e[t]){if(o||a)return e[t]=s===r?n:o||l?[]:a?{}:null,a=o=!1,e[t]}else if(void 0!==e[t])return s===r&&(e[t]=n),e[t];return e},e)},N=function(e){if("object"==(void 0===e?"undefined":s(e))&&e)for(var t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))R(e,t);else if("object"==s(e[t])&&e[t]){var n=e[t];for(var i in n)if(-1!==i.indexOf(".")||-1!==i.indexOf("["))R(n,i);else if("object"==s(n[i])&&n[i]){var r=n[i];for(var o in r)-1===o.indexOf(".")&&-1===o.indexOf("[")||R(r,o)}}return e},B=0,j=x.Linear.None,F=function(){function e(e,t){return this._chainedTweensCount=0,this.id=B++,!e||"object"!=(void 0===e?"undefined":s(e))||t||e.nodeType?e&&(e.nodeType||e.length||"string"==typeof e)&&(e=this.node=L(e),t=this.object=C(e,t,this)):(t=this.object=e,e=null),this._valuesEnd=null,this._valuesStart={},this._duration=1e3,this._easingFunction=j,this._easingReverse=j,this._interpolationFunction=S.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._prevTime=null,this}return e.fromTo=function(t,n,i,r){void 0===r&&(r={}),r.quickRender=r.quickRender?r.quickRender:!i;var o=new e(t,n).to(i,r);return r.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o},e.to=function(t,n,i){return e.fromTo(t,null,n,i)},e.from=function(t,n,i){return e.fromTo(t,n,null,i)},e.prototype.setMaxListener=function(e){return void 0===e&&(e=15),this._maxListener=e,this},e.prototype.on=function(e,t){for(var n=this._maxListener,i=e+"Callback",r=0;r<n;r++){var o=i+r;if(!this[o]){this[o]=t;break}}return this},e.prototype.once=function(e,t){return this},e.prototype.off=function(e,t){for(var n=this._maxListener,i=e+"Callback",r=0;r<n;r++){var o=i+r;this[o]===t&&(this[o]=null)}return this},e.prototype.emit=function(e,t,n,i,r){var o=this._maxListener,a=e+"Callback";if(!this[a+0])return this;for(var s=0;s<o;s++){var l=a+s;this[l]&&this[l](t,n,i,r)}return this},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isStarted=function(){return this._onStartCallbackFired},e.prototype.reverse=function(e){var t=this._reversed;return this._reversed=void 0!==e?e:!t,this},e.prototype.reversed=function(){return this._reversed},e.prototype.pause=function(){return this._isPlaying?(this._isPlaying=!1,b(this),this._pausedTime=d(),this.emit("pause",this.object)):this},e.prototype.play=function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=d()-this._pausedTime,this._initTime=this._startTime,y(this),this._pausedTime=d(),this.emit("play",this.object))},e.prototype.restart=function(e){return this._repeat=this._r,this.reassignValues(),y(this),this.emit("restart",this.object)},e.prototype.seek=function(e,t){var n=this,i=n._duration,r=(n._repeat,n._initTime),o=n._startTime,a=(n._delayTime,n._reversed),s=r+e;return this._isPlaying=!0,s<o&&o>=r&&(this._startTime-=i,this._reversed=!a),this.update(e,!1),this.emit("seek",e,this.object),t?this:this.pause()},e.prototype.duration=function(e){return this._duration="function"==typeof e?e(this._duration):e,this},e.prototype.to=function(e,t,n){if(void 0===t&&(t=1e3),this._valuesEnd=e,"number"==typeof t||"function"==typeof t)this._duration="function"==typeof t?t(this._duration):t;else if("object"==(void 0===t?"undefined":s(t)))for(var i in t)if("function"==typeof this[i]){var r=Array.isArray(t[i])?t[i]:[t[i]],o=r[0],a=void 0===o?null:o,l=r[1],u=void 0===l?null:l,c=r[2],d=void 0===c?null:c,h=r[3],p=void 0===h?null:h;this[i](a,u,d,p)}return this},e.prototype.render=function(){if(this._rendered)return this;var e=this,n=e._valuesStart,i=e._valuesEnd,o=e.object,a=e.Renderer,s=e.node,l=e.InitialValues;if(s&&s.queueID&&T[s.queueID]){var u=T[s.queueID];if(u.propNormaliseRequired&&u.tween!==this){for(var c in i)void 0!==u.tween._valuesEnd[c]&&delete u.tween._valuesEnd[c];u.normalisedProp=!0,u.propNormaliseRequired=!1}}N(o),N(i),s&&l&&(o?i||(i=this._valuesEnd=l(s,o)):o=this.object=C(s,l(s,i),this));for(var c in i){var d=o&&o[c],h=i[c];if(M[c]){var p=M[c].prototype.update?new M[c](this,d,h,c,o):M[c](this,d,h,c,o);p&&(i[c]=p)}else"number"==typeof d&&isNaN(d)||null===d||null===h||void 0===d||void 0===h||d===h||(Array.isArray(h)&&!Array.isArray(d)&&h.unshift(d),n[c]=t(d),r(c,o,n,i))}return a&&this.node&&(this.__render=new a(this,o,i)),this},e.prototype.start=function(e){return this._startTime=void 0!==e?"string"==typeof e?d()+parseFloat(e):e:d(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,y(this),this},e.prototype.stop=function(){var e=this,t=e._isPlaying,n=e._isFinite,i=e.object,r=e._startTime,o=(e._delayTime,e._duration),a=e._r,s=e._yoyo,l=e._reversed;if(!t)return this;var u=n?(a+1)%2==1:!l;return this._reversed=!1,s&&u?this.update(r):this.update(r+o),b(this),this.emit("stop",i)},e.prototype.delay=function(e){return this._delayTime="function"==typeof e?e(this._delayTime):e,this},e.prototype.chainedTweens=function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var e=0,t=this._chainedTweensCount;e<t;e++)this["_chainedTweens"+e]=arguments[e];return this},e.prototype.repeat=function(e){return this._repeat=this._duration?"function"==typeof e?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this},e.prototype.reverseDelay=function(e){return this._reverseDelayTime="function"==typeof e?e(this._reverseDelayTime):e,this},e.prototype.yoyo=function(e,t){return this._yoyo="function"==typeof e?e(this._yoyo):null===e?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=t||null,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return"function"==typeof e&&(this._interpolationFunction=e),this},e.prototype.reassignValues=function(e){var t=this,n=t._valuesStart,i=t.object,r=t._delayTime;this._isPlaying=!0,this._startTime=void 0!==e?e:d(),this._startTime+=r,this._reversed=!1,y(this);for(var o in n){var a=n[o];i[o]=a}return this},e.prototype.update=function(e,t,n){var i,r,a,s=this,l=s._onStartCallbackFired,u=s._easingFunction,c=s._interpolationFunction,h=s._easingReverse,p=s._repeat,f=s._delayTime,m=s._reverseDelayTime,g=s._yoyo,v=s._reversed,y=s._startTime,_=s._prevTime,w=s._duration,M=s._valuesStart,x=s._valuesEnd,S=s.object,E=s._isFinite,T=s._isPlaying,C=s.__render,L=s._chainedTweensCount,D=0;if(w){var A=(e=void 0!==e?e:d())-_;if(A>250&&(e+=A-50/3),this._prevTime=e,!T||e<y&&!n)return!0;i=(i=(e-y)/w)>1?1:i,i=v?1-i:i}else i=1;if(l||(this._rendered||(this.render(),this._rendered=!0),this.emit("start",S),this._onStartCallbackFired=!0),r=v?h||u:u,!S)return!0;for(a in x){var P=M[a];if(void 0!==P&&null!==P){var O=x[a],I=r[a]?r[a](i):"function"==typeof r?r(i):j(i);"number"==typeof O?S[a]=((P+(O-P)*I)*k|0)/k:Array.isArray(O)&&!Array.isArray(P)?S[a]=c(O,I,S[a]):O&&O.update?O.update(I):"function"==typeof O?S[a]=O(I):o(a,S,M,x,I,i),D++}}if(!D)return b(this),!1;if(C&&C.update(S,i),this.emit("update",S,i,e),1===i||v&&!i){if(p>0&&w>0)return E&&this._repeat--,g&&(this._reversed=!v),this.emit(g&&!v?"reverse":"repeat",S),this._startTime=v&&m?e-m:e+f,!0;if(t||(this._isPlaying=!1,b(this),B--),this.emit("complete",S),this._repeat=this._r,L)for(var R=0;R<L;R++)this["_chainedTweens"+R].start(e+w);return!1}return!0},e}(),Y=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U=function(e){var t,n,i;for(i=e.length;i;i-=1)t=Math.floor(Math.random()*i),n=e[i-1],e[i-1]=e[t],e[t]=n;return e},H=0,V=function(e){function t(t){var n=e.call(this)||this;return n._duration=0,n._startTime=d(),n._tweens=[],n.elapsed=0,n._id=H++,n._defaultParams=t,n.position=new E,n.position.addLabel("afterLast",n._duration),n.position.addLabel("afterInit",n._startTime),n}return Y(t,e),t.prototype.mapTotal=function(e){return e.call(this,this._tweens),this},t.prototype.timingOrder=function(e){var t=e(this._tweens.map(function(e){return e._startTime}));return this._tweens.map(function(e,n){e._startTime=t[n]}),this},t.prototype.getTiming=function(e,t,n,i){if(void 0===i&&(i=0),"reverse"===e){var r=n.stagger,o=(r||0)*(t.length-1);return t.map(function(e,t){return o-(r||0)*t+i})}if("async"===e)return t.map(function(e){return i});if("sequence"===e||"delayed"===e){var a=n.stagger;return a||(a=(n.duration||1e3)/(t.length-1)),t.map(function(e,t){return a*t+i})}if("oneByOne"===e)return t.map(function(e){return n.duration});if("shuffle"===e){var s=n.stagger;return U(t.map(function(e,t){return(s||0)*t+i}))}var l=n.stagger;return t.map(function(e,t){return(l||0)*t+i})},t.prototype.fromTo=function(e,t,n,i){if((e=L(e,!0))&&e.length){this._defaultParams&&(i=z({},this._defaultParams,i));for(var r=i.label,o="number"==typeof r?r:this.position.parseLabel(void 0!==r?r:"afterLast",null),a=this.getTiming(i.mode,e,i,o),s=0,l=void 0,u=e.length;s<u;s++)l=e[s],this.add(F.fromTo(l,"function"==typeof t?t(s,e.length):z({},t),"function"==typeof n?n(s,e.length):n,"function"==typeof i?i(s,e.length):i),a[s])}return this.start()},t.prototype.from=function(e,t,n){return this.fromTo(e,t,null,n)},t.prototype.to=function(e,t,n){return this.fromTo(e,null,t,n)},t.prototype.addLabel=function(e,t){return this.position.addLabel(e,t),this},t.prototype.map=function(e){for(var t=0,n=this._tweens.length;t<n;t++){var i=this._tweens[t];e(i,t),this._duration=Math.max(this._duration,i._duration+i._startTime)}return this},t.prototype.add=function(e,t){var n=this;if(Array.isArray(e))return e.map(function(e){n.add(e,t)}),this;"object"!=(void 0===e?"undefined":s(e))||e instanceof F||(e=new F(e.from).to(e.to,e));var i=this,r=i._defaultParams,o=i._duration;if(r)for(var a in r)"function"==typeof e[a]&&e[a](r[a]);var l="number"==typeof t?t:this.position.parseLabel(void 0!==t?t:"afterLast",null);return e._startTime=Math.max(this._startTime,e._delayTime,l),e._delayTime=l,e._isPlaying=!0,this._duration=Math.max(o,e._startTime+e._delayTime+e._duration),this._tweens.push(e),this.position.setLabel("afterLast",this._duration),this},t.prototype.restart=function(){return this._startTime+=d(),y(this),this.emit("restart")},t.prototype.easing=function(e){return this.map(function(t){return t.easing(e)})},t.prototype.interpolation=function(e){return this.map(function(t){return t.interpolation(e)})},t.prototype.update=function(e){var t=this,n=t._tweens,i=t._duration,r=t._reverseDelayTime,o=t._startTime,a=t._reversed,s=t._yoyo,l=t._repeat,u=t._isFinite;if(!t._isPlaying||e<o)return!0;var c=(e-o)/i;c=c>1?1:c,c=a?1-c:c,this.elapsed=c;for(var d=e-o,h=a?i-d:d,p=0;p<n.length;)n[p].update(h),p++;if(this.emit("update",c,d),1===c||a&&0===c){if(l){for(u&&this._repeat--,this.emit(a?"reverse":"repeat"),s&&(this._reversed=!a,this.timingOrder(function(e){return e.reverse()})),this._startTime=a&&r?e+r:e,p=0;p<n.length;)n[p].reassignValues(e),p++;return!0}return this.emit("complete"),this._repeat=this._r,b(this),this._isPlaying=!1,!1}return!0},t.prototype.progress=function(e){return void 0!==e?this.update(e*this._duration):this.elapsed},t}(F);e.Plugins=M,e.Selector=L,e.onTick=function(e){return h.push({update:e})},e.has=function(e){return null!==_(e)},e.get=_,e.getAll=function(){return h},e.removeAll=function(){h.length=0},e.remove=b,e.add=y,e.now=d,e.update=w,e.autoPlay=function(e){f=e},e.isRunning=function(){return p},e.Tween=F,e.Easing=x,e.Interpolation=S,e.Timeline=V,Object.defineProperty(e,"__esModule",{value:!0})})}).call(t,n(90),n(670))},function(e,t,n){"use strict";function i(){return a.ViewManager.currentView}Object.defineProperty(t,"__esModule",{value:!0});var r,o=(n(2),n(3),n(22)),a=n(61),s=n(9),l=(function(e){e&&e.__esModule}(s),n(6)),u=l.Helpers.augment(Object,function(){this.constructor=function(e){r=this,r.url=e.url},this.requestSnapshots=function(e){o.Ajax.getJSON(r.url,e)},this.requestSnapshot=function(e,t){o.Ajax.getJSON(r.url+"/"+e,t)},this.saveSnapshot=function(e,t,n){o.Ajax.post(r.url,t,n)},this.deleteSnapshot=function(e,t){o.Ajax.remove(r.url+"/"+e,t)},this.buildSnapshot=function(e,t){return i(),{name:e,filter:t.filter,view:t.view,sort:t.sortColumnName,group:t.group,searchTags:t.searchTags,filterTags:t.filterTags,activeFilterTags:t.activeFilterTags}}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(675);Object.defineProperty(t,"BloomPass",{enumerable:!0,get:function(){return i.BloomPass}});var r=n(171);Object.defineProperty(t,"BlurPass",{enumerable:!0,get:function(){return r.BlurPass}});var o=n(693);Object.defineProperty(t,"BokehPass",{enumerable:!0,get:function(){return o.BokehPass}});var a=n(694);Object.defineProperty(t,"Bokeh2Pass",{enumerable:!0,get:function(){return a.Bokeh2Pass}});var s=n(695);Object.defineProperty(t,"ClearMaskPass",{enumerable:!0,get:function(){return s.ClearMaskPass}});var l=n(376);Object.defineProperty(t,"ClearPass",{enumerable:!0,get:function(){return l.ClearPass}});var u=n(696);Object.defineProperty(t,"DotScreenPass",{enumerable:!0,get:function(){return u.DotScreenPass}});var c=n(697);Object.defineProperty(t,"FilmPass",{enumerable:!0,get:function(){return c.FilmPass}});var d=n(698);Object.defineProperty(t,"GlitchMode",{enumerable:!0,get:function(){return d.GlitchMode}}),Object.defineProperty(t,"GlitchPass",{enumerable:!0,get:function(){return d.GlitchPass}});var h=n(699);Object.defineProperty(t,"GodRaysPass",{enumerable:!0,get:function(){return h.GodRaysPass}});var p=n(700);Object.defineProperty(t,"MaskPass",{enumerable:!0,get:function(){return p.MaskPass}});var f=n(17);Object.defineProperty(t,"Pass",{enumerable:!0,get:function(){return f.Pass}});var m=n(701);Object.defineProperty(t,"PixelationPass",{enumerable:!0,get:function(){return m.PixelationPass}});var g=n(377);Object.defineProperty(t,"RenderPass",{enumerable:!0,get:function(){return g.RenderPass}});var v=n(702);Object.defineProperty(t,"SavePass",{enumerable:!0,get:function(){return v.SavePass}});var y=n(703);Object.defineProperty(t,"ShaderPass",{enumerable:!0,get:function(){return y.ShaderPass}});var _=n(704);Object.defineProperty(t,"ShockWavePass",{enumerable:!0,get:function(){return _.ShockWavePass}});var b=n(705);Object.defineProperty(t,"SMAAPass",{enumerable:!0,get:function(){return b.SMAAPass}});var w=n(708);Object.defineProperty(t,"TexturePass",{enumerable:!0,get:function(){return w.TexturePass}});var M=n(709);Object.defineProperty(t,"ToneMappingPass",{enumerable:!0,get:function(){return M.ToneMappingPass}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ClearPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(17),u=new s.Color;t.ClearPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,null));return n.name="ClearPass",n.clearColor=void 0!==e.clearColor?e.clearColor:null,n.clearAlpha=void 0!==e.clearAlpha?e.clearAlpha:0,n}return o(t,e),a(t,[{key:"render",value:function(e,t){var n=this.clearColor,i=void 0;null!==n&&(u.copy(e.getClearColor()),i=e.getClearAlpha(),e.setClearColor(n,this.clearAlpha)),e.setRenderTarget(this.renderToScreen?null:t),e.clear(),null!==n&&e.setClearColor(u,i)}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(376),l=n(17);t.RenderPass=function(e){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,null));return a.name="RenderPass",a.clearPass=new s.ClearPass(o),a.overrideMaterial=void 0!==o.overrideMaterial?o.overrideMaterial:null,a.clearDepth=void 0!==o.clearDepth&&o.clearDepth,a.clear=void 0===o.clear||o.clear,a}return o(t,e),a(t,[{key:"render",value:function(e,t){var n=this.scene,i=this.renderToScreen?null:t;this.clear?this.clearPass.render(e,i):this.clearDepth&&(e.setRenderTarget(i),e.clearDepth()),n.overrideMaterial=this.overrideMaterial,e.render(n,this.camera,i),n.overrideMaterial=null}}]),t}(l.Pass)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEFT_TOOLBAR_WIDTH=60,t.LEFT_PANEL_WIDTH=275},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(6),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={getInitialState:function(){return{binned:null,min:-1/0,max:1/0,showBreadcrumb:!1,rangeStart:null,rangeEnd:null,precision:null}},getDefaultProps:function(){return{inModal:!1}},componentDidMount:function(){i.Events.addListener("filter.clear."+this.props.facetCategory,function(){this.props.privateData=null}.bind(this))},checkNumericPrecision:function(e){var t,n,i,o=!1;return n=[e[0].value,e[e.length-1].value,e[Math.floor((e.length-1)/2)].value],t=r.Helpers.getMaxFloatingPrecision(n),t>0&&(o=!0),i=Math.pow(10,t),{isFacetFloating:o,floatingPrecision:t,roundingPower:i}},setRange:function(e,t,n){function i(e,t){return e===this.state.min&&t===this.state.max}var r,o,s=this.props.facetCategory,l=a.default.getValuesFromCategory(s),u=!1;if(r=[e,t],a.default.isCategoryInFilter(s),null===e)return u=a.default.addToFilter(s,null,"range"),void this.props.filterChanged();i.call(this,r[0],r[1])?(a.default.removeCategoryFromFilter(s),u=!0):function(e){var t=e[0],n=e[1];if(a.default.isInFilter(s,"values")){if(l&&0===l.length)return!0;if(t!==l[0][0]||n!==l[0][1])return!0}return!0}(r)&&(o=a.default.getExcludeNullFromCategory(s),a.default.isInFilter(s,null)||(o=!0),a.default.removeCategoryFromFilter(s),u=a.default.addToFilter(s,r,"range",o)),u&&!this.props.inModal?this.props.filterChanged():this.forceUpdate()},onChange:function(e){var t=e.target.checked,n=!1,i=e.target.value,r=this.props.facetCategory,o=a.default.getValuesFromCategory(r),s=a.default.getFilterCategoryType(r);"NULL"===i&&(i=null),t?(a.default.removeCategoryFromFilter(r),n="range"===s?a.default.addToFilter(r,o[0],"range",!1):a.default.addToFilter(r,i,"equal")):(n=a.default.removeCategoryFromFilter(r),"range"===s&&(n=a.default.addToFilter(r,o[0],"range",!0))),n&&!this.props.inModal?this.props.filterChanged():this.forceUpdate()},getIncludedData:function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)t=e[i],!isNaN(t.value)&&t.count>0&&n.push(t);return n},getMinMax:function(e){for(var t={min:null,max:null,count:0},n=0,i=e.length;n<i;n++)e[n].count>0&&(t.min=null==t.min?e[n].value:Math.min(t.min,null===e[n].value?t.min:e[n].value),t.max=null==t.max?e[n].value:Math.max(t.max,e[n].value),t.count++);return t},getBinnedData:function(e,t){var n,i,o=[],t=void 0!==t?t:"Number";for(n=0,i=e.length;n<i;n++){var a=e[n];a.elements=new Array(a.count),"Infinity"!==a.value?o.push(a.value):o.push(null)}o=o.sort(function(e,t){return null===e?-1:null===t?1:e-t});var s=r.Helpers.getBinWidth(o,!0,t);return r.Helpers.getBins(e,"Number",s,"elements")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(n(2),n(6),n(9)),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={getNumericFacets:function(){return r.default.getFacetTypes().filter(function(e){return e.displayInFilter&&("Number"===e.type||"Date"===e.type)&&e.name!==this.props.facetCategory}.bind(this)).map(function(e){return{value:e.name,name:e.displayName}})}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(382),a=i(o),s=n(739),l=i(s),u=n(4),c=i(u);i(n(211)),n(2),r.prototype.UI=c.default.createClass({displayName:"ui/toolbars/Header",render:function(){var e=(new l.default).UI(null),t=(new a.default).UI(null);return c.default.DOM.div({id:"zeg-header",role:"navigation"},e,t)}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(726),l=i(s),u=n(383),c=(i(u),n(3)),d=n(2),h=n(727),p=i(h),f=n(385),m=(i(f),n(61),n(729));r.prototype.UI=a.default.createClass({displayName:"ui/toolbars/Main",getInitialState:function(){return{selectedView:null,legendShow:!1,legendActive:!1,multiTileSources:!1}},componentDidMount:function(){d.Events.on("view.hide",function(){this.setState({legendShow:!1}),d.Events.emitEvent("legend.hide")}.bind(this)),d.Events.on("legend.request",function(e,t,n){n||d.Events.emitEvent("legend.show"),this.setState({legendShow:!0})}.bind(this)),d.Events.on("view.show",function(e){void 0!==e.tileManager&&e.tileManager.sources.length>1&&self.setState({multiTileSources:!0})})},render:function(){this.itemCount=(new l.default).UI(null),this.zoomToolbar=new p.default(null);for(var e=c.Config.properties(),t=e.toolbar,n=e.title,i={},r=0;r<t.length;r++){var o=t[r];if("type"in o&&o.type in m.ToolbarButtonManager.Buttons){var s=new m.ToolbarButtonManager.Buttons[o.type],u=a.default.DOM.div({key:"toolbar-button-"+o.type,id:"toolbar-button-"+o.type,className:"toolbar-button-wrapper"},s.reactClass(o));i[o.type]=!0===o.visible?u:null}}return a.default.DOM.div({id:"zeg-toolbar",role:"navigation"},a.default.DOM.div({id:"zeg-header-title",title:n},a.default.DOM.span({},n)),a.default.DOM.div({id:"zeg-toolbar-item-count",className:"zeg-toolbar-item"},this.itemCount),i.selection,i.help,null!=c.Config.properties().description?i.about:null,i.fullscreen,this.state.multiTileSources?i.tilemanagersource:null,this.state.legendShow?i.legend:null,i.share,i.export,i.download,i.snapshot,this.zoomToolbar)}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r),a=n(2),s=n(3),l=n(6),u=n(9),c=i(u),d=n(384),h=i(d),p=n(61),f=n(175),m=(n(22),o.default.createClass({displayName:"utils/ui/DropdownMenu",mixins:[o.default.addons.LinkedStateMixin],getInitialState:function(){return{show:!1,snapshotSave:!1,snapshotLoad:!0,snapshots:[],snapshotName:"",allowCreate:s.Config.properties().isEditable}},componentDidMount:function(){a.Events.addListener("snapshots.toggle",this.onToggleMenu)},componentWillUnmount:function(){a.Events.removeListener("snapshots.toggle",this.onToggleMenu)},render:function(){var e=o.default.addons.classSet,t=null,n=null;this.state.allowCreate&&(t=o.default.DOM.div(null,o.default.DOM.input({ref:"snapshot-name-input",placeholder:s.Config.i18nValue("snapshots-input-placeholder"),onKeyDown:this.onSnapshotKeyPress,valueLink:this.linkState("snapshotName")}),o.default.DOM.a({className:"primary-button",style:{visibility:this.state.snapshotName?"visible":"hidden"},onClick:this.takeSnapshot},s.Config.i18nValue("snapshots-submit-button")),o.default.DOM.i({className:"fa fa-circle-o-notch fa-spin",style:{visibility:this.state.snapshotSave?"visible":"hidden"}})));var i=this.state.snapshots.map(function(e,t){return this.state.allowCreate&&(n=o.default.DOM.li({},o.default.DOM.a({onClick:this.removeSnapshot.bind(null,e.id),title:s.Config.i18nValue("snapshots-remove-button")},o.default.DOM.i({className:"fa fa-close"})))),o.default.DOM.li({key:"dropdown-menu-item-"+t,className:"zeg-snapshot-item"},o.default.DOM.a({className:"zeg-snapshot-name",onClick:this.requestSnapshot.bind(null,e.id)},e.name),o.default.DOM.ul({className:"zeg-snapshot-item-actions push-right"},o.default.DOM.li({},o.default.DOM.a({onClick:this.displaySnapshotLink.bind(null,e.id),title:s.Config.i18nValue("snapshots-link-button")},o.default.DOM.i({className:"fa fa-link"}))),n))}.bind(this)),r=e({open:this.state.show,"zeg-dropdown":!0});return o.default.DOM.div({className:r},o.default.DOM.a({className:"dropdown-toggle",onClick:this.onToggleMenu},this.props.toggleButton),o.default.DOM.div({className:"dropdown-menu",id:this.props.id},t,o.default.DOM.div({className:"divider"}),o.default.DOM.div({className:"dropdown-header"},i.length>0&&!this.state.snapshotLoad?s.Config.i18nValue("snapshots-title"):this.state.snapshotLoad?null:o.default.DOM.p(null,s.Config.i18nValue("snapshots-default-msg"))),o.default.DOM.i({className:"fa fa-circle-o-notch fa-spin",style:{display:this.state.snapshotLoad?"inline-block":"none"}}),o.default.DOM.ul({},i)))},componentDidUpdate:function(){void 0!==this.refs["snapshot-name-input"]&&this.refs["snapshot-name-input"].getDOMNode().focus()},onToggleMenu:function(){this.state.show||0!==this.state.snapshots.length||(this.setState({snapshotLoad:!0}),h.default.service.requestSnapshots(this.getSnapshots)),this.setState({show:!this.state.show})},onSnapshotKeyPress:function(e){13===e.keyCode&&this.takeSnapshot()},getSnapshots:function(e){e="snapshots"in e?e:e.data,this.setState({snapshots:null!=e.snapshots?e.snapshots:[],snapshotLoad:!1})},addLocalSnapshot:function(e,t){var n=this.state.snapshots;t="snapshot"in t?t.snapshot:t.data,e.id=t.id,n.push(e),this.setState({snapshots:n})},removeLocalSnapshot:function(e){this.state.snapshots.every(function(t,n){return t.id!==e||(this.state.snapshots.splice(n,1),this.forceUpdate(),!1)}.bind(this))},takeSnapshot:function(){var e=c.default.getSnapshotDataReadOnly();e.view=p.ViewManager.currentView.name,e.group=p.ViewManager.currentView.viewManager.groupBy;var t=h.default.service.buildSnapshot(this.state.snapshotName,e);if(0===this.state.snapshotName.length)return!1;this.setState({snapshotSave:!0}),h.default.service.saveSnapshot(this.state.snapshotName,t,function(e){e&&(this.addLocalSnapshot(t,e),this.setState({snapshotName:"",snapshotSave:!1}))}.bind(this))},removeSnapshot:function(e){h.default.service.deleteSnapshot(e,function(){this.removeLocalSnapshot(e)}.bind(this))},requestSnapshot:function(e){h.default.service.requestSnapshot(e,this.loadSnapshot)},loadSnapshot:function(e){if("snapshot"in e)h.default.loadSnapshot(e.snapshot);else if(e&&void 0!==e.status&&"success"===e.status&&void 0!==e.data&&e.data.snapshots.length>0){var t=e.data.snapshots[0];h.default.loadSnapshot(t)}this.onToggleMenu()},displaySnapshotLink:function(e){var t=l.Helpers.addUpdateQueryStringParameter(document.URL,"zegid",e),n="<div>"+s.Config.i18nValue("snapshots-link-desc")+"</div>",i='<a href="'+t+'">'+t+"</a>";f.Dialog.show(s.Config.i18nValue("snapshots-link-title"),n+i)}}));t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(2),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={service:null,setService:function(e){if(!e)throw new Error(" service can not be null");for(var t=i.Config.properties(),n=t.toolbar,r={},o=0;o<n.length;o++)if("snapshot"===n[o].type){r=n[o];break}if(!("url"in r)){var a=null!=t.serverUrl?t.serverUrl:"/";r.url=a+"api/collections/"+t.collectionId+"/snapshots"}this.service=new e(r)},loadSnapshot:function(e){r.Events.emitEvent("view.selected",[e.view,!0]),r.Events.emitEvent("sort.change",[e.sort,!0]),e.group?r.Events.emitEvent("group.change",[e.group,!0]):r.Events.emitEvent("group.change",["",!0]),a.default.replaceSearchTags(e.searchTags,!1),a.default.replaceFilterTags(e.filterTags,e.activeFilterTags),a.default.replaceFilter(e.filter)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(36),l=i(s),u=n(9),c=i(u);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/toolbars/ExportButton",getInitialState:function(){return{icon:"fa-share-square-o",label:"Export table"}},onClick:function(){c.default.exportFilter(this.props.visibleColumns)},render:function(){return this.getUI()}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){this.model=[]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(745),l=i(s),u=n(746),c=i(u),d=n(6),h=n(3),p=n(2),f=n(9),m=i(f),g=n(747),v=i(g),y="zeg-filterpanel";r.prototype.UI=a.default.createClass({displayName:"ui/panels/Filter",getInitialState:function(){return{show:!1,currentShowContentName:null,showSearch:!1,filterItems:[]}},componentDidMount:function(){p.Events.addListener("filter.init",function(e){var t=0,n=e.filter(function(e){return"Number"===e.type&&t++,e.displayInFilter});this.setState({filterItems:n,numericTypeCount:t})}.bind(this)),p.Events.addListener("filter.toggle",function(e){null==e&&(e=!this.state.show),this.state.show||(p.Events.emitEvent("filter.prevstate",[this.state.show]),p.Events.emitEvent("leftpanel.show",[y]),p.Events.emitEvent("leftpanelcontainer.inactive")),this.setState({show:e})}.bind(this)),p.Events.addListener("filter.inactive",function(){p.Events.emitEvent("filter.prevstate",[this.state.show]),this.setState({show:!1})}.bind(this)),this.toggleTimeout=setTimeout(function(){p.Events.emitEvent("filter.statechanged",[!1])},100)},onScroll:function(){p.Events.emitEvent("filter.scroll.change",[this.refs.scrollable.getDOMNode().scrollTop])},render:function(){function e(){return this.state.filterItems.map(function(e){return(new l.default).UI({dataType:e.type,numericTypeCount:o,key:e.name,model:e,filtersHidden:s})})}var t,n=h.Config.properties(),i=n.attribution,r=(n.tagEndpoint,null!==i),o=this.state.numericTypeCount,s=!this.state.show,u=(new v.default).UI(null);this.filterTags=m.default.getAllTags().length>0?(new c.default).UI(null):null,t=e.call(this);var p=t.length>0?t:null,f=a.default.addons.classSet,g=f({"filter-enter":this.state.show,"filter-exit":!this.state.show,"zeg-maxheight":d.Helpers.hasClass(document.getElementById(y),"zeg-maxheight")});return a.default.DOM.div({id:y,className:g},u,a.default.DOM.div({id:"zeg-filterpanel-wrapper",onScroll:this.onScroll,ref:"scrollable"},a.default.DOM.ul({id:"zeg-filterpanel-filteritems",className:r?"is-attributed":""},this.filterTags,p)))}}),t.default=r},function(e,t,n){"use strict";function i(){this.Panels={}}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype.addPanel=function(e,t){if(!e)throw new Error('Attempted to add a Panel without a specified "type name"');if(this.Panels[e])throw new Error("A Panel of this type already exists: "+e);this.Panels[e]=t};var r=new i;t.LeftPanelManager=r},function(e,t,n){"use strict";function i(){function e(e,n){t.type[e]=new n}var t={type:{},addType:e};return t}Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.MetadataPanelTypes=r=r||new i,t.MetadataPanelTypes=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(390),s=n(122),l=n(176),u=n(3),c=n(5),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),h=n(771),p=function(e){return e&&e.__esModule?e:{default:e}}(h),f=l.SetterType.Atlas,m={x:-32768,y:-32768},g=function(){function e(t){if(i(this,e),this.atlasData={},this.atlasMemory={},"object"!==(void 0===t?"undefined":r(t)))throw new Exception("No tile manager was provided in the constructor of this texture setter.");this.loader=new d.FileLoader,null!=u.Config.properties().authToken&&this.loader.setRequestHeader({Authorization:u.Config.properties().authToken}),this.loader.setResponseType("blob"),this.tileManager=t,this.standardGeometry=new d.PlaneBufferGeometry(1,-1),this.standardGeometry.removeAttribute("normal")}return o(e,[{key:"constructAtlasGeometry",value:function(e){var t=new d.InstancedBufferGeometry;return t.copy(this.standardGeometry),this.defineDynamicInstancedBufferAttribute(t,"iOffset",{width:3,count:e}),this.defineDynamicInstancedBufferAttribute(t,"iScale",{width:3,count:e}),this.defineDynamicInstancedBufferAttribute(t,"iUvs",{width:4,count:e}),this.defineDynamicInstancedBufferAttribute(t,"iSize",{width:2,count:e}),this.defineDynamicInstancedBufferAttribute(t,"texSize",{width:2,count:e}),this.defineDynamicInstancedBufferAttribute(t,"iInset",{width:2,count:e}),t}},{key:"constructShaderMaterial",value:function(e){var t=new d.Texture(e);return t.magFilter=d.NearestFilter,t.minFilter=d.LinearFilter,t.format=d.RGBFormat,t.type=d.UnsignedShort565Type,t.anisotropy=1,t.needsUpdate=!0,new d.ShaderMaterial({uniforms:{map:{value:t}},vertexShader:a.ShaderManager.get("atlas",s.ShaderType.Vertex).data,fragmentShader:a.ShaderManager.get("atlas",s.ShaderType.Fragment).data,side:d.FrontSide,transparent:!1})}},{key:"defineDynamicInstancedBufferAttribute",value:function(e,t,n){var i=new d.InstancedBufferAttribute(new Float32Array(n.count*n.width),n.width,1);i.setDynamic(!0),e.addAttribute(t,i)}},{key:"calculateAtlasInformation",value:function(e){if(void 0!==e.picInfo&&null!=e.picInfo){for(var t=this.getMortonLayoutPosition(e.picInfo.n),n=void t.gridIndex,i=void 0,r=void 0,o=void 0,a=(this.maxTileSize,3);a<=this.maxAtlasLevel;a++)n=Math.pow(2,a),i=this.maxTileSize/n,r=e.picInfo.width/Math.pow(2,e.picInfo.maxLevel-a),o=e.picInfo.height/Math.pow(2,e.picInfo.maxLevel-a),0!=(e.picInfo.height&e.picInfo.height-1)&&0!=(e.picInfo.width&e.picInfo.width-1)||(o-=.1,r-=.1),r=Math.floor(r),o=Math.floor(o),t[a]={},t[a].maxSize=n,t[a].pictureColumn=Math.floor(t.column/i),t[a].pictureRow=Math.floor(t.row/i),t[a].width=r,t[a].height=o,t[a].imgColumn=t.column%i,t[a].imgRow=t.row%i,t[a].shaderOffsetWidth=this.maxTileSize/r,t[a].shaderOffsetHeight=n-o>0?this.maxTileSize/(n-o):this.maxTileSize/n;return t}}},{key:"planeUpdateHandler",value:function(e){if(e.mesh&&e.mesh.userData.setter===f){var t=e.setterMemory[f],n=t.indexMap[e.uuid],i=t.buffers;if(!0!==t.stateMap[e.uuid]&&(t._utilization++,t.stateMap[e.uuid]=!0),t.level>0){var r=this.atlasData["#"+e.datastoreIndex][t.level],o=this.maxTileSize/r.maxSize,a=this.maxTileSize,s=1/(2*this.maxTileSize);t.allocMap[n]=!0;var l={x:r.imgColumn,y:o-1-r.imgRow,z:o,w:o};i.iScale.setXY(n,e.scale.x,e.scale.y),i.iUvs.setXYZW(n,l.x,l.y,l.w,l.z),i.iSize.setXY(n,r.shaderOffsetWidth,r.shaderOffsetHeight),i.iOffset.setXY(n,e.position.x,e.position.y),i.iInset.setXY(n,s/l.z,s/l.w),i.texSize.setXY(n,a,a)}else{var u=this.atlasData["#"+e.datastoreIndex],c=this.maxTileSize;i.iScale.setXY(n,e.scale.x,e.scale.y),i.iUvs.setXYZW(n,u.crop.x,u.crop.y,u.crop.w,u.crop.z),i.iOffset.setXY(n,e.position.x,e.position.y),i.texSize.setXY(n,c,c)}i.iScale.needsUpdate=!0,i.iUvs.needsUpdate=!0,i.iOffset.needsUpdate=!0,i.iSize.needsUpdate=!0,i.iInset.needsUpdate=!0,i.texSize.needsUpdate=!0}}},{key:"planeDetachHandler",value:function(e){if(e.mesh&&e.mesh.userData.setter===f){var t=e.setterMemory[f],n=t.indexMap[e.uuid],i=t.stateMap;!0===i[e.uuid]&&(t._utilization--,i[e.uuid]=!1),t.allocMap[n]=!1;var r=t.buffers;r.iOffset.setXY(n,m.x,m.y),r.iOffset.needsUpdate=!0,0===t._utilization&&this.removeAtlas(t)}}},{key:"planeCopyHandler",value:function(e){if(!0===e.userData.duplicate&&null===e.mesh&&(e=e.userData.duplicateParent),e.mesh&&e.mesh.userData.setter===f){var t=e.setterMemory[f],n=this.atlasData["#"+e.datastoreIndex][t.level],i={x:n.maxSize*n.imgColumn,y:n.maxSize*n.imgRow,w:n.width,h:n.height},r=document.createElement("canvas");return r.width=Math.floor(i.w),r.height=Math.floor(i.h),r.getContext("2d").drawImage(t.canvas,-i.x,-i.y),r}}},{key:"removeAtlas",value:function(e){e.mesh.parent.remove(e.mesh),e.mesh.geometry.dispose(),e.mesh.material.dispose(),this.atlasMemory[e.url]=void 0}},{key:"getMortonLayoutPosition",value:function(e){var t,n=e.toString(2).split(""),i="",r="";for(n.length%2!=0&&n.unshift("0"),t=0;t<n.length;t+=1)t%2==0?i+=n[t]:r+=n[t];return 0===i.length&&(i="0"),0===r.length&&(r="0"),{row:parseInt(i,2),column:parseInt(r,2),gridIndex:e}}},{key:"buildAtlas",value:function(e,t,n){var i=new p.default;i.url=e,!0!==n&&(i.canvas=document.createElement("canvas"),i.canvas.width=this.maxTileSize,i.canvas.height=this.maxTileSize,i.context=i.canvas.getContext("2d"),i.context.fillStyle=u.Config.properties().colors.blankSprite,i.context.fillRect(0,0,this.maxTileSize,this.maxTileSize)),i.level=t;var r=t<0?-t:Math.pow(this.maxTileSize/Math.pow(2,t),2);i._standardLevel=r;var o=this.constructAtlasGeometry(r);i.bufferLimit=r,i.buffers=o.attributes;var a=!0!==n?this.constructShaderMaterial(i.canvas):new d.MeshBasicMaterial({color:16711680}),s=new d.Mesh(o,a);return s.userData.setter=f,s.frustumCulled=!1,i.mesh=s,i}},{key:"captureBufferOverflow",value:function(e){var t=Math.ceil(1.1*e.bufferLimit),n=this.constructAtlasGeometry(t);e.bufferLimit=t,n.merge(e.mesh.geometry,0),e.mesh.geometry.dispose(),e.mesh.geometry=n,e.buffers=n.attributes}},{key:"searchForIndex",value:function(e,t,n){for(var i=t;i<n;i++)if(!0!==e[i])return i;return-1}},{key:"copyAtlasSegmentFromPlane",value:function(e,t,n){if(!0!==t.isLoaded){var i={x:n.maxSize*n.imgColumn,y:n.maxSize*n.imgRow,w:n.width,h:n.height},r=!0===e.userData.duplicate?e.userData.duplicateParent.copy():e.copy();r&&(t.context.drawImage(r,i.x,i.y,i.w,i.h),t.mesh.material.uniforms.map.value.needsUpdate=!0)}}},{key:"setManualAtlasTexture",value:function(e,t,n){var i=void 0;this.atlasMemory[t.uuid]?i=this.atlasMemory[t.uuid]:(i=this.buildAtlas(t.uuid,-e.length,!0),i.mesh.material=t,this.atlasMemory[t.uuid]=i);for(var r=0;r<e.length;r++){var o=e[r];if(!0===o.decomissioned)return;var a=n[r];this.atlasData["#"+o.datastoreIndex]=a,this.mapPlaneToAtlasIndex(o,i),o.copyHandler=this.planeCopyHandler.bind(this),o.updateHandler=this.planeUpdateHandler.bind(this),o.detach(),o.setterMemory[f]=i,o.mesh=i.mesh,o.detachHandler=this.planeDetachHandler.bind(this),o.update(),this.pushMeshToScene(i.mesh),this.tileManager.viewManager.projectionNeedsUpdate=!0}}},{key:"mapPlaneToAtlasIndex",value:function(e,t){void 0===t.indexMap[e.uuid]&&(t._counter>=t.bufferLimit?(this.captureBufferOverflow(t),t.indexMap[e.uuid]=t._counter,t._counter++):(t.indexMap[e.uuid]=t._counter,t._counter++))}},{key:"setAtlasTexture",value:function(e,t,n,i){var r=void 0;if(this.tileManager.data[this.tileManager.currentSource].pictures[e.datastoreIndex],!0!==e.decomissioned&&(this.atlasData["#"+e.datastoreIndex]?r=this.atlasData["#"+e.datastoreIndex]:(r=this.calculateAtlasInformation(e),this.atlasData["#"+e.datastoreIndex]=r),r)){var o=this.tileManager.atlasTilesPath+n+"/"+r[n].pictureColumn+"_"+r[n].pictureRow+"."+this.tileManager.tileFormat;null!=this.queryString&&this.queryString.length>0&&(o+="?"+this.queryString);var a=(r[n].maxSize,void r.gridIndex);this.atlasMemory[o]?(a=this.atlasMemory[o],void 0===a.indexMap[e.uuid]&&a.planes.push(e)):(a=this.buildAtlas(o,n),this.atlasMemory[o]=a,a.loader=this.loader,a.planes.push(e),a.onloaded(this.drawAtlasToCanvas.bind(this)),a.load()),this.mapPlaneToAtlasIndex(e,a),this.copyAtlasSegmentFromPlane(e,a,r[n]),e.copyHandler=this.planeCopyHandler.bind(this),e.updateHandler=this.planeUpdateHandler.bind(this),e.detach(),e.setterMemory[f]=a,e.mesh=a.mesh,e.detachHandler=this.planeDetachHandler.bind(this),e.update(),this.pushMeshToScene(a.mesh),this.tileManager.viewManager.projectionNeedsUpdate=!0}}},{key:"clearBlankingMesh",value:function(e){var t,n=this.viewManager.currentView.geometryFromPlanes(function(e){return!e.loadedImg});if(this.viewManager.groups.blanks.children.length>0&&this.viewManager.groups.blanks.remove(this.viewManager.groups.blanks.children[0]),null!=n||void 0!==n){this.viewManager.groups.blanks.add(n.mesh);for(var i=0;i<n.planes.length;i++)t=n.planes[i],t.update();this.tileManager.viewManager.projectionNeedsUpdate=!0}}},{key:"drawAtlasToCanvas",value:function(e){e.context.drawImage(e._element,0,0),e.mesh.material.uniforms.map.value&&(e.mesh.material.uniforms.map.value.needsUpdate=!0),e.mesh.material.needsUpdate=!0;for(var t=0;t<e.planes.length;t++)e.planes[t].loadedImg=!0;this.tileManager.viewManager.projectionNeedsUpdate=!0}},{key:"pushMeshToScene",value:function(e){var t=this.tileManager.viewManager.groups.optimisedMeshes;0==t.children.filter(function(t){return t.uuid==e.uuid}).length&&t.add(e)}},{key:"getPath",value:function(e){var t,n=this;return t=n.dataFile.substring(n.dataFile.lastIndexOf(".")),e.slice(0,-1*t.length)}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderManager=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(122),l=n(766),u=i(l),c=n(767),d=i(c),h=n(768),p=i(h),f=n(769),m=i(f),g=n(770),v=i(g),y=function(){function e(){r(this,e),this.library=[]}return a(e,[{key:"register",value:function(e,t,n){if("string"==typeof e){if(e.toLowerCase(),null==this.get(e,t)){var i=new u.default(e,t,n);return this.library.push(i),i}console.warn("A shader with type "+t+" called "+e+" is already registered.")}}},{key:"get",value:function(e,t){if("string"==typeof e){var n=this.resolveShaderType(t),i=e.toLowerCase(),r=this.library.filter(function(e){if(e.name.toLowerCase()==i&&e.type==n)return!0});return r.length>0?r[0]:null}}},{key:"getData",value:function(e,t){var n=this.get(e,t);return n?n.data:void 0}},{key:"resolveShaderType",value:function(e){var t=-1!==(void 0===e?"undefined":o(e)).indexOf("symbol");if("string"==typeof e||t){if(t)return e;switch(e.toLowerCase()){case"fragment":case"frag":return s.ShaderType.Fragment;case"vertex":case"vert":return s.ShaderType.Vertex;default:return s.ShaderType.None}}}}]),e}(),_=new y;_.register("Atlas",s.ShaderType.Fragment,d.default),_.register("Atlas",s.ShaderType.Vertex,p.default),_.register("Blank",s.ShaderType.Fragment,m.default),_.register("Blank",s.ShaderType.Vertex,v.default),t.ShaderManager=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(390),a=n(122),s=n(3),l=n(5),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(176),d={x:-32768,y:-32768},h=function(){function e(t){i(this,e),this.planeMap={},this.allocMap={},this.standardGeometry=new u.PlaneBufferGeometry(1,-1),this.standardGeometry.removeAttribute("normal"),this.optimisedSeekPosition=0,this.tileManager=t;var n=new u.ShaderMaterial({vertexShader:o.ShaderManager.get("blank",a.ShaderType.Vertex).data,fragmentShader:o.ShaderManager.get("blank",a.ShaderType.Fragment).data,side:u.FrontSide,uniforms:{color:{value:new u.Color(parseInt(s.Config.properties().colors.blankSprite.replace("#",""),16))}}});this.copyCanvas=this.createCopyCanvas(),this.geometryLevel=5;var r=this.geometryScaleAlgorithm(this.geometryLevel),l=new u.InstancedBufferGeometry;l.copy(this.standardGeometry);var d=new u.InstancedBufferAttribute(new Float32Array(3*r),3,1),h=new u.InstancedBufferAttribute(new Float32Array(3*r),3,1);d.setDynamic(!0),h.setDynamic(!0),l.addAttribute("iOffset",d),l.addAttribute("iScale",h),this.mainObject=new u.Mesh(l,n),this.mainObject.userData.setter=c.SetterType.Blank,this.mainObject.frustumCulled=!1,this.tileManager.viewManager.groups.blanks&&this.tileManager.viewManager.groups.blanks.add(this.mainObject)}return r(e,[{key:"createCopyCanvas",value:function(){var e=document.createElement("canvas");e.width=64,e.height=64;var t=e.getContext("2d");return null!=t&&(t.fillStyle=s.Config.properties().colors.blankSprite,t.fillRect(0,0,64,64)),e}},{key:"geometryScaleAlgorithm",value:function(e){return 10+3*e+(e+6)*(e-1)}},{key:"extendGeometry",value:function(){var e=new u.InstancedBufferGeometry;e.copy(this.standardGeometry),this.geometryLevel++;var t=this.geometryScaleAlgorithm(this.geometryLevel),n=new u.InstancedBufferAttribute(new Float32Array(3*t),3,1),i=new u.InstancedBufferAttribute(new Float32Array(3*t),3,1);n.setDynamic(!0),i.setDynamic(!0),e.addAttribute("iOffset",n),e.addAttribute("iScale",i),e.merge(this.mainObject.geometry,0),this.mainObject.geometry.dispose(),this.mainObject.geometry=e}},{key:"seekIndexForPlane",value:function(){for(var e=this.optimisedSeekPosition,t=this.geometryScaleAlgorithm(this.geometryLevel),n=e;n<t;n++)if(!0!==this.allocMap[n])return this.optimisedSeekPosition=n,n;return this.extendGeometry(),this.optimisedSeekPosition=t+1,t+1}},{key:"planeUpdateHandler",value:function(e){var t=this.planeMap[e.uuid];void 0===t&&(t=this.seekIndexForPlane(),this.planeMap[e.uuid]=t),this.mainObject.parent||this.tileManager.viewManager.groups.blanks.add(this.mainObject);var n=this.mainObject.geometry.attributes;n.iOffset.setXYZ(t,e.position.x,e.position.y,e.position.z),n.iScale.setXYZ(t,e.scale.x,e.scale.y,e.scale.z),n.iOffset.needsUpdate=!0,n.iScale.needsUpdate=!0,this.allocMap[t]=!0,this.tileManager.viewManager.projectionNeedsUpdate=!0}},{key:"planeCopyHandler",value:function(e){return this.copyCanvas}},{key:"planeDetachHandler",value:function(e){if(e.mesh&&e.mesh.userData.setter===c.SetterType.Blank){var t=this.planeMap[e.uuid];if(void 0!==t){var n=this.mainObject.geometry.attributes;n.iOffset.setXYZ(t,d.x,d.y,0),n.iOffset.needsUpdate=!0,t<this.optimisedSeekPosition&&(this.optimisedSeekPosition=t),this.allocMap[t]=!1,this.planeMap[e.uuid]=void 0}}}},{key:"setBlankTexture",value:function(e){this.mainObject.parent||this.tileManager.viewManager.groups.blanks.add(this.mainObject),e.copyHandler=this.planeCopyHandler.bind(this),e.updateHandler=this.planeUpdateHandler.bind(this),e.detach(),e.mesh=this.mainObject,e.detachHandler=this.planeDetachHandler.bind(this),e.update(),this.tileManager.viewManager.projectionNeedsUpdate=!0}}]),e}();t.default=h},function(e,t,n){var i,r,o;/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(n,a){"object"==typeof t&&t&&"string"!=typeof t.nodeName?a(t):(r=[t],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}(0,function(e){function t(e){return"function"==typeof e}function n(e){return m(e)?"array":typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}function o(e,t){return g.call(e,t)}function a(e){return!o(v,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return y[e]})}function l(t,n){function r(e){if("string"==typeof e&&(e=e.split(b,2)),!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(i(e[0])+"\\s*"),s=new RegExp("\\s*"+i(e[1])),l=new RegExp("\\s*"+i("}"+e[1]))}if(!t)return[];var o,s,l,h=[],p=[],f=[],g=!1,v=!1;r(n||e.tags);for(var y,S,E,T,C,L,D=new d(t);!D.eos();){if(y=D.pos,E=D.scanUntil(o))for(var A=0,P=E.length;A<P;++A)T=E.charAt(A),a(T)?f.push(p.length):v=!0,p.push(["text",T,y,y+1]),y+=1,"\n"===T&&function(){if(g&&!v)for(;f.length;)delete p[f.pop()];else f=[];g=!1,v=!1}();if(!D.scan(o))break;if(g=!0,S=D.scan(x)||"name",D.scan(_),"="===S?(E=D.scanUntil(w),D.scan(w),D.scanUntil(s)):"{"===S?(E=D.scanUntil(l),D.scan(M),D.scanUntil(s),S="&"):E=D.scanUntil(s),!D.scan(s))throw new Error("Unclosed tag at "+D.pos);if(C=[S,E,y,D.pos],p.push(C),"#"===S||"^"===S)h.push(C);else if("/"===S){if(!(L=h.pop()))throw new Error('Unopened section "'+E+'" at '+y);if(L[1]!==E)throw new Error('Unclosed section "'+L[1]+'" at '+y)}else"name"===S||"{"===S||"&"===S?v=!0:"="===S&&r(E)}if(L=h.pop())throw new Error('Unclosed section "'+L[1]+'" at '+D.pos);return c(u(p))}function u(e){for(var t,n,i=[],r=0,o=e.length;r<o;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}function c(e){for(var t,n,i=[],r=i,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],r=o.length>0?o[o.length-1][4]:i;break;default:r.push(t)}return i}function d(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var f=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===f.call(e)},g=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},_=/\s*/,b=/\s+/,w=/\s*=/,M=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var n,i=this.cache;if(i.hasOwnProperty(e))n=i[e];else{for(var o,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(n=s.view,o=e.split("."),a=0;null!=n&&a<o.length;)a===o.length-1&&(l=r(n,o[a])),n=n[o[a++]];else n=s.view[e],l=r(s.view,e);if(l)break;s=s.parent}i[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,i=n[e];return null==i&&(i=n[e]=l(e,t)),i},p.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof h?t:new h(t);return this.renderTokens(i,r,n,e)},p.prototype.renderTokens=function(e,t,n,i){for(var r,o,a,s="",l=0,u=e.length;l<u;++l)a=void 0,r=e[l],o=r[0],"#"===o?a=this.renderSection(r,t,n,i):"^"===o?a=this.renderInverted(r,t,n,i):">"===o?a=this.renderPartial(r,t,n,i):"&"===o?a=this.unescapedValue(r,t):"name"===o?a=this.escapedValue(r,t):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},p.prototype.renderSection=function(e,n,i,r){function o(e){return a.render(e,n,i)}var a=this,s="",l=n.lookup(e[1]);if(l){if(m(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(e[4],n.push(l[u]),i,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],n.push(l),i,r);else if(t(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(n.view,r.slice(e[3],e[5]),o))&&(s+=l)}else s+=this.renderTokens(e[4],n,i,r);return s}},p.prototype.renderInverted=function(e,t,n,i){var r=t.lookup(e[1]);if(!r||m(r)&&0===r.length)return this.renderTokens(e[4],t,n,i)},p.prototype.renderPartial=function(e,n,i){if(i){var r=t(i)?i(e[1]):i[e[1]];return null!=r?this.renderTokens(this.parse(r),n,i,r):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var i=n.lookup(t[1]);if(null!=i)return e.escape(i)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var S=new p;return e.clearCache=function(){return S.clearCache()},e.parse=function(e,t){return S.parse(e,t)},e.render=function(e,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(e,t,i)},e.to_html=function(n,i,r,o){var a=e.render(n,i,r);if(!t(o))return a;o(a)},e.escape=s,e.Scanner=d,e.Context=h,e.Writer=p,e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default.createClass({displayName:"ui/panels/ProgressBar",render:function(){var e=100*(void 0===this.props.progress||null===this.props.progress||this.props.progress<0?0:this.props.progress>1?1:this.props.progress);return r.default.DOM.div({id:"ui-loading-progress",style:{width:e+"%"}},null)}})},function(e,t,n){n(395),e.exports=n(211)},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[i](e,t,{writable:!0,configurable:!0,value:n})}if(n(396),n(593),n(594),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(90))},function(e,t,n){n(397),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(477),n(478),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(144),n(501),n(502),n(195),n(503),n(504),n(505),n(506),n(507),n(198),n(200),n(201),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),e.exports=n(37)},function(e,t,n){"use strict";var i=n(10),r=n(23),o=n(14),a=n(1),s=n(25),l=n(54).KEY,u=n(11),c=n(97),d=n(75),h=n(63),p=n(13),f=n(178),m=n(124),g=n(398),v=n(100),y=n(8),_=n(12),b=n(28),w=n(38),M=n(62),x=n(67),S=n(181),E=n(29),T=n(15),C=n(65),L=E.f,D=T.f,A=S.f,P=i.Symbol,k=i.JSON,O=k&&k.stringify,I=p("_hidden"),R=p("toPrimitive"),N={}.propertyIsEnumerable,B=c("symbol-registry"),j=c("symbols"),F=c("op-symbols"),Y=Object.prototype,z="function"==typeof P,U=i.QObject,H=!U||!U.prototype||!U.prototype.findChild,V=o&&u(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=L(Y,t);i&&delete Y[t],D(e,t,n),i&&e!==Y&&D(Y,t,i)}:D,G=function(e){var t=j[e]=x(P.prototype);return t._k=e,t},W=z&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},X=function(e,t,n){return e===Y&&X(F,t,n),y(e),t=w(t,!0),y(n),r(j,t)?(n.enumerable?(r(e,I)&&e[I][t]&&(e[I][t]=!1),n=x(n,{enumerable:M(0,!1)})):(r(e,I)||D(e,I,M(1,{})),e[I][t]=!0),V(e,t,n)):D(e,t,n)},q=function(e,t){y(e);for(var n,i=g(t=b(t)),r=0,o=i.length;o>r;)X(e,n=i[r++],t[n]);return e},Q=function(e,t){return void 0===t?x(e):q(x(e),t)},Z=function(e){var t=N.call(this,e=w(e,!0));return!(this===Y&&r(j,e)&&!r(F,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,I)&&this[I][e])||t)},K=function(e,t){if(e=b(e),t=w(t,!0),e!==Y||!r(j,t)||r(F,t)){var n=L(e,t);return!n||!r(j,t)||r(e,I)&&e[I][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=A(b(e)),i=[],o=0;n.length>o;)r(j,t=n[o++])||t==I||t==l||i.push(t);return i},$=function(e){for(var t,n=e===Y,i=A(n?F:b(e)),o=[],a=0;i.length>a;)!r(j,t=i[a++])||n&&!r(Y,t)||o.push(j[t]);return o};z||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===Y&&t.call(F,n),r(this,I)&&r(this[I],e)&&(this[I][e]=!1),V(this,e,M(1,n))};return o&&H&&V(Y,e,{configurable:!0,set:t}),G(e)},s(P.prototype,"toString",function(){return this._k}),E.f=K,T.f=X,n(68).f=S.f=J,n(92).f=Z,n(99).f=$,o&&!n(64)&&s(Y,"propertyIsEnumerable",Z,!0),f.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:P});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=C(p.store),ie=0;ne.length>ie;)m(ne[ie++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return r(B,e+="")?B[e]:B[e]=P(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!z,"Object",{create:Q,defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:$}),k&&a(a.S+a.F*(!z||u(function(){var e=P();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(_(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),i[1]=t,O.apply(k,i)}}),P.prototype[R]||n(24)(P.prototype,R,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(65),r=n(99),o=n(92);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var i=n(1);i(i.S,"Object",{create:n(67)})},function(e,t,n){var i=n(1);i(i.S+i.F*!n(14),"Object",{defineProperty:n(15).f})},function(e,t,n){var i=n(1);i(i.S+i.F*!n(14),"Object",{defineProperties:n(180)})},function(e,t,n){var i=n(28),r=n(29).f;n(41)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){var i=n(18),r=n(30);n(41)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(18),r=n(65);n(41)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(41)("getOwnPropertyNames",function(){return n(181).f})},function(e,t,n){var i=n(12),r=n(54).onFreeze;n(41)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(12),r=n(54).onFreeze;n(41)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(12),r=n(54).onFreeze;n(41)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(12);n(41)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(12);n(41)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(12);n(41)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,t,n){var i=n(1);i(i.S+i.F,"Object",{assign:n(182)})},function(e,t,n){var i=n(1);i(i.S,"Object",{is:n(414)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(1);i(i.S,"Object",{setPrototypeOf:n(128).set})},function(e,t,n){"use strict";var i=n(93),r={};r[n(13)("toStringTag")]="z",r+""!="[object z]"&&n(25)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){var i=n(1);i(i.P,"Function",{bind:n(183)})},function(e,t,n){var i=n(15).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(14)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(12),r=n(30),o=n(13)("hasInstance"),a=Function.prototype;o in a||n(15).f(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(1),r=n(185);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var i=n(1),r=n(186);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){"use strict";var i=n(10),r=n(23),o=n(33),a=n(130),s=n(38),l=n(11),u=n(68).f,c=n(29).f,d=n(15).f,h=n(76).trim,p=i.Number,f=p,m=p.prototype,g="Number"==o(n(67)(m)),v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():h(t,3);var n,i,r,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var a,l=t.slice(2),u=0,c=l.length;u<c;u++)if((a=l.charCodeAt(u))<48||a>r)return NaN;return parseInt(l,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?l(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new f(y(t)),n,p):y(t)};for(var _,b=n(14)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(f,_=b[w])&&!r(p,_)&&d(p,_,c(f,_));p.prototype=m,m.constructor=p,n(25)(i,"Number",p)}},function(e,t,n){"use strict";var i=n(1),r=n(40),o=n(187),a=n(131),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*u[n],u[n]=i%1e7,i=l(i/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=l(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},f=function(e,t,n){return 0===t?n:t%2==1?f(e,t-1,n*e):f(e*e,t/2,n)},m=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(11)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,i,s,l=o(this,c),u=r(e),g="",v="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(t=m(l*f(2,69,1))-69,n=t<0?l*f(2,-t,1):l/f(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),i=u;i>=7;)d(1e7,0),i-=7;for(d(f(10,i,1),0),i=t-1;i>=23;)h(1<<23),i-=23;h(1<<i),d(1,1),h(2),v=p()}else d(0,n),d(1<<-t,0),v=p()+a.call("0",u);return u>0?(s=v.length,v=g+(s<=u?"0."+a.call("0",u-s)+v:v.slice(0,s-u)+"."+v.slice(s-u))):v=g+v,v}})},function(e,t,n){"use strict";var i=n(1),r=n(11),o=n(187),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var i=n(1);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(1),r=n(10).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var i=n(1);i(i.S,"Number",{isInteger:n(188)})},function(e,t,n){var i=n(1);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(1),r=n(188),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,n){var i=n(1);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var i=n(1);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(1),r=n(186);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var i=n(1),r=n(185);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var i=n(1),r=n(189),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})},function(e,t,n){function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=n(1),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},function(e,t,n){var i=n(1),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var i=n(1),r=n(132);i(i.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var i=n(1);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var i=n(1),r=Math.exp;i(i.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var i=n(1),r=n(133);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var i=n(1);i(i.S,"Math",{fround:n(190)})},function(e,t,n){var i=n(1),r=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)n=r(arguments[a++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var i=n(1),r=Math.imul;i(i.S+i.F*n(11)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(1);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var i=n(1);i(i.S,"Math",{log1p:n(189)})},function(e,t,n){var i=n(1);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var i=n(1);i(i.S,"Math",{sign:n(132)})},function(e,t,n){var i=n(1),r=n(133),o=Math.exp;i(i.S+i.F*n(11)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var i=n(1),r=n(133),o=Math.exp;i(i.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var i=n(1);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var i=n(1),r=n(66),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,a=0;i>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(1),r=n(28),o=n(16);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(76)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var i=n(134)(!0);n(135)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(1),r=n(134)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(1),r=n(16),o=n(137),a="".endsWith;i(i.P+i.F*n(138)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var i=n(1),r=n(137);i(i.P+i.F*n(138)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(1);i(i.P,"String",{repeat:n(131)})},function(e,t,n){"use strict";var i=n(1),r=n(16),o=n(137),a="".startsWith;i(i.P+i.F*n(138)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";n(26)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(26)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(26)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(26)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(26)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(26)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(26)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(26)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(26)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(26)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(26)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(26)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(26)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var i=n(1);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(1),r=n(18),o=n(38);i(i.P+i.F*n(11)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(1),r=n(476);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){"use strict";var i=n(11),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(25)(i,"toString",function(){var e=o.call(this);return e===e?r.call(this):"Invalid Date"})},function(e,t,n){var i=n(13)("toPrimitive"),r=Date.prototype;i in r||n(24)(r,i,n(479))},function(e,t,n){"use strict";var i=n(8),r=n(38);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!=e)}},function(e,t,n){var i=n(1);i(i.S,"Array",{isArray:n(100)})},function(e,t,n){"use strict";var i=n(32),r=n(1),o=n(18),a=n(191),s=n(139),l=n(16),u=n(140),c=n(141);r(r.S+r.F*!n(102)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,h=o(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(h);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(t=l(h.length),n=new p(t);t>v;v++)u(n,v,g?m(h[v],v):h[v]);else for(d=y.call(h),n=new p;!(r=d.next()).done;v++)u(n,v,g?a(d,m,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";var i=n(1),r=n(140);i(i.S+i.F*n(11)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(1),r=n(28),o=[].join;i(i.P+i.F*(n(91)!=Object||!n(34)(o)),"Array",{join:function(e){return o.call(r(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(1),r=n(127),o=n(33),a=n(66),s=n(16),l=[].slice;i(i.P+i.F*n(11)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var n=s(this.length),i=o(this);if(t=void 0===t?n:t,"Array"==i)return l.call(this,e,t);for(var r=a(e,n),u=a(t,n),c=s(u-r),d=new Array(c),h=0;h<c;h++)d[h]="String"==i?this.charAt(r+h):this[r+h];return d}})},function(e,t,n){"use strict";var i=n(1),r=n(21),o=n(18),a=n(11),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(34)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},function(e,t,n){"use strict";var i=n(1),r=n(42)(0),o=n(34)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(12),r=n(100),o=n(13)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(1),r=n(42)(1);i(i.P+i.F*!n(34)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(42)(2);i(i.P+i.F*!n(34)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(42)(3);i(i.P+i.F*!n(34)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(42)(4);i(i.P+i.F*!n(34)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(192);i(i.P+i.F*!n(34)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var i=n(1),r=n(192);i(i.P+i.F*!n(34)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var i=n(1),r=n(98)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(34)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(28),o=n(40),a=n(16),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(34)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),n=a(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,n){var i=n(1);i(i.P,"Array",{copyWithin:n(193)}),n(55)("copyWithin")},function(e,t,n){var i=n(1);i(i.P,"Array",{fill:n(143)}),n(55)("fill")},function(e,t,n){"use strict";var i=n(1),r=n(42)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(55)("find")},function(e,t,n){"use strict";var i=n(1),r=n(42)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(55)(o)},function(e,t,n){n(69)("Array")},function(e,t,n){var i=n(10),r=n(130),o=n(15).f,a=n(68).f,s=n(101),l=n(103),u=i.RegExp,c=u,d=u.prototype,h=/a/g,p=/a/g,f=new u(h)!==h;if(n(14)&&(!f||n(11)(function(){return p[n(13)("match")]=!1,u(h)!=h||u(p)==p||"/a/i"!=u(h,"i")}))){u=function(e,t){var n=this instanceof u,i=s(e),o=void 0===t;return!n&&i&&e.constructor===u&&o?e:r(f?new c(i&&!o?e.source:e,t):c((i=e instanceof u)?e.source:e,i&&o?l.call(e):t),n?this:d,u)};for(var m=a(c),g=0;m.length>g;)!function(e){e in u||o(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(m[g++]);d.constructor=u,u.prototype=d,n(25)(i,"RegExp",u)}n(69)("RegExp")},function(e,t,n){"use strict";n(195);var i=n(8),r=n(103),o=n(14),a=/./.toString,s=function(e){n(25)(RegExp.prototype,"toString",e,!0)};n(11)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(104)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(104)("replace",2,function(e,t,n){return[function(i,r){"use strict";var o=e(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(e,t,n){n(104)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(104)("split",2,function(e,t,i){"use strict";var r=n(101),o=i,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var i,u,c,d,h,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(l||(i=new RegExp("^"+v.source+"$(?!\\s)",f));(u=v.exec(n))&&!((c=u.index+u[0][s])>m&&(p.push(n.slice(m,u.index)),!l&&u[s]>1&&u[0].replace(i,function(){for(h=1;h<arguments[s]-2;h++)void 0===arguments[h]&&(u[h]=void 0)}),u[s]>1&&u.index<n[s]&&a.apply(p,u.slice(1)),d=u[0][s],m=c,p[s]>=g));)v.lastIndex===u.index&&v.lastIndex++;return m===n[s]?!d&&v.test("")||p.push(""):p.push(n.slice(m)),p[s]>g?p.slice(0,g):p}}else"0".split(void 0,0)[s]&&(i=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,r){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(e,t,n){"use strict";var i,r,o,a,s=n(64),l=n(10),u=n(32),c=n(93),d=n(1),h=n(12),p=n(21),f=n(70),m=n(71),g=n(105),v=n(145).set,y=n(146)(),_=n(147),b=n(196),w=n(197),M=l.TypeError,x=l.process,S=l.Promise,E="process"==c(x),T=function(){},C=r=_.f,L=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(13)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),D=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=r?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{a?(r||(2==e._h&&O(e),e._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&u.exit()),n===t.promise?l(M("Promise-chain cycle")):(o=D(n))?o.call(n,s,l):s(n)):l(i)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){v.call(l,function(){var t,n,i,r=e._v,o=k(e);if(o&&(t=b(function(){E?x.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=E||k(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},O=function(e){v.call(l,function(){var t;E?x.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw M("Promise can't be resolved itself");(t=D(e))?y(function(){var i={_w:n,_d:!1};try{t.call(e,u(R,i,1),u(I,i,1))}catch(e){I.call(i,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};L||(S=function(e){f(this,S,"Promise","_h"),p(e),i.call(this);try{e(u(R,this,1),u(I,this,1))}catch(e){I.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(72)(S.prototype,{then:function(e,t){var n=C(g(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=u(R,e,1),this.reject=u(I,e,1)},_.f=C=function(e){return e===S||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!L,{Promise:S}),n(75)(S,"Promise"),n(69)("Promise"),a=n(37).Promise,d(d.S+d.F*!L,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!L),"Promise",{resolve:function(e){return w(s&&this===a?S:this,e)}}),d(d.S+d.F*!(L&&n(102)(function(e){S.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=C(t),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=C(t),i=n.reject,r=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){"use strict";var i=n(202),r=n(78);n(106)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i=n(1),r=n(107),o=n(148),a=n(8),s=n(66),l=n(16),u=n(12),c=n(10).ArrayBuffer,d=n(105),h=o.ArrayBuffer,p=o.DataView,f=r.ABV&&c.isView,m=h.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(c!==h),{ArrayBuffer:h}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||u(e)&&g in e}}),i(i.P+i.U+i.F*n(11)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),o=new(d(this,h))(l(r-i)),u=new p(this),c=new p(o),f=0;i<r;)c.setUint8(f++,u.getUint8(i++));return o}}),n(69)("ArrayBuffer")},function(e,t,n){var i=n(1);i(i.G+i.W+i.F*!n(107).ABV,{DataView:n(148).DataView})},function(e,t,n){n(50)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},function(e,t,n){n(50)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(50)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){var i=n(1),r=n(21),o=n(8),a=(n(10).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(11)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var i=r(e),l=o(n);return a?a(i,t,l):s.call(i,t,l)}})},function(e,t,n){var i=n(1),r=n(67),o=n(21),a=n(8),s=n(12),l=n(11),u=n(183),c=(n(10).Reflect||{}).construct,d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),h=!l(function(){c(function(){})});i(i.S+i.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(u.apply(e,i))}var l=n.prototype,p=r(s(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return s(f)?f:p}})},function(e,t,n){var i=n(15),r=n(1),o=n(8),a=n(38);r(r.S+r.F*n(11)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(1),r=n(29).f,o=n(8);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var i=n(1),r=n(8),o=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(136)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function i(e,t){var n,s,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(n=r.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(s=o(e))?i(s,t,c):void 0}var r=n(29),o=n(30),a=n(23),s=n(1),l=n(12),u=n(8);s(s.S,"Reflect",{get:i})},function(e,t,n){var i=n(29),r=n(1),o=n(8);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(o(e),t)}})},function(e,t,n){var i=n(1),r=n(30),o=n(8);i(i.S,"Reflect",{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,n){var i=n(1);i(i.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var i=n(1),r=n(8),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,n){var i=n(1);i(i.S,"Reflect",{ownKeys:n(204)})},function(e,t,n){var i=n(1),r=n(8),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){r(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function i(e,t,n){var l,h,p=arguments.length<4?e:arguments[3],f=o.f(c(e),t);if(!f){if(d(h=a(e)))return i(h,t,n,p);f=u(0)}return s(f,"value")?!(!1===f.writable||!d(p)||(l=o.f(p,t)||u(0),l.value=n,r.f(p,t,l),0)):void 0!==f.set&&(f.set.call(p,n),!0)}var r=n(15),o=n(29),a=n(30),s=n(23),l=n(1),u=n(62),c=n(8),d=n(12);l(l.S,"Reflect",{set:i})},function(e,t,n){var i=n(1),r=n(128);r&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var i=n(1),r=n(98)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(55)("includes")},function(e,t,n){"use strict";var i=n(1),r=n(205),o=n(18),a=n(16),s=n(21),l=n(142);i(i.P,"Array",{flatMap:function(e){var t,n,i=o(this);return s(e),t=a(i.length),n=l(i,0),r(n,i,i,t,0,1,e,arguments[1]),n}}),n(55)("flatMap")},function(e,t,n){"use strict";var i=n(1),r=n(205),o=n(18),a=n(16),s=n(40),l=n(142);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),i=l(t,0);return r(i,t,t,n,0,void 0===e?1:s(e)),i}}),n(55)("flatten")},function(e,t,n){"use strict";var i=n(1),r=n(134)(!0);i(i.P,"String",{at:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(1),r=n(206),o=n(149);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var i=n(1),r=n(206),o=n(149);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(76)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(76)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var i=n(1),r=n(39),o=n(16),a=n(101),s=n(103),l=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n(136)(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(r(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):s.call(e),i=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(e.lastIndex),new u(i,t)}})},function(e,t,n){n(124)("asyncIterator")},function(e,t,n){n(124)("observable")},function(e,t,n){var i=n(1),r=n(204),o=n(28),a=n(29),s=n(140);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),l=a.f,u=r(i),c={},d=0;u.length>d;)void 0!==(n=l(i,t=u[d++]))&&s(c,t,n);return c}})},function(e,t,n){var i=n(1),r=n(207)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){var i=n(1),r=n(207)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";var i=n(1),r=n(18),o=n(21),a=n(15);n(14)&&i(i.P+n(108),"Object",{__defineGetter__:function(e,t){a.f(r(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(1),r=n(18),o=n(21),a=n(15);n(14)&&i(i.P+n(108),"Object",{__defineSetter__:function(e,t){a.f(r(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(1),r=n(18),o=n(38),a=n(30),s=n(29).f;n(14)&&i(i.P+n(108),"Object",{__lookupGetter__:function(e){var t,n=r(this),i=o(e,!0);do{if(t=s(n,i))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var i=n(1),r=n(18),o=n(38),a=n(30),s=n(29).f;n(14)&&i(i.P+n(108),"Object",{__lookupSetter__:function(e){var t,n=r(this),i=o(e,!0);do{if(t=s(n,i))return t.set}while(n=a(n))}})},function(e,t,n){var i=n(1);i(i.P+i.R,"Map",{toJSON:n(208)("Map")})},function(e,t,n){var i=n(1);i(i.P+i.R,"Set",{toJSON:n(208)("Set")})},function(e,t,n){n(109)("Map")},function(e,t,n){n(109)("Set")},function(e,t,n){n(109)("WeakMap")},function(e,t,n){n(109)("WeakSet")},function(e,t,n){n(110)("Map")},function(e,t,n){n(110)("Set")},function(e,t,n){n(110)("WeakMap")},function(e,t,n){n(110)("WeakSet")},function(e,t,n){var i=n(1);i(i.G,{global:n(10)})},function(e,t,n){var i=n(1);i(i.S,"System",{global:n(10)})},function(e,t,n){var i=n(1),r=n(33);i(i.S,"Error",{isError:function(e){return"Error"===r(e)}})},function(e,t,n){var i=n(1);i(i.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var i=n(1);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var i=n(1),r=180/Math.PI;i(i.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var i=n(1),r=n(210),o=n(190);i(i.S,"Math",{fscale:function(e,t,n,i,a){return o(r(e,t,n,i,a))}})},function(e,t,n){var i=n(1);i(i.S,"Math",{iaddh:function(e,t,n,i){var r=e>>>0,o=t>>>0,a=n>>>0;return o+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(e,t,n){var i=n(1);i(i.S,"Math",{isubh:function(e,t,n,i){var r=e>>>0,o=t>>>0,a=n>>>0;return o-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(e,t,n){var i=n(1);i(i.S,"Math",{imulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(e,t,n){var i=n(1);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var i=n(1),r=Math.PI/180;i(i.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var i=n(1);i(i.S,"Math",{scale:n(210)})},function(e,t,n){var i=n(1);i(i.S,"Math",{umulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(e,t,n){var i=n(1);i(i.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var i=n(1),r=n(37),o=n(10),a=n(105),s=n(197);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(1),r=n(147),o=n(196);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var i=n(51),r=n(8),o=i.key,a=i.set;i.exp({defineMetadata:function(e,t,n,i){a(e,t,r(n),o(i))}})},function(e,t,n){var i=n(51),r=n(8),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(t),n,!1);if(void 0===i||!i.delete(e))return!1;if(i.size)return!0;var l=s.get(t);return l.delete(n),!!l.size||s.delete(t)}})},function(e,t,n){var i=n(51),r=n(8),o=n(30),a=i.has,s=i.get,l=i.key,u=function(e,t,n){if(a(e,t,n))return s(e,t,n);var i=o(t);return null!==i?u(e,i,n):void 0};i.exp({getMetadata:function(e,t){return u(e,r(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var i=n(200),r=n(209),o=n(51),a=n(8),s=n(30),l=o.keys,u=o.key,c=function(e,t){var n=l(e,t),o=s(e);if(null===o)return n;var a=c(o,t);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,n){var i=n(51),r=n(8),o=i.get,a=i.key;i.exp({getOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(51),r=n(8),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(e){return o(r(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var i=n(51),r=n(8),o=n(30),a=i.has,s=i.key,l=function(e,t,n){if(a(e,t,n))return!0;var i=o(t);return null!==i&&l(e,i,n)};i.exp({hasMetadata:function(e,t){return l(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var i=n(51),r=n(8),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(51),r=n(8),o=n(21),a=i.key,s=i.set;i.exp({metadata:function(e,t){return function(n,i){s(e,t,(void 0!==i?r:o)(n),a(i))}}})},function(e,t,n){var i=n(1),r=n(146)(),o=n(10).process,a="process"==n(33)(o);i(i.G,{asap:function(e){var t=a&&o.domain;r(t?t.bind(e):e)}})},function(e,t,n){"use strict";var i=n(1),r=n(10),o=n(37),a=n(146)(),s=n(13)("observable"),l=n(21),u=n(8),c=n(70),d=n(72),h=n(24),p=n(71),f=p.RETURN,m=function(e){return null==e?void 0:l(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,g(e))},_=function(e,t){u(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&g(this)};_.prototype=d({},{unsubscribe:function(){y(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var i=m(n.next);if(i)return i.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var i=m(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var i=m(n.complete);e=i?i.call(n,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=l(e)};d(w.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||r.Promise)(function(n,i){l(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:n})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,n=m(u(e)[s]);if(n){var i=u(n.call(e));return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return f})===f)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var i=0;i<n.length;++i)if(e.next(n[i]),t)return;e.complete()}}),function(){t=!0}})}}),h(w.prototype,s,function(){return this}),i(i.G,{Observable:w}),n(69)("Observable")},function(e,t,n){var i=n(10),r=n(1),o=n(149),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(e,t,n){var i=n(1),r=n(145);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var i=n(144),r=n(65),o=n(25),a=n(10),s=n(24),l=n(77),u=n(13),c=u("iterator"),d=u("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],_=a[v],b=_&&_.prototype;if(b&&(b[c]||s(b,c,h),b[d]||s(b,d,v),l[v]=h,y))for(g in i)b[g]||o(b,g,i[g],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,a=Object.create(o.prototype),s=new p(i||[]);return a._invoke=u(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,r,o,a){var s=i(e[t],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},a)}a(s.arg)}function r(e,t){function i(){return new Promise(function(i,r){n(e,t,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=r}function u(e,t,n){var r=E;return function(o,a){if(r===C)throw new Error("Generator is already running");if(r===L){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===D)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===E)throw r=L,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var u=i(e,t,n);if("normal"===u.type){if(r=n.done?L:T,u.arg===D)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=L,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,c(e,t),"throw"===t.method))return D;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,D;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,D):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,D)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return i.next=i}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",M=_.toStringTag||"@@toStringTag",x="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(x&&(e.exports=S));S=t.regeneratorRuntime=x?e.exports:{},S.wrap=n;var E="suspendedStart",T="suspendedYield",C="executing",L="completed",D={},A={};A[b]=function(){return this};var P=Object.getPrototypeOf,k=P&&P(P(f([])));k&&k!==v&&y.call(k,b)&&(A=k);var O=a.prototype=r.prototype=Object.create(A);o.prototype=O.constructor=a,a.constructor=o,a[M]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,M in e||(e[M]="GeneratorFunction")),e.prototype=Object.create(O),e},S.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[w]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,i,r){var o=new l(n(e,t,i,r));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(O),O[M]="Generator",O[b]=function(){return this},O.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},S.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,D):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),D}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(90))},function(e,t,n){n(595),e.exports=n(37).RegExp.escape},function(e,t,n){var i=n(1),r=n(596)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return r(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){(function(t){(function(){"use strict";function t(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function n(e){return"string"==typeof e}function i(e,t,n){return e.call.apply(e.bind,arguments)}function r(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function o(e,t,n){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:r,o.apply(null,arguments)}function a(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function s(e){function t(){}var n=Y;t.prototype=n.prototype,e.G=n.prototype,e.prototype=new t,e.prototype.constructor=e,e.F=function(e,t,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n.prototype[t].apply(e,r)}}function l(e,t){return-1!=e.indexOf(t)}function u(e,t){return e<t?-1:e>t?1:0}function c(e,t){var i;e:{i=e.length;for(var r=n(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&t.call(void 0,r[o],o,e)){i=o;break e}i=-1}return 0>i?null:n(e)?e.charAt(i):e[i]}function d(e){return Array.prototype.concat.apply(Array.prototype,arguments)}function h(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}function p(){var e=ze.document;return e?e.documentMode:void 0}function f(e){if(!ot[e]){for(var t=0,n=Ue(String(Ze)).split("."),i=Ue(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"",l=/(\d*)(\D*)/g,c=/(\d*)(\D*)/g;do{var d=l.exec(a)||["","",""],h=c.exec(s)||["","",""];if(0==d[0].length&&0==h[0].length)break;t=u(0==d[1].length?0:parseInt(d[1],10),0==h[1].length?0:parseInt(h[1],10))||u(0==d[2].length,0==h[2].length)||u(d[2],h[2])}while(0==t)}ot[e]=0<=t}}function m(e,t,n,i){this.a=e,this.nodeName=n,this.nodeValue=i,this.nodeType=2,this.parentNode=this.ownerElement=t}function g(e,t){var n=ut&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new m(t,e,t.nodeName,n)}function v(e){var t=null,n=e.nodeType;if(1==n&&(t=e.textContent,t=void 0==t||null==t?e.innerText:t,t=void 0==t||null==t?"":t),"string"!=typeof t)if(lt&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;for(var n=0,i=[],t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),lt&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),i[n++]=e}while(e=e.firstChild);for(;n&&!(e=i[--n].nextSibling););}}else t=e.nodeValue;return""+t}function y(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return ut&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function _(e,t,i,r,o){return(lt?b:w).call(null,e,t,n(i)?i:null,n(r)?r:null,o||new A)}function b(e,t,n,i,r){if(e instanceof ce||8==e.b||n&&null===e.b){var o=t.all;if(!o)return r;if("*"!=(e=E(e))&&!(o=t.getElementsByTagName(e)))return r;if(n){for(var a=[],s=0;t=o[s++];)y(t,n,i)&&a.push(t);o=a}for(s=0;t=o[s++];)"*"==e&&"!"==t.tagName||I(r,t);return r}return S(e,t,n,i,r),r}function w(e,t,n,i,r){return t.getElementsByName&&i&&"name"==n&&!Je?(t=t.getElementsByName(i),Ve(t,function(t){e.a(t)&&I(r,t)})):t.getElementsByClassName&&i&&"class"==n?(t=t.getElementsByClassName(i),Ve(t,function(t){t.className==i&&e.a(t)&&I(r,t)})):e instanceof ne?S(e,t,n,i,r):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),Ve(t,function(e){y(e,n,i)&&I(r,e)})),r}function M(e,t,n,i,r){var o;if((e instanceof ce||8==e.b||n&&null===e.b)&&(o=t.childNodes)){var a=E(e);return"*"==a||(o=Ge(o,function(e){return e.tagName&&e.tagName.toLowerCase()==a}))?(n&&(o=Ge(o,function(e){return y(e,n,i)})),Ve(o,function(e){"*"==a&&("!"==e.tagName||"*"==a&&1!=e.nodeType)||I(r,e)}),r):r}return x(e,t,n,i,r)}function x(e,t,n,i,r){for(t=t.firstChild;t;t=t.nextSibling)y(t,n,i)&&e.a(t)&&I(r,t);return r}function S(e,t,n,i,r){for(t=t.firstChild;t;t=t.nextSibling)y(t,n,i)&&e.a(t)&&I(r,t),S(e,t,n,i,r)}function E(e){if(e instanceof ne){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function T(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function C(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(Je&&!(9<=Number(st))){if(9==e.nodeType)return-1;if(9==t.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var n=1==e.nodeType,i=1==t.nodeType;if(n&&i)return e.sourceIndex-t.sourceIndex;var r=e.parentNode,o=t.parentNode;return r==o?D(e,t):!n&&T(r,t)?-1*L(e,t):!i&&T(o,e)?L(t,e):(n?e.sourceIndex:r.sourceIndex)-(i?t.sourceIndex:o.sourceIndex)}return i=9==e.nodeType?e:e.ownerDocument||e.document,n=i.createRange(),n.selectNode(e),n.collapse(!0),i=i.createRange(),i.selectNode(t),i.collapse(!0),n.compareBoundaryPoints(ze.Range.START_TO_END,i)}function L(e,t){var n=e.parentNode;if(n==t)return-1;for(var i=t;i.parentNode!=n;)i=i.parentNode;return D(i,e)}function D(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function A(){this.b=this.a=null,this.l=0}function P(e){this.node=e,this.a=this.b=null}function k(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,i=t.a,r=null,o=null,a=0;n&&i;){var o=n.node,s=i.node;o==s||o instanceof m&&s instanceof m&&o.a==s.a?(o=n,n=n.a,i=i.a):0<C(n.node,i.node)?(o=i,i=i.a):(o=n,n=n.a),(o.b=r)?r.a=o:e.a=o,r=o,a++}for(o=n||i;o;)o.b=r,r=r.a=o,a++,o=o.a;return e.b=r,e.l=a,e}function O(e,t){var n=new P(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function I(e,t){var n=new P(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function R(e){return(e=e.a)?e.node:null}function N(e){return(e=R(e))?v(e):""}function B(e,t){return new j(e,!!t)}function j(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function F(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function Y(e){this.i=e,this.b=this.g=!1,this.f=null}function z(e){return"\n  "+e.toString().split("\n").join("\n  ")}function U(e,t){e.g=t}function H(e,t){e.b=t}function V(e,t){var n=e.a(t);return n instanceof A?+N(n):+n}function G(e,t){var n=e.a(t);return n instanceof A?N(n):""+n}function W(e,t){var n=e.a(t);return n instanceof A?!!n.l:!!n}function X(e,t,n){Y.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==dt&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function q(e,t,n,i,r){t=t.a(i),n=n.a(i);var o;if(t instanceof A&&n instanceof A){for(t=B(t),i=F(t);i;i=F(t))for(r=B(n),o=F(r);o;o=F(r))if(e(v(i),v(o)))return!0;return!1}if(t instanceof A||n instanceof A){t instanceof A?(r=t,i=n):(r=n,i=t),o=B(r);for(var a=typeof i,s=F(o);s;s=F(o)){switch(a){case"number":s=+v(s);break;case"boolean":s=!!v(s);break;case"string":s=v(s);break;default:throw Error("Illegal primitive type for comparison.")}if(r==t&&e(s,i)||r==n&&e(i,s))return!0}return!1}return r?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function Q(e,t,n,i){this.a=e,this.w=t,this.i=n,this.m=i}function Z(e,t,n,i){if(ct.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new Q(e,t,n,i),ct[e.toString()]=e}function K(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function J(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");Y.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function $(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&Ve(t,function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)}),Y.call(this,e.i),this.h=e,this.c=t,U(this,e.g||Xe(t,function(e){return e.g})),H(this,e.D&&!t.length||e.C&&!!t.length||Xe(t,function(e){return e.b}))}function ee(e,t,n,i,r,o,a,s,l){this.j=e,this.i=t,this.g=n,this.D=i,this.C=r,this.m=o,this.A=a,this.v=void 0!==s?s:a,this.B=!!l}function te(e,t,n,i,r,o,a,s){if(ht.hasOwnProperty(e))throw Error("Function already created: "+e+".");ht[e]=new ee(e,t,n,i,!1,r,o,a,s)}function ne(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function ie(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function re(e){this.b=e,this.a=0}function oe(e){e=e.match(pt);for(var t=0;t<e.length;t++)ft.test(e[t])&&e.splice(t,1);return new re(e)}function ae(e,t){return e.b[e.a+(t||0)]}function se(e){return e.b[e.a++]}function le(e){return e.b.length<=e.a}function ue(e){Y.call(this,3),this.c=e.substring(1,e.length-1)}function ce(e,t){this.j=e.toLowerCase();var n;n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function de(e,t){if(Y.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=gt||(n=n.o,"*"!=n.f()&&(this.f={name:n.f(),s:null}))}}function he(){Y.call(this,4)}function pe(){Y.call(this,4)}function fe(e){return"/"==e||"//"==e}function me(e){Y.call(this,4),this.c=e,U(this,Xe(this.c,function(e){return e.g})),H(this,Xe(this.c,function(e){return e.b}))}function ge(e,t){this.a=e,this.b=!!t}function ve(e,t,n){for(n=n||0;n<e.a.length;n++)for(var i,r=e.a[n],o=B(t),a=t.l,s=0;i=F(o);s++){var l=e.b?a-s:s+1;if("number"==typeof(i=r.a(new K(i,l,a))))l=l==i;else if("string"==typeof i||"boolean"==typeof i)l=!!i;else{if(!(i instanceof A))throw Error("Predicate.evaluate returned an unexpected type.");l=0<i.l}if(!l){l=o,i=l.f;var u=l.a;if(!u)throw Error("Next must be called at least once before remove.");var c=u.b,u=u.a;c?c.a=u:i.a=u,u?u.b=c:i.b=c,i.l--,l.a=null}}return t}function ye(e,t,n,i){Y.call(this,4),this.c=e,this.o=t,this.h=n||new ge([]),this.u=!!i,t=this.h,t=0<t.a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=lt?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if(n=e.a[t],n.g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function _e(e,t,n,i){this.j=e,this.f=t,this.a=n,this.b=i}function be(e,t,n,i){if(mt.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new _e(e,t,n,!!i),mt[e]=t}function we(e){Y.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function Me(e){Y.call(this,1),this.c=e}function xe(e,t){this.a=e,this.b=t}function Se(e){for(var t,n=[];;){Ee(e,"Missing right hand side of binary expression."),t=ke(e);var i=se(e.a);if(!i)break;var r=(i=ct[i]||null)&&i.w;if(!r){e.a.a--;break}for(;n.length&&r<=n[n.length-1].w;)t=new X(n.pop(),n.pop(),t);n.push(t,i)}for(;n.length;)t=new X(n.pop(),n.pop(),t);return t}function Ee(e,t){if(le(e.a))throw Error(t)}function Te(e,t){var n=se(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function Ce(e){if(")"!=(e=se(e.a)))throw Error("Bad token: "+e)}function Le(e){if(e=se(e.a),2>e.length)throw Error("Unclosed literal string");return new ue(e)}function De(e){var t,n,i=[];if(fe(ae(e.a))){if(t=se(e.a),n=ae(e.a),"/"==t&&(le(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new he;n=new he,Ee(e,"Missing next location step."),t=Ae(e,t),i.push(t)}else{e:{switch(t=ae(e.a),n=t.charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":se(e.a),t=Se(e),Ee(e,'unclosed "("'),Te(e,")");break;case'"':case"'":t=Le(e);break;default:if(isNaN(+t)){if(ie(t)||!/(?![0-9])[\w]/.test(n)||"("!=ae(e.a,1)){t=null;break e}for(t=se(e.a),t=ht[t]||null,se(e.a),n=[];")"!=ae(e.a)&&(Ee(e,"Missing function argument list."),n.push(Se(e)),","==ae(e.a));)se(e.a);Ee(e,"Unclosed function argument list."),Ce(e),t=new $(t,n)}else t=new Me(+se(e.a))}"["==ae(e.a)&&(n=new ge(Pe(e)),t=new J(t,n))}if(t){if(!fe(ae(e.a)))return t;n=t}else t=Ae(e,"/"),n=new pe,i.push(t)}for(;fe(ae(e.a));)t=se(e.a),Ee(e,"Missing next location step."),t=Ae(e,t),i.push(t);return new de(n,i)}function Ae(e,t){var n,i,r;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==ae(e.a))return i=new ye(Mt,new ne("node")),se(e.a),i;if(".."==ae(e.a))return i=new ye(bt,new ne("node")),se(e.a),i;var o;if("@"==ae(e.a))o=gt,se(e.a),Ee(e,"Missing attribute name");else if("::"==ae(e.a,1)){if(!/(?![0-9])[\w]/.test(ae(e.a).charAt(0)))throw Error("Bad token: "+se(e.a));if(n=se(e.a),!(o=mt[n]||null))throw Error("No axis with name: "+n);se(e.a),Ee(e,"Missing node name")}else o=vt;if(n=ae(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+se(e.a));if("("==ae(e.a,1)){if(!ie(n))throw Error("Invalid node type: "+n);if(n=se(e.a),!ie(n))throw Error("Invalid type name: "+n);Te(e,"("),Ee(e,"Bad nodetype"),r=ae(e.a).charAt(0);var a=null;'"'!=r&&"'"!=r||(a=Le(e)),Ee(e,"Bad nodetype"),Ce(e),n=new ne(n,a)}else if(n=se(e.a),-1==(r=n.indexOf(":")))n=new ce(n);else{var s,a=n.substring(0,r);if("*"==a)s="*";else if(!(s=e.b(a)))throw Error("Namespace prefix not declared: "+a);n=n.substr(r+1),n=new ce(n,s)}return r=new ge(Pe(e),o.a),i||new ye(o,n,r,"//"==t)}function Pe(e){for(var t=[];"["==ae(e.a);){se(e.a),Ee(e,"Missing predicate expression.");var n=Se(e);t.push(n),Ee(e,"Unclosed predicate expression."),Te(e,"]")}return t}function ke(e){if("-"==ae(e.a))return se(e.a),new we(ke(e));var t=De(e);if("|"!=ae(e.a))e=t;else{for(t=[t];"|"==se(e.a);)Ee(e,"Missing next union location path."),t.push(De(e));e.a.a--,e=new me(t)}return e}function Oe(e){switch(e.nodeType){case 1:return a(Re,e);case 9:return Oe(e.documentElement);case 11:case 10:case 6:case 12:return Ie;default:return e.parentNode?Oe(e.parentNode):Ie}}function Ie(){return null}function Re(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?Re(e.parentNode,t):null}function Ne(e,n){if(!e.length)throw Error("Empty XPath expression.");var i=oe(e);if(le(i))throw Error("Invalid XPath expression.");n?"function"==t(n)||(n=o(n.lookupNamespaceURI,n)):n=function(){return null};var r=Se(new xe(i,n));if(!le(i))throw Error("Bad token: "+se(i));this.evaluate=function(e,t){return new Be(r.a(new K(e)),t)}}function Be(e,t){if(0==t)if(e instanceof A)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof A))throw Error("value could not be converted to the specified type");this.resultType=t;var n;switch(t){case 2:this.stringValue=e instanceof A?N(e):""+e;break;case 1:this.numberValue=e instanceof A?+N(e):+e;break;case 3:this.booleanValue=e instanceof A?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var i=B(e);n=[];for(var r=F(i);r;r=F(i))n.push(r instanceof m?r.a:r);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:i=R(e),this.singleNodeValue=i instanceof m?i.a:i;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=n.length?null:n[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function je(e){this.lookupNamespaceURI=Oe(e)}function Fe(e,t){var n=e||ze,i=n.Document&&n.Document.prototype||n.document;i.evaluate&&!t||(n.XPathResult=Be,i.evaluate=function(e,t,n,i){return new Ne(e,n).evaluate(t,i)},i.createExpression=function(e,t){return new Ne(e,t)},i.createNSResolver=function(e){return new je(e)})}var Ye,ze=this,Ue=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},He=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,n(e))return n(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},Ve=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,i){for(var r=e.length,o=n(e)?e.split(""):e,a=0;a<r;a++)a in o&&t.call(i,o[a],a,e)},Ge=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,i){for(var r=e.length,o=[],a=0,s=n(e)?e.split(""):e,l=0;l<r;l++)if(l in s){var u=s[l];t.call(i,u,l,e)&&(o[a++]=u)}return o},We=Array.prototype.reduce?function(e,t,n,i){return i&&(t=o(t,i)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,i){var r=n;return Ve(e,function(n,o){r=t.call(i,r,n,o,e)}),r},Xe=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,i){for(var r=e.length,o=n(e)?e.split(""):e,a=0;a<r;a++)if(a in o&&t.call(i,o[a],a,e))return!0;return!1};e:{var qe=ze.navigator;if(qe){var Qe=qe.userAgent;if(Qe){Ye=Qe;break e}}Ye=""}var Ze,Ke=l(Ye,"Opera")||l(Ye,"OPR"),Je=l(Ye,"Trident")||l(Ye,"MSIE"),$e=l(Ye,"Edge"),et=l(Ye,"Gecko")&&!(l(Ye.toLowerCase(),"webkit")&&!l(Ye,"Edge"))&&!(l(Ye,"Trident")||l(Ye,"MSIE"))&&!l(Ye,"Edge"),tt=l(Ye.toLowerCase(),"webkit")&&!l(Ye,"Edge");e:{var nt="",it=function(){var e=Ye;return et?/rv\:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tt?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(it&&(nt=it?it[1]:""),Je){var rt=p();if(null!=rt&&rt>parseFloat(nt)){Ze=String(rt);break e}}Ze=nt}var ot={},at=ze.document,st=at&&Je?p()||("CSS1Compat"==at.compatMode?parseInt(Ze,10):5):void 0,lt=Je&&!(9<=Number(st)),ut=Je&&!(8<=Number(st));!et&&!Je||Je&&9<=Number(st)||et&&f("1.9.1"),Je&&f("9"),s(X),X.prototype.a=function(e){return this.c.m(this.h,this.o,e)},X.prototype.toString=function(){var e="Binary Expression: "+this.c,e=e+z(this.h);return e+=z(this.o)},Q.prototype.toString=function(){return this.a};var ct={};Z("div",6,1,function(e,t,n){return V(e,n)/V(t,n)}),Z("mod",6,1,function(e,t,n){return V(e,n)%V(t,n)}),Z("*",6,1,function(e,t,n){return V(e,n)*V(t,n)}),Z("+",5,1,function(e,t,n){return V(e,n)+V(t,n)}),Z("-",5,1,function(e,t,n){return V(e,n)-V(t,n)}),Z("<",4,2,function(e,t,n){return q(function(e,t){return e<t},e,t,n)}),Z(">",4,2,function(e,t,n){return q(function(e,t){return e>t},e,t,n)}),Z("<=",4,2,function(e,t,n){return q(function(e,t){return e<=t},e,t,n)}),Z(">=",4,2,function(e,t,n){return q(function(e,t){return e>=t},e,t,n)});var dt=Z("=",3,2,function(e,t,n){return q(function(e,t){return e==t},e,t,n,!0)});Z("!=",3,2,function(e,t,n){return q(function(e,t){return e!=t},e,t,n,!0)}),Z("and",2,2,function(e,t,n){return W(e,n)&&W(t,n)}),Z("or",1,2,function(e,t,n){return W(e,n)||W(t,n)}),s(J),J.prototype.a=function(e){return e=this.c.a(e),ve(this.h,e)},J.prototype.toString=function(){var e;return e="Filter:"+z(this.c),e+=z(this.h)},s($),$.prototype.a=function(e){return this.h.m.apply(null,d(e,this.c))},$.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length)var t=We(this.c,function(e,t){return e+z(t)},"Arguments:"),e=e+z(t);return e},ee.prototype.toString=function(){return this.j};var ht={};te("boolean",2,!1,!1,function(e,t){return W(t,e)},1),te("ceiling",1,!1,!1,function(e,t){return Math.ceil(V(t,e))},1),te("concat",3,!1,!1,function(e,t){return We(h(arguments,1),function(t,n){return t+G(n,e)},"")},2,null),te("contains",2,!1,!1,function(e,t,n){return l(G(t,e),G(n,e))},2),te("count",1,!1,!1,function(e,t){return t.a(e).l},1,1,!0),te("false",2,!1,!1,function(){return!1},0),te("floor",1,!1,!1,function(e,t){return Math.floor(V(t,e))},1),te("id",4,!1,!1,function(e,t){function n(e){if(lt){var t=r.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length)return c(t,function(t){return e==t.id})}return null}return r.getElementById(e)}var i=e.a,r=9==i.nodeType?i:i.ownerDocument,i=G(t,e).split(/\s+/),o=[];Ve(i,function(e){!(e=n(e))||0<=He(o,e)||o.push(e)}),o.sort(C);var a=new A;return Ve(o,function(e){I(a,e)}),a},1),te("lang",2,!1,!1,function(){return!1},1),te("last",1,!0,!1,function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f},0),te("local-name",3,!1,!0,function(e,t){var n=t?R(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""},0,1,!0),te("name",3,!1,!0,function(e,t){var n=t?R(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""},0,1,!0),te("namespace-uri",3,!0,!1,function(){return""},0,1,!0),te("normalize-space",3,!1,!0,function(e,t){return(t?G(t,e):v(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),te("not",2,!1,!1,function(e,t){return!W(t,e)},1),te("number",1,!1,!0,function(e,t){return t?V(t,e):+v(e.a)},0,1),te("position",1,!0,!1,function(e){return e.b},0),te("round",1,!1,!1,function(e,t){return Math.round(V(t,e))},1),te("starts-with",2,!1,!1,function(e,t,n){return t=G(t,e),e=G(n,e),0==t.lastIndexOf(e,0)},2),te("string",3,!1,!0,function(e,t){return t?G(t,e):v(e.a)},0,1),te("string-length",1,!1,!0,function(e,t){return(t?G(t,e):v(e.a)).length},0,1),te("substring",3,!1,!1,function(e,t,n,i){if(n=V(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(i=i?V(i,e):1/0,isNaN(i)||-1/0===i)return"";n=Math.round(n)-1;var r=Math.max(n,0);return e=G(t,e),1/0==i?e.substring(r):e.substring(r,n+Math.round(i))},2,3),te("substring-after",3,!1,!1,function(e,t,n){return t=G(t,e),e=G(n,e),n=t.indexOf(e),-1==n?"":t.substring(n+e.length)},2),te("substring-before",3,!1,!1,function(e,t,n){return t=G(t,e),e=G(n,e),e=t.indexOf(e),-1==e?"":t.substring(0,e)},2),te("sum",1,!1,!1,function(e,t){for(var n=B(t.a(e)),i=0,r=F(n);r;r=F(n))i+=+v(r);return i},1,1,!0),te("translate",3,!1,!1,function(e,t,n,i){t=G(t,e),n=G(n,e);var r=G(i,e);for(e={},i=0;i<n.length;i++){var o=n.charAt(i);o in e||(e[o]=r.charAt(i))}for(n="",i=0;i<t.length;i++)o=t.charAt(i),n+=o in e?e[o]:o;return n},3),te("true",2,!1,!1,function(){return!0},0),ne.prototype.a=function(e){return null===this.b||this.b==e.nodeType},ne.prototype.f=function(){return this.h},ne.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=z(this.c)),e};var pt=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,ft=/^\s/;s(ue),ue.prototype.a=function(){return this.c},ue.prototype.toString=function(){return"Literal: "+this.c},ce.prototype.a=function(e){var t=e.nodeType;return!(1!=t&&2!=t||(t=void 0!==e.localName?e.localName:e.nodeName,"*"!=this.j&&this.j!=t.toLowerCase()||"*"!=this.c&&this.c!=(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},ce.prototype.f=function(){return this.j},ce.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},s(de),s(he),he.prototype.a=function(e){var t=new A;return e=e.a,9==e.nodeType?I(t,e):I(t,e.ownerDocument),t},he.prototype.toString=function(){return"Root Helper Expression"},s(pe),pe.prototype.a=function(e){var t=new A;return I(t,e.a),t},pe.prototype.toString=function(){return"Context Helper Expression"},de.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof A))throw Error("Filter expression must evaluate to nodeset.");e=this.c;for(var n=0,i=e.length;n<i&&t.l;n++){var r,o=e[n],a=B(t,o.c.a);if(o.g||o.c!=_t)if(o.g||o.c!=wt)for(r=F(a),t=o.a(new K(r));null!=(r=F(a));)r=o.a(new K(r)),t=k(t,r);else r=F(a),t=o.a(new K(r));else{for(r=F(a);(t=F(a))&&(!r.contains||r.contains(t))&&8&t.compareDocumentPosition(r);r=t);t=o.a(new K(r))}}return t},de.prototype.toString=function(){var e;return e="Path Expression:"+z(this.h),this.c.length&&(e+=z(We(this.c,function(e,t){return e+z(t)},"Steps:"))),e},s(me),me.prototype.a=function(e){var t=new A;return Ve(this.c,function(n){if(!((n=n.a(e))instanceof A))throw Error("Path expression must evaluate to NodeSet.");t=k(t,n)}),t},me.prototype.toString=function(){return We(this.c,function(e,t){return e+z(t)},"Union Expression:")},ge.prototype.toString=function(){return We(this.a,function(e,t){return e+z(t)},"Predicates:")},s(ye),ye.prototype.a=function(e){var t=e.a,n=null,n=this.f,i=null,r=null,o=0;if(n&&(i=n.name,r=n.s?G(n.s,e):null,o=1),this.u)if(this.g||this.c!=vt)if(e=B(new ye(yt,new ne("node")).a(e)),t=F(e))for(n=this.m(t,i,r,o);null!=(t=F(e));)n=k(n,this.m(t,i,r,o));else n=new A;else n=_(this.o,t,i,r),n=ve(this.h,n,o);else n=this.m(e.a,i,r,o);return n},ye.prototype.m=function(e,t,n,i){return e=this.c.f(this.o,e,t,n),e=ve(this.h,e,i)},ye.prototype.toString=function(){var e;return e="Step:"+z("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=z("Axis: "+this.c)),e+=z(this.o),this.h.a.length&&(e+=z(We(this.h.a,function(e,t){return e+z(t)},"Predicates:"))),e},_e.prototype.toString=function(){return this.j};var mt={};be("ancestor",function(e,t){for(var n=new A,i=t;i=i.parentNode;)e.a(i)&&O(n,i);return n},!0),be("ancestor-or-self",function(e,t){var n=new A,i=t;do{e.a(i)&&O(n,i)}while(i=i.parentNode);return n},!0);var gt=be("attribute",function(e,t){var n=new A,i=e.f();if("style"==i&&lt&&t.style)return I(n,new m(t.style,t,"style",t.style.cssText)),n;var r=t.attributes;if(r)if(e instanceof ne&&null===e.b||"*"==i)for(var o,i=0;o=r[i];i++)lt?o.nodeValue&&I(n,g(t,o)):I(n,o);else(o=r.getNamedItem(i))&&(lt?o.nodeValue&&I(n,g(t,o)):I(n,o));return n},!1),vt=be("child",function(e,t,i,r,o){return(lt?M:x).call(null,e,t,n(i)?i:null,n(r)?r:null,o||new A)},!1,!0);be("descendant",_,!1,!0);var yt=be("descendant-or-self",function(e,t,n,i){var r=new A;return y(t,n,i)&&e.a(t)&&I(r,t),_(e,t,n,i,r)},!1,!0),_t=be("following",function(e,t,n,i){var r=new A;do{for(var o=t;o=o.nextSibling;)y(o,n,i)&&e.a(o)&&I(r,o),r=_(e,o,n,i,r)}while(t=t.parentNode);return r},!1,!0);be("following-sibling",function(e,t){for(var n=new A,i=t;i=i.nextSibling;)e.a(i)&&I(n,i);return n},!1),be("namespace",function(){return new A},!1);var bt=be("parent",function(e,t){var n=new A;if(9==t.nodeType)return n;if(2==t.nodeType)return I(n,t.ownerElement),n;var i=t.parentNode;return e.a(i)&&I(n,i),n},!1),wt=be("preceding",function(e,t,n,i){var r=new A,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var a=1,s=o.length;a<s;a++){var l=[];for(t=o[a];t=t.previousSibling;)l.unshift(t);for(var u=0,c=l.length;u<c;u++)t=l[u],y(t,n,i)&&e.a(t)&&I(r,t),r=_(e,t,n,i,r)}return r},!0,!0);be("preceding-sibling",function(e,t){for(var n=new A,i=t;i=i.previousSibling;)e.a(i)&&O(n,i);return n},!0);var Mt=be("self",function(e,t){var n=new A;return e.a(t)&&I(n,t),n},!1);s(we),we.prototype.a=function(e){return-V(this.c,e)},we.prototype.toString=function(){return"Unary Expression: -"+z(this.c)},s(Me),Me.prototype.a=function(){return this.c},Me.prototype.toString=function(){return"Number: "+this.c},Be.ANY_TYPE=0,Be.NUMBER_TYPE=1,Be.STRING_TYPE=2,Be.BOOLEAN_TYPE=3,Be.UNORDERED_NODE_ITERATOR_TYPE=4,Be.ORDERED_NODE_ITERATOR_TYPE=5,Be.UNORDERED_NODE_SNAPSHOT_TYPE=6,Be.ORDERED_NODE_SNAPSHOT_TYPE=7,Be.ANY_UNORDERED_NODE_TYPE=8,Be.FIRST_ORDERED_NODE_TYPE=9;var xt=["wgxpath","install"],St=ze;xt[0]in St||!St.execScript||St.execScript("var "+xt[0]);for(var Et;xt.length&&(Et=xt.shift());)xt.length||void 0===Fe?St=St[Et]?St[Et]:St[Et]={}:St[Et]=Fe;e.exports.install=Fe,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(t)}).call(t,n(90))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseApi=void 0;var r=n(213),o=i(r),a=n(371),s=i(a),l=n(667),u=i(l),c=n(668),d=i(c),h=n(669),p=i(h),f=n(372),m=i(f),g=n(89),v=i(g),y=n(170),_=i(y),b=n(374),w=i(b),M=n(120),x=i(M),S={BaseDataTypeAction:o.default,BaseDataTypeView:s.default,BaseFacetType:u.default,BaseMetadataPlugin:d.default,BaseSearchSource:p.default,BaseToolbarButton:m.default,BaseView:v.default,SimpleLoader:_.default,SimpleSnapshotService:w.default,SimpleTileManager:x.default};t.BaseApi=S},function(e,t,n){var i;!function(t){"use strict";function r(){}function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}function s(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&s(e.listener)}var l=r.prototype,u=t.EventEmitter;l.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},l.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},l.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},l.addListener=function(e,t){if(!s(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),r="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===o(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});return this},l.on=a("addListener"),l.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},l.once=a("addOnceListener"),l.defineEvent=function(e){return this.getListeners(e),this},l.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},l.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1!==(n=o(r[i],t))&&r[i].splice(n,1);return this},l.off=a("removeListener"),l.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},l.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},l.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},l.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},l.removeAllListeners=a("removeEvent"),l.emitEvent=function(e,t){var n,i,r,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)i=n[r],!0===i.once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},l.trigger=a("emitEvent"),l.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},l.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},l._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},l._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=u,r},void 0!==(i=function(){return r}.call(t,n,t,e))&&(e.exports=i)}(this||{})},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./af":214,"./af.js":214,"./ar":215,"./ar-dz":216,"./ar-dz.js":216,"./ar-kw":217,"./ar-kw.js":217,"./ar-ly":218,"./ar-ly.js":218,"./ar-ma":219,"./ar-ma.js":219,"./ar-sa":220,"./ar-sa.js":220,"./ar-tn":221,"./ar-tn.js":221,"./ar.js":215,"./az":222,"./az.js":222,"./be":223,"./be.js":223,"./bg":224,"./bg.js":224,"./bm":225,"./bm.js":225,"./bn":226,"./bn.js":226,"./bo":227,"./bo.js":227,"./br":228,"./br.js":228,"./bs":229,"./bs.js":229,"./ca":230,"./ca.js":230,"./cs":231,"./cs.js":231,"./cv":232,"./cv.js":232,"./cy":233,"./cy.js":233,"./da":234,"./da.js":234,"./de":235,"./de-at":236,"./de-at.js":236,"./de-ch":237,"./de-ch.js":237,"./de.js":235,"./dv":238,"./dv.js":238,"./el":239,"./el.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-nz":244,"./en-nz.js":244,"./eo":245,"./eo.js":245,"./es":246,"./es-do":247,"./es-do.js":247,"./es-us":248,"./es-us.js":248,"./es.js":246,"./et":249,"./et.js":249,"./eu":250,"./eu.js":250,"./fa":251,"./fa.js":251,"./fi":252,"./fi.js":252,"./fo":253,"./fo.js":253,"./fr":254,"./fr-ca":255,"./fr-ca.js":255,"./fr-ch":256,"./fr-ch.js":256,"./fr.js":254,"./fy":257,"./fy.js":257,"./gd":258,"./gd.js":258,"./gl":259,"./gl.js":259,"./gom-latn":260,"./gom-latn.js":260,"./gu":261,"./gu.js":261,"./he":262,"./he.js":262,"./hi":263,"./hi.js":263,"./hr":264,"./hr.js":264,"./hu":265,"./hu.js":265,"./hy-am":266,"./hy-am.js":266,"./id":267,"./id.js":267,"./is":268,"./is.js":268,"./it":269,"./it.js":269,"./ja":270,"./ja.js":270,"./jv":271,"./jv.js":271,"./ka":272,"./ka.js":272,"./kk":273,"./kk.js":273,"./km":274,"./km.js":274,"./kn":275,"./kn.js":275,"./ko":276,"./ko.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mr":286,"./mr.js":286,"./ms":287,"./ms-my":288,"./ms-my.js":288,"./ms.js":287,"./my":289,"./my.js":289,"./nb":290,"./nb.js":290,"./ne":291,"./ne.js":291,"./nl":292,"./nl-be":293,"./nl-be.js":293,"./nl.js":292,"./nn":294,"./nn.js":294,"./pa-in":295,"./pa-in.js":295,"./pl":296,"./pl.js":296,"./pt":297,"./pt-br":298,"./pt-br.js":298,"./pt.js":297,"./ro":299,"./ro.js":299,"./ru":300,"./ru.js":300,"./sd":301,"./sd.js":301,"./se":302,"./se.js":302,"./si":303,"./si.js":303,"./sk":304,"./sk.js":304,"./sl":305,"./sl.js":305,"./sq":306,"./sq.js":306,"./sr":307,"./sr-cyrl":308,"./sr-cyrl.js":308,"./sr.js":307,"./ss":309,"./ss.js":309,"./sv":310,"./sv.js":310,"./sw":311,"./sw.js":311,"./ta":312,"./ta.js":312,"./te":313,"./te.js":313,"./tet":314,"./tet.js":314,"./th":315,"./th.js":315,"./tl-ph":316,"./tl-ph.js":316,"./tlh":317,"./tlh.js":317,"./tr":318,"./tr.js":318,"./tzl":319,"./tzl.js":319,"./tzm":320,"./tzm-latn":321,"./tzm-latn.js":321,"./tzm.js":320,"./uk":322,"./uk.js":322,"./ur":323,"./ur.js":323,"./uz":324,"./uz-latn":325,"./uz-latn.js":325,"./uz.js":324,"./vi":326,"./vi.js":326,"./x-pseudo":327,"./x-pseudo.js":327,"./yo":328,"./yo.js":328,"./zh-cn":329,"./zh-cn.js":329,"./zh-hk":330,"./zh-hk.js":330,"./zh-tw":331,"./zh-tw.js":331};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=601},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./Ajax/Ajax":22,"./Ajax/Ajax.js":22,"./Ajax/Ajax.test":332,"./Ajax/Ajax.test.js":332,"./Colors/Colors":43,"./Colors/Colors.js":43,"./Colors/Colors.test":333,"./Colors/Colors.test.js":333,"./Config/Config":3,"./Config/Config.js":3,"./Config/Config.test":334,"./Config/Config.test.js":334,"./Cookies/Cookies":150,"./Cookies/Cookies.js":150,"./DrawingManager/DrawingManager":56,"./DrawingManager/DrawingManager.js":56,"./DrawingManager/DrawingManager.test":335,"./DrawingManager/DrawingManager.test.js":335,"./Events/Events":2,"./Events/Events.js":2,"./Events/Events.test":336,"./Events/Events.test.js":336,"./GlobalKeyMaster/GlobalKeyMaster":111,"./GlobalKeyMaster/GlobalKeyMaster.js":111,"./GlobalKeyMaster/GlobalKeyMaster.test":337,"./GlobalKeyMaster/GlobalKeyMaster.test.js":337,"./Helpers/Helpers":6,"./Helpers/Helpers.js":6,"./Helpers/Helpers.test":338,"./Helpers/Helpers.test.js":338,"./Log/Log":19,"./Log/Log.js":19,"./Log/Log.test":339,"./Log/Log.test.js":339,"./PerformanceManager/PerformanceManager":79,"./PerformanceManager/PerformanceManager.js":79,"./PerformanceManager/PerformanceManager.test":340,"./PerformanceManager/PerformanceManager.test.js":340,"./PerformanceTest/PerformanceTest":112,"./PerformanceTest/PerformanceTest.js":112,"./PerformanceTest/TestDefinition":151,"./PerformanceTest/TestDefinition.js":151,"./PerformanceTest/Units/GeometryTest":152,"./PerformanceTest/Units/GeometryTest.js":152,"./PerformanceTest/Units/TextureTest":153,"./PerformanceTest/Units/TextureTest.js":153,"./Stats/Stats":113,"./Stats/Stats.js":113,"./Stats/Stats.test":341,"./Stats/Stats.test.js":341,"./UtilsApi":114,"./UtilsApi.js":114,"./UtilsApi.test":342,"./UtilsApi.test.js":342};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=602},function(e,t,n){"use strict";function i(e,t,n){var i=Array.prototype.slice.call(arguments,1);return e.apply(null,i)}var r=n(80),o=n(155),a=n(605),s=n(85),l=n(48),u=n(162),c=n(84),d=n(46),h=n(49),p=n(357),f=n(618),m=n(82),g=n(53),v=n(360),y=n(59),_=n(370),b=n(664),w=n(346),M=n(666);n(44),f.inject();var x={Children:{map:a.map,forEach:a.forEach,count:a.count,only:M},DOM:h,PropTypes:_,initializeTouchEvents:function(e){o.useTouchEvents=e},createClass:l.createClass,createDescriptor:function(){return i.apply(this,arguments)},createElement:i,constructAndRenderComponent:g.constructAndRenderComponent,constructAndRenderComponentByID:g.constructAndRenderComponentByID,renderComponent:y.measure("React","renderComponent",g.renderComponent),renderComponentToString:b.renderComponentToString,renderComponentToStaticMarkup:b.renderComponentToStaticMarkup,unmountComponentAtNode:g.unmountComponentAtNode,isValidClass:d.isValidFactory,isValidComponent:d.isValidDescriptor,withContext:u.withContext,__internals:{Component:s,CurrentOwner:c,DOMComponent:p,DOMPropertyOperations:r,InstanceHandles:m,Mount:g,MultiChild:v,TextComponent:w}};x.version="0.11.2",e.exports=x},function(e,t,n){function i(e,t,n,i,r,o,a){e=e||{};for(var s,l=[t,n,i,r,o],u=0;l[u];){s=l[u++];for(var c in s)e[c]=s[c];s.hasOwnProperty&&s.hasOwnProperty("toString")&&void 0!==s.toString&&e.toString!==s.toString&&(e.toString=s.toString)}return e}e.exports=i},function(e,t,n){"use strict";function i(e,t){this.forEachFunction=e,this.forEachContext=t}function r(e,t,n,i){var r=e;r.forEachFunction.call(r.forEachContext,t,i)}function o(e,t,n){if(null==e)return e;var o=i.getPooled(t,n);h(e,r,o),i.release(o)}function a(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,t,n,i){var r=e,o=r.mapResult;if(!o.hasOwnProperty(n)){var a=r.mapFunction.call(r.mapContext,t,i);o[n]=a}}function l(e,t,n){if(null==e)return e;var i={},r=a.getPooled(i,t,n);return h(e,s,r),a.release(r),i}function u(e,t,n,i){return null}function c(e,t){return h(e,u,null)}var d=n(58),h=n(344),p=(n(44),d.twoArgumentPooler),f=d.threeArgumentPooler;d.addPoolingTo(i,p),d.addPoolingTo(a,f);var m={forEach:o,map:l,count:c};e.exports=m},function(e,t,n){"use strict";function i(e){r.enqueueEvents(e),r.processEventQueue()}var r=n(94),o={handleTopLevel:function(e,t,n,o){i(r.extractEvents(e,t,n,o))}};e.exports=o},function(e,t,n){"use strict";var i=n(7),r=n(73),o=function(e){return"object"!=typeof e||null===e},a={MAX_MERGE_DEPTH:36,isTerminal:o,normalizeMergeArg:function(e){return void 0===e||null===e?{}:e},checkMergeArrayArgs:function(e,t){i(Array.isArray(e)&&Array.isArray(t))},checkMergeObjectArgs:function(e,t){a.checkMergeObjectArg(e),a.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){i(!o(e)&&!Array.isArray(e))},checkMergeIntoObjectArg:function(e){i(!(o(e)&&"function"!=typeof e||Array.isArray(e)))},checkMergeLevel:function(e){i(e<36)},checkArrayStrategy:function(e){i(void 0===e||e in a.ArrayStrategies)},ArrayStrategies:r({Clobber:!0,IndexByIndex:!0})};e.exports=a},function(e,t,n){function i(e){return r(e)&&3==e.nodeType}var r=n(609);e.exports=i},function(e,t){function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";var i={guard:function(e,t){return e}};e.exports=i},function(e,t,n){"use strict";function i(e){return function(t,n,i){t.hasOwnProperty(n)?t[n]=e(t[n],i):t[n]=i}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=c[n];i&&c.hasOwnProperty(n)?i(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var o=n(52),a=n(7),s=n(613),l=n(35),u=i(function(e,t){return l(t,e)}),c={children:o,className:i(s),key:o,ref:o,style:u},d={TransferStrategies:c,mergeProps:function(e,t){return r(l(e),t)},Mixin:{transferPropsTo:function(e){return a(e._owner===this),r(e.props,this.props),e}}};e.exports=d},function(e,t,n){"use strict";function i(e){e||(e="");var t,n=arguments.length;if(n>1)for(var i=1;i<n;i++)(t=arguments[i])&&(e+=" "+t);return e}e.exports=i},function(e,t,n){"use strict";function i(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=n(359),o=r.isUnitlessNumber;e.exports=i},function(e,t,n){"use strict";function i(e){return r(e).replace(o,"-ms-")}var r=n(616),o=/^ms-/;e.exports=i},function(e,t){function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function i(e,t,n){var i=e;!i.hasOwnProperty(n)&&null!=t&&(i[n]=t)}function r(e){if(null==e)return e;var t={};return o(e,i,t),t}var o=n(344);n(44),e.exports=r},function(e,t,n){"use strict";function i(){E.EventEmitter.injectReactEventListener(S),E.EventPluginHub.injectEventPluginOrder(l),E.EventPluginHub.injectInstanceHandle(T),E.EventPluginHub.injectMount(C),E.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:A,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,CompositionEventPlugin:s,MobileSafariClickEventPlugin:h,SelectEventPlugin:L,BeforeInputEventPlugin:r}),E.DOM.injectComponentClasses({button:v,form:y,img:_,input:b,option:w,select:M,textarea:x,html:k(g.html),head:k(g.head),body:k(g.body)}),E.CompositeComponent.injectMixin(p),E.DOMProperty.injectDOMPropertyConfig(d),E.DOMProperty.injectDOMPropertyConfig(P),E.EmptyComponent.injectEmptyComponent(g.noscript),E.Updates.injectReconcileTransaction(f.ReactReconcileTransaction),E.Updates.injectBatchingStrategy(m),E.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:D.createReactRootIndex),E.Component.injectEnvironment(f)}var r=n(619),o=n(621),a=n(622),s=n(623),l=n(627),u=n(628),c=n(27),d=n(629),h=n(630),p=n(45),f=n(631),m=n(640),g=n(49),v=n(641),y=n(642),_=n(643),b=n(644),w=n(645),M=n(646),x=n(647),S=n(648),E=n(650),T=n(82),C=n(53),L=n(651),D=n(653),A=n(654),P=n(662),k=n(663);e.exports={inject:i}},function(e,t,n){"use strict";function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var r=n(31),o=n(87),a=n(27),s=n(620),l=n(60),u=a.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}()),c=String.fromCharCode(32),d=r.topLevelTypes,h={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[d.topCompositionEnd,d.topKeyPress,d.topTextInput,d.topPaste]}},p=null,f={eventTypes:h,extractEvents:function(e,t,n,r){var a;if(u)switch(e){case d.topKeyPress:var l=r.which;if(32!==l)return;a=String.fromCharCode(l);break;case d.topTextInput:if((a=r.data)===c)return;break;default:return}else{switch(e){case d.topPaste:p=null;break;case d.topKeyPress:r.which&&!i(r)&&(p=String.fromCharCode(r.which));break;case d.topCompositionEnd:p=r.data}if(null===p)return;a=p}if(a){var f=s.getPooled(h.beforeInput,n,r);return f.data=a,p=null,o.accumulateTwoPhaseDispatches(f),f}}};e.exports=f},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(74),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function r(e){var t=x.getPooled(L.change,A,e);b.accumulateTwoPhaseDispatches(t),M.batchedUpdates(o,t)}function o(e){_.enqueueEvents(e),_.processEventQueue()}function a(e,t){D=e,A=t,D.attachEvent("onchange",r)}function s(){D&&(D.detachEvent("onchange",r),D=null,A=null)}function l(e,t,n){if(e===C.topChange)return n}function u(e,t,n){e===C.topFocus?(s(),a(t,n)):e===C.topBlur&&s()}function c(e,t){D=e,A=t,P=e.value,k=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(D,"value",R),D.attachEvent("onpropertychange",h)}function d(){D&&(delete D.value,D.detachEvent("onpropertychange",h),D=null,A=null,P=null,k=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,r(e))}}function p(e,t,n){if(e===C.topInput)return n}function f(e,t,n){e===C.topFocus?(d(),c(t,n)):e===C.topBlur&&d()}function m(e,t,n){if((e===C.topSelectionChange||e===C.topKeyUp||e===C.topKeyDown)&&D&&D.value!==P)return P=D.value,A}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===C.topClick)return n}var y=n(31),_=n(94),b=n(87),w=n(27),M=n(86),x=n(74),S=n(159),E=n(362),T=n(60),C=y.topLevelTypes,L={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},D=null,A=null,P=null,k=null,O=!1;w.canUseDOM&&(O=S("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;w.canUseDOM&&(I=S("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return k.get.call(this)},set:function(e){P=""+e,k.set.call(this,e)}},N={eventTypes:L,extractEvents:function(e,t,n,r){var o,a;if(i(t)?O?o=l:a=u:E(t)?I?o=p:(o=m,a=f):g(t)&&(o=v),o){var s=o(e,t,n);if(s){var c=x.getPooled(L.change,s,r);return b.accumulateTwoPhaseDispatches(c),c}}a&&a(e,t,n)}};e.exports=N},function(e,t,n){"use strict";var i=0,r={createReactRootIndex:function(){return i++}};e.exports=r},function(e,t,n){"use strict";function i(e){switch(e){case y.topCompositionStart:return b.compositionStart;case y.topCompositionEnd:return b.compositionEnd;case y.topCompositionUpdate:return b.compositionUpdate}}function r(e,t){return e===y.topKeyDown&&t.keyCode===m}function o(e,t){switch(e){case y.topKeyUp:return-1!==f.indexOf(t.keyCode);case y.topKeyDown:return t.keyCode!==m;case y.topKeyPress:case y.topMouseDown:case y.topBlur:return!0;default:return!1}}function a(e){this.root=e,this.startSelection=c.getSelection(e),this.startValue=this.getText()}var s=n(31),l=n(87),u=n(27),c=n(166),d=n(626),h=n(167),p=n(60),f=[9,13,27,32],m=229,g=u.canUseDOM&&"CompositionEvent"in window,v=!g||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,y=s.topLevelTypes,_=null,b={compositionEnd:{phasedRegistrationNames:{bubbled:p({onCompositionEnd:null}),captured:p({onCompositionEndCapture:null})},dependencies:[y.topBlur,y.topCompositionEnd,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:p({onCompositionStart:null}),captured:p({onCompositionStartCapture:null})},dependencies:[y.topBlur,y.topCompositionStart,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:p({onCompositionUpdate:null}),captured:p({onCompositionUpdateCapture:null})},dependencies:[y.topBlur,y.topCompositionUpdate,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]}};a.prototype.getText=function(){return this.root.value||this.root[h()]},a.prototype.getData=function(){var e=this.getText(),t=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return e.substr(t,e.length-n-t)};var w={eventTypes:b,extractEvents:function(e,t,n,s){var u,c;if(g?u=i(e):_?o(e,s)&&(u=b.compositionEnd):r(e,s)&&(u=b.compositionStart),v&&(_||u!==b.compositionStart?u===b.compositionEnd&&_&&(c=_.getData(),_=null):_=new a(t)),u){var h=d.getPooled(u,n,s);return c&&(h.data=c),l.accumulateTwoPhaseDispatches(h),h}}};e.exports=w},function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function r(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length;return{start:o,end:o+i}}function o(e){var t=window.getSelection();if(0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),l=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var d=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=d?0:c.toString().length,p=h+u,f=document.createRange();f.setStart(n,r),f.setEnd(o,a);var m=f.collapsed;return f.detach(),{start:m?p:h,end:m?h:p}}function a(e,t){var n,i,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(e,t){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o=void 0===t.end?r:Math.min(t.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=u(e,r),l=u(e,o);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d)),d.detach()}}var l=n(27),u=n(625),c=n(167),d=l.canUseDOM&&document.selection,h={getOffsets:d?r:o,setOffsets:d?a:s};e.exports=h},function(e,t,n){"use strict";function i(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=i(e),o=0,a=0;n;){if(3==n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=i(r(n))}}e.exports=o},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(74),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";var i=n(60),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({CompositionEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];e.exports=r},function(e,t,n){"use strict";var i=n(31),r=n(87),o=n(118),a=n(53),s=n(60),l=i.topLevelTypes,u=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],h={eventTypes:c,extractEvents:function(e,t,n,i){if(e===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(t.window===t)s=t;else{var h=t.ownerDocument;s=h?h.defaultView||h.parentWindow:window}var p,f;if(e===l.topMouseOut?(p=t,f=u(i.relatedTarget||i.toElement)||s):(p=s,f=t),p===f)return null;var m=p?a.getID(p):"",g=f?a.getID(f):"",v=o.getPooled(c.mouseLeave,m,i);v.type="mouseleave",v.target=p,v.relatedTarget=f;var y=o.getPooled(c.mouseEnter,g,i);return y.type="mouseenter",y.target=f,y.relatedTarget=p,r.accumulateEnterLeaveDispatches(v,y,m,g),d[0]=v,d[1]=y,d}};e.exports=h},function(e,t,n){"use strict";var i,r=n(81),o=n(27),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,d=r.injection.HAS_POSITIVE_NUMERIC_VALUE,h=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;i=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:a,checked:s|l,className:i?a:s,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,defer:l,dir:null,disabled:a|l,download:h,draggable:null,encType:null,form:a,formNoValidate:l,frameBorder:a,height:a,hidden:a|l,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:null,loop:s|l,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|l,muted:s|l,name:null,noValidate:l,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scrollLeft:s,scrolling:null,scrollTop:s,seamless:a|l,selected:s|l,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|l,itemType:a,property:null},DOMAttributeNames:{className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},function(e,t,n){"use strict";var i=n(31),r=n(52),o=i.topLevelTypes,a={eventTypes:null,extractEvents:function(e,t,n,i){if(e===o.topTouchStart){var a=i.target;a&&!a.onclick&&(a.onclick=r)}}};e.exports=a},function(e,t,n){"use strict";var i=n(632),r=n(367),o=n(53),a=n(59),s=n(639),l=n(351),u=n(7),c=n(366),d={ReactReconcileTransaction:s,BackendIDOperations:i,unmountIDFromEnvironment:function(e){o.purgeID(e)},mountImageIntoNode:a.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(e,t,n){if(u(t&&(1===t.nodeType||9===t.nodeType)),n){if(r.canReuseMarkup(e,l(t)))return;u(9!==t.nodeType)}u(9!==t.nodeType),c(t,e)})};e.exports=d},function(e,t,n){"use strict";var i=n(358),r=n(633),o=n(80),a=n(53),s=n(59),l=n(7),u=n(366),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},d={updatePropertyByID:s.measure("ReactDOMIDOperations","updatePropertyByID",function(e,t,n){var i=a.getNode(e);l(!c.hasOwnProperty(t)),null!=n?o.setValueForProperty(i,t,n):o.deleteValueForProperty(i,t)}),deletePropertyByID:s.measure("ReactDOMIDOperations","deletePropertyByID",function(e,t,n){var i=a.getNode(e);l(!c.hasOwnProperty(t)),o.deleteValueForProperty(i,t,n)}),updateStylesByID:s.measure("ReactDOMIDOperations","updateStylesByID",function(e,t){var n=a.getNode(e);i.setValueForStyles(n,t)}),updateInnerHTMLByID:s.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(e,t){var n=a.getNode(e);u(n,t)}),updateTextContentByID:s.measure("ReactDOMIDOperations","updateTextContentByID",function(e,t){var n=a.getNode(e);r.updateTextContent(n,t)}),dangerouslyReplaceNodeWithMarkupByID:s.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)}),dangerouslyProcessChildrenUpdates:s.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)})};e.exports=d},function(e,t,n){"use strict";function i(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var r,o=n(634),a=n(361),s=n(167),l=n(7),u=s();r="textContent"===u?function(e,t){e.textContent=t}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);if(t){var n=e.ownerDocument||document;e.appendChild(n.createTextNode(t))}};var c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(e,t){for(var n,s=null,u=null,c=0;n=e[c];c++)if(n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var d=n.fromIndex,h=n.parentNode.childNodes[d],p=n.parentID;l(h),s=s||{},s[p]=s[p]||[],s[p][d]=h,u=u||[],u.push(h)}var f=o.dangerouslyRenderMarkup(t);if(u)for(var m=0;m<u.length;m++)u[m].parentNode.removeChild(u[m]);for(var g=0;n=e[g];g++)switch(n.type){case a.INSERT_MARKUP:i(n.parentNode,f[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:i(n.parentNode,s[n.parentID][n.fromIndex],n.toIndex);break;case a.TEXT_CONTENT:r(n.parentNode,n.textContent);break;case a.REMOVE_NODE:}}};e.exports=c},function(e,t,n){"use strict";function i(e){return e.substring(1,e.indexOf(" "))}var r=n(27),o=n(635),a=n(52),s=n(365),l=n(7),u=/^(<[^ \/>]+)/,c={dangerouslyRenderMarkup:function(e){l(r.canUseDOM);for(var t,n={},c=0;c<e.length;c++)l(e[c]),t=i(e[c]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][c]=e[c];var d=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var p=n[t];for(var f in p)if(p.hasOwnProperty(f)){var m=p[f];p[f]=m.replace(u,'$1 data-danger-index="'+f+'" ')}var g=o(p.join(""),a);for(c=0;c<g.length;++c){var v=g[c];v.hasAttribute&&v.hasAttribute("data-danger-index")&&(f=+v.getAttribute("data-danger-index"),v.removeAttribute("data-danger-index"),l(!d.hasOwnProperty(f)),d[f]=v,h+=1)}}return l(h===d.length),l(d.length===e.length),d},dangerouslyReplaceNodeWithMarkup:function(e,t){l(r.canUseDOM),l(t),l("html"!==e.tagName.toLowerCase());var n=o(t,a)[0];e.parentNode.replaceChild(n,e)}};e.exports=c},function(e,t,n){function i(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var n=u;l(!!u);var r=i(e),o=r&&s(r);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(l(t),a(d).forEach(t));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(27),a=n(636),s=n(365),l=n(7),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r},function(e,t,n){function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return i(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(637);e.exports=r},function(e,t,n){function i(e){var t=e.length;if(r(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),r("number"==typeof t),r(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}var r=n(7);e.exports=i},function(e,t,n){"use strict";function i(e){for(var t=1,n=0,i=0;i<e.length;i++)t=(t+e.charCodeAt(i))%r,n=(n+t)%r;return t|n<<16}var r=65521;e.exports=i},function(e,t,n){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=l.getPooled()}var r=n(164),o=n(58),a=n(83),s=n(166),l=n(368),u=n(117),c=n(47),d={initialize:s.getSelectionInformation,close:s.restoreSelection},h={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,d,h,p],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};c(i,u.Mixin),c(i,g),o.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(86),o=n(117),a=n(52),s=n(47),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[u,l];s(i,o.Mixin),s(i,{getTransactionWrappers:function(){return c}});var d=new i,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n){var i=h.isBatchingUpdates;h.isBatchingUpdates=!0,i?e(t,n):d.perform(e,null,t,n)}};e.exports=h},function(e,t,n){"use strict";var i=n(119),r=n(45),o=n(48),a=n(49),s=n(73),l=a.button,u=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=o.createClass({displayName:"ReactDOMButton",mixins:[i,r],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&u[t]||(e[t]=this.props[t]);return l(e,this.props.children)}});e.exports=c},function(e,t,n){"use strict";var i=n(31),r=n(369),o=n(45),a=n(48),s=n(49),l=s.form,u=a.createClass({displayName:"ReactDOMForm",mixins:[o,r],render:function(){return this.transferPropsTo(l(null,this.props.children))},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});e.exports=u},function(e,t,n){"use strict";var i=n(31),r=n(369),o=n(45),a=n(48),s=n(49),l=s.img,u=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});e.exports=u},function(e,t,n){"use strict";var i=n(119),r=n(80),o=n(169),a=n(45),s=n(48),l=n(49),u=n(53),c=n(7),d=n(35),h=l.input,p={},f=s.createClass({displayName:"ReactDOMInput",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=e?e:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=d(this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.value;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.checked,e.onChange=this._handleChange,h(e,this.props.children)},componentDidMount:function(){var e=u.getID(this.getDOMNode());p[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=u.getID(e);delete p[t]},componentDidUpdate:function(e,t,n){var i=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(i,"checked",this.props.checked||!1);var a=o.getValue(this);null!=a&&r.setValueForProperty(i,"value",""+a)},_handleChange:function(e){var t,n=o.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({checked:e.target.checked,value:e.target.value});var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var r=this.getDOMNode(),a=r;a.parentNode;)a=a.parentNode;for(var s=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),l=0,d=s.length;l<d;l++){var h=s[l];if(h!==r&&h.form===r.form){var f=u.getID(h);c(f);var m=p[f];c(m),m.setState({checked:!1})}}}return t}});e.exports=f},function(e,t,n){"use strict";var i=n(45),r=n(48),o=n(49),a=(n(44),o.option),s=r.createClass({displayName:"ReactDOMOption",mixins:[i],componentWillMount:function(){},render:function(){return a(this.props,this.props.children)}});e.exports=s},function(e,t,n){"use strict";function i(e,t,n){if(null!=e[t])if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(e,t){var n,i,r,o=e.props.multiple,a=null!=t?t:e.state.value,s=e.getDOMNode().options;if(o)for(n={},i=0,r=a.length;i<r;++i)n[""+a[i]]=!0;else n=""+a;for(i=0,r=s.length;i<r;i++){var l=o?n.hasOwnProperty(s[i].value):s[i].value===n;l!==s[i].selected&&(s[i].selected=l)}}var o=n(119),a=n(169),s=n(45),l=n(48),u=n(49),c=n(35),d=u.select,h=l.createClass({displayName:"ReactDOMSelect",mixins:[o,a.Mixin,s],propTypes:{defaultValue:i,value:i},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(e){!this.props.multiple&&e.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!e.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return e.onChange=this._handleChange,e.value=null,d(e,this.props.children)},componentDidMount:function(){r(this,a.getValue(this))},componentDidUpdate:function(e){var t=a.getValue(this),n=!!e.multiple,i=!!this.props.multiple;null==t&&n===i||r(this,t)},_handleChange:function(e){var t,n=a.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1);var i;if(this.props.multiple){i=[];for(var r=e.target.options,o=0,s=r.length;o<s;o++)r[o].selected&&i.push(r[o].value)}else i=e.target.value;return this.setState({value:i}),t}});e.exports=h},function(e,t,n){"use strict";var i=n(119),r=n(80),o=n(169),a=n(45),s=n(48),l=n(49),u=n(7),c=n(35),d=(n(44),l.textarea),h=s.createClass({displayName:"ReactDOMTextarea",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(u(null==e),Array.isArray(t)&&(u(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return u(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,d(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var i=o.getValue(this);if(null!=i){var a=this.getDOMNode();r.setValueForProperty(a,"value",""+i)}},_handleChange:function(e){var t,n=o.getOnChange(this);return n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({value:e.target.value}),t}});e.exports=h},function(e,t,n){"use strict";function i(e){var t=d.getID(e),n=c.getReactRootIDFromNodeID(t),i=d.findReactContainerForID(n);return d.getFirstReactDOM(i)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){for(var t=d.getFirstReactDOM(p(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=i(n);for(var r=0,o=e.ancestors.length;r<o;r++){t=e.ancestors[r];var a=d.getID(t)||"";m._handleTopLevel(e.topLevelType,t,a,e.nativeEvent)}}function a(e){e(f(window))}var s=n(649),l=n(27),u=n(58),c=n(82),d=n(53),h=n(86),p=n(165),f=n(349);n(47)(r,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(r,u.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var i=n;if(i)return s.listen(i,t,m.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,n){var i=n;if(i)return s.capture(i,t,m.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t),s.listen(window,"resize",t)},dispatchEvent:function(e,t){if(m._enabled){var n=r.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=m},function(e,t,n){var i=n(52),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=r},function(e,t,n){"use strict";var i=n(81),r=n(94),o=n(85),a=n(48),s=n(49),l=n(156),u=n(83),c=n(59),d=n(345),h=n(86),p={Component:o.injection,CompositeComponent:a.injection,DOMProperty:i.injection,EmptyComponent:l.injection,EventPluginHub:r.injection,DOM:s.injection,EventEmitter:u.injection,Perf:c.injection,RootIndex:d.injection,Updates:h.injection};e.exports=p},function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(document.selection){var t=document.selection.createRange();return{parentElement:t.parentElement(),text:t.text,top:t.boundingTop,left:t.boundingLeft}}var n=window.getSelection();return{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}function r(e){if(!y&&null!=m&&m==u()){var t=i(m);if(!v||!h(v,t)){v=t;var n=l.getPooled(f.select,g,e);return n.type="select",n.target=m,a.accumulateTwoPhaseDispatches(n),n}}}var o=n(31),a=n(87),s=n(166),l=n(74),u=n(364),c=n(362),d=n(60),h=n(652),p=o.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},m=null,g=null,v=null,y=!1,_={eventTypes:f,extractEvents:function(e,t,n,i){switch(e){case p.topFocus:(c(t)||"true"===t.contentEditable)&&(m=t,g=n,v=null);break;case p.topBlur:m=null,g=null,v=null;break;case p.topMouseDown:y=!0;break;case p.topContextMenu:case p.topMouseUp:return y=!1,r(i);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return r(i)}}};e.exports=_},function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}e.exports=i},function(e,t,n){"use strict";var i=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*i)}};e.exports=r},function(e,t,n){"use strict";var i=n(31),r=n(155),o=n(87),a=n(655),s=n(74),l=n(656),u=n(657),c=n(118),d=n(659),h=n(660),p=n(95),f=n(661),m=n(7),g=n(60),v=i.topLevelTypes,y={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},_={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var b in _)_[b].dependencies=[b];var w={eventTypes:y,executeDispatch:function(e,t,n){!1===r.executeDispatch(e,t,n)&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,i){var r=_[e];if(!r)return null;var g;switch(e){case v.topInput:case v.topLoad:case v.topError:case v.topReset:case v.topSubmit:g=s;break;case v.topKeyPress:if(0===i.charCode)return null;case v.topKeyDown:case v.topKeyUp:g=u;break;case v.topBlur:case v.topFocus:g=l;break;case v.topClick:if(2===i.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:g=c;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:g=d;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:g=h;break;case v.topScroll:g=p;break;case v.topWheel:g=f;break;case v.topCopy:case v.topCut:case v.topPaste:g=a}m(g);var y=g.getPooled(r,n,i);return o.accumulateTwoPhaseDispatches(y),y}};e.exports=w},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(74),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(95),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(95),o=n(658),a=n(168),s={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?"charCode"in e?e.charCode:e.keyCode:0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return e.keyCode||e.charCode}};r.augmentClass(i,s),e.exports=i},function(e,t,n){"use strict";function i(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n="charCode"in e?e.charCode:e.keyCode;return 13===n?"Enter":String.fromCharCode(n)}if("keydown"===e.type||"keyup"===e.type)return a[e.keyCode]||"Unidentified";r(!1)}var r=n(7),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(118),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(95),o=n(168),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(118),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";var i=n(81),r=i.injection.MUST_USE_ATTRIBUTE,o={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=o},function(e,t,n){"use strict";function i(e){return r.createClass({displayName:"ReactFullPageComponent"+(e.type.displayName||""),componentWillUnmount:function(){o(!1)},render:function(){return this.transferPropsTo(e(null,this.props.children))}})}var r=n(48),o=n(7);e.exports=i},function(e,t,n){"use strict";function i(e){c(o.isValidDescriptor(e)),c(!(2===arguments.length&&"function"==typeof arguments[1]));var t;try{var n=a.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var i=u(e),r=i.mountComponent(n,t,0);return s.addChecksumToMarkup(r)},null)}finally{l.release(t)}}function r(e){c(o.isValidDescriptor(e));var t;try{var n=a.createReactRootID();return t=l.getPooled(!0),t.perform(function(){return u(e).mountComponent(n,t,0)},null)}finally{l.release(t)}}var o=n(46),a=n(82),s=n(367),l=n(665),u=n(116),c=n(7);e.exports={renderComponentToString:i,renderComponentToStaticMarkup:r}},function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.putListenerQueue=a.getPooled()}var r=n(58),o=n(164),a=n(368),s=n(117),l=n(52),u=n(47),c={initialize:function(){this.reactMountReady.reset()},close:l},d={initialize:function(){this.putListenerQueue.reset()},close:l},h=[d,c],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};u(i,s.Mixin),u(i,p),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){return o(r.isValidDescriptor(e)),e}var r=n(46),o=n(7);e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(n(6),n(9)),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){i(this,e),this.DataStore=a.default,this.reactClass=t}return r(e,[{key:"clearAll",value:function(){}},{key:"expand",value:function(){}},{key:"collapse",value:function(){}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(6),n(3)),o=n(9),a=i(o),s=n(96),l=i(s),u=n(115),c=i(u),d=function(){};d.prototype.DataStore=a.default,d.prototype.TagStore=l.default,d.prototype.React=c.default,d.prototype.Config=r.Config,t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=function(){function e(){i(this,e)}return r(e,[{key:"search",value:function(){throw new Error("BaseSearchSource.search() is an abstract method. It should be overwritten.")}},{key:"ready",value:function(e,t){o.Events.emitEvent("searchsource.ready."+e,[t])}}]),e}();t.default=a},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,f=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=n(6),l=function(){function e(t,n,r,o){i(this,e),this.currentIndex=t,this.mesh=null,this.uuid=s.Helpers.generateUUID(),this.loadedImg=!1,this.texSize=0,this.name=n,this.userData={},this.userData.cellSize={width:0,height:0},this.updateHandler=null,this.detachHandler=null,this.copyHandler=null,this.geometry={},this.geometry.parameters={width:1,height:1},this.column=null,this.row=null,this.picInfo=null,this.atlasInfo=void 0!==o?o:null,this.primaryIndex=null,this.datastoreIndex=-1,this.position=new a.Vector3(1,1,1),this.scale=new a.Vector3(6,4,1),this.setterMemory={}}return r(e,[{key:"setPicInfo",value:function(e){this.picInfo=e;var t=void 0;t=this.picInfo.width>this.picInfo.height?this.picInfo.width:this.picInfo.height,this.picInfo.maxLevel=Math.ceil(Math.log(t)/Math.log(2))}},{key:"detach",value:function(){if(null!==this.detachHandler)return void this.detachHandler(this)}},{key:"copy",value:function(){if(null!==this.copyHandler)return this.copyHandler(this)}},{key:"update",value:function(){if(null!==this.updateHandler)return void this.updateHandler(this)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(673);Object.defineProperty(t,"EffectComposer",{enumerable:!0,get:function(){return i.EffectComposer}});var r=n(375);Object.defineProperty(t,"BloomPass",{enumerable:!0,get:function(){return r.BloomPass}}),Object.defineProperty(t,"BlurPass",{enumerable:!0,get:function(){return r.BlurPass}}),Object.defineProperty(t,"BokehPass",{enumerable:!0,get:function(){return r.BokehPass}}),Object.defineProperty(t,"Bokeh2Pass",{enumerable:!0,get:function(){return r.Bokeh2Pass}}),Object.defineProperty(t,"ClearPass",{enumerable:!0,get:function(){return r.ClearPass}}),Object.defineProperty(t,"ClearMaskPass",{enumerable:!0,get:function(){return r.ClearMaskPass}}),Object.defineProperty(t,"DotScreenPass",{enumerable:!0,get:function(){return r.DotScreenPass}}),Object.defineProperty(t,"FilmPass",{enumerable:!0,get:function(){return r.FilmPass}}),Object.defineProperty(t,"GlitchMode",{enumerable:!0,get:function(){return r.GlitchMode}}),Object.defineProperty(t,"GlitchPass",{enumerable:!0,get:function(){return r.GlitchPass}}),Object.defineProperty(t,"GodRaysPass",{enumerable:!0,get:function(){return r.GodRaysPass}}),Object.defineProperty(t,"MaskPass",{enumerable:!0,get:function(){return r.MaskPass}}),Object.defineProperty(t,"Pass",{enumerable:!0,get:function(){return r.Pass}}),Object.defineProperty(t,"PixelationPass",{enumerable:!0,get:function(){return r.PixelationPass}}),Object.defineProperty(t,"RenderPass",{enumerable:!0,get:function(){return r.RenderPass}}),Object.defineProperty(t,"SavePass",{enumerable:!0,get:function(){return r.SavePass}}),Object.defineProperty(t,"ShaderPass",{enumerable:!0,get:function(){return r.ShaderPass}}),Object.defineProperty(t,"ShockWavePass",{enumerable:!0,get:function(){return r.ShockWavePass}}),Object.defineProperty(t,"SMAAPass",{enumerable:!0,get:function(){return r.SMAAPass}}),Object.defineProperty(t,"TexturePass",{enumerable:!0,get:function(){return r.TexturePass}}),Object.defineProperty(t,"ToneMappingPass",{enumerable:!0,get:function(){return r.ToneMappingPass}});var o=n(20);Object.defineProperty(t,"AdaptiveLuminosityMaterial",{enumerable:!0,get:function(){return o.AdaptiveLuminosityMaterial}}),Object.defineProperty(t,"BokehMaterial",{enumerable:!0,get:function(){return o.BokehMaterial}}),Object.defineProperty(t,"Bokeh2Material",{enumerable:!0,get:function(){return o.Bokeh2Material}}),Object.defineProperty(t,"CombineMaterial",{enumerable:!0,get:function(){return o.CombineMaterial}}),Object.defineProperty(t,"ConvolutionMaterial",{enumerable:!0,get:function(){return o.ConvolutionMaterial}}),Object.defineProperty(t,"CopyMaterial",{enumerable:!0,get:function(){return o.CopyMaterial}}),Object.defineProperty(t,"DotScreenMaterial",{enumerable:!0,get:function(){return o.DotScreenMaterial}}),Object.defineProperty(t,"FilmMaterial",{enumerable:!0,get:function(){return o.FilmMaterial}}),Object.defineProperty(t,"GlitchMaterial",{enumerable:!0,get:function(){return o.GlitchMaterial}}),Object.defineProperty(t,"GodRaysMaterial",{enumerable:!0,get:function(){return o.GodRaysMaterial}}),Object.defineProperty(t,"KernelSize",{enumerable:!0,get:function(){return o.KernelSize}}),Object.defineProperty(t,"LuminosityMaterial",{enumerable:!0,get:function(){return o.LuminosityMaterial}}),Object.defineProperty(t,"PixelationMaterial",{enumerable:!0,get:function(){return o.PixelationMaterial}}),Object.defineProperty(t,"ShockWaveMaterial",{enumerable:!0,get:function(){return o.ShockWaveMaterial}}),Object.defineProperty(t,"SMAABlendMaterial",{enumerable:!0,get:function(){return o.SMAABlendMaterial}}),Object.defineProperty(t,"SMAAColorEdgesMaterial",{enumerable:!0,get:function(){return o.SMAAColorEdgesMaterial}}),Object.defineProperty(t,"SMAAWeightsMaterial",{enumerable:!0,get:function(){return o.SMAAWeightsMaterial}}),Object.defineProperty(t,"ToneMappingMaterial",{enumerable:!0,get:function(){return o.ToneMappingMaterial}});var a=n(710);Object.defineProperty(t,"RawImageData",{enumerable:!0,get:function(){return a.RawImageData}}),Object.defineProperty(t,"SMAAAreaImageData",{enumerable:!0,get:function(){return a.SMAAAreaImageData}}),Object.defineProperty(t,"SMAASearchImageData",{enumerable:!0,get:function(){return a.SMAASearchImageData}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(674);Object.defineProperty(t,"EffectComposer",{enumerable:!0,get:function(){return i.EffectComposer}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EffectComposer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),a=n(375),s=n(20);t.EffectComposer=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.renderer=t,this.readBuffer=null,this.writeBuffer=null,null!==this.renderer&&(this.renderer.autoClear=!1,this.readBuffer=this.createBuffer(void 0===n.depthBuffer||n.depthBuffer,void 0!==n.stencilBuffer&&n.stencilBuffer,void 0!==n.depthTexture&&n.depthTexture),this.writeBuffer=this.readBuffer.clone()),this.copyPass=new a.ShaderPass(new s.CopyMaterial),this.passes=[]}return r(e,[{key:"replaceRenderer",value:function(e){var t=this.renderer,n=void 0,i=void 0,r=void 0;return null!==t&&t!==e&&(this.renderer=e,this.renderer.autoClear=!1,n=t.domElement.parentNode,i=t.getSize(),r=e.getSize(),null!==n&&(n.removeChild(t.domElement),n.appendChild(e.domElement)),i.width===r.width&&i.height===r.height||this.setSize()),t}},{key:"createBuffer",value:function(e,t,n){var i=this.renderer.getDrawingBufferSize(),r=this.renderer.context.getContextAttributes().alpha,a=new o.WebGLRenderTarget(i.width,i.height,{minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:r?o.RGBAFormat:o.RGBFormat,depthBuffer:e,stencilBuffer:t,depthTexture:n?new o.DepthTexture:null});return n&&t&&(a.depthTexture.format=o.DepthStencilFormat,a.depthTexture.type=o.UnsignedInt248Type),a.texture.name="EffectComposer.Buffer",a.texture.generateMipmaps=!1,a}},{key:"addPass",value:function(e,t){var n=this.renderer,i=n.getDrawingBufferSize();e.setSize(i.width,i.height),e.initialise(n,n.context.getContextAttributes().alpha),void 0!==t?this.passes.splice(t,0,e):this.passes.push(e)}},{key:"removePass",value:function(e){this.passes.splice(this.passes.indexOf(e),1)}},{key:"render",value:function(e){var t=this.passes,n=this.renderer,i=this.copyPass,r=this.readBuffer,o=this.writeBuffer,s=!1,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;for(d=0,h=t.length;d<h;++d)l=t[d],l.enabled&&(l.render(n,r,o,e,s),l.needsSwap&&(s&&(u=n.context,u.stencilFunc(u.NOTEQUAL,1,4294967295),i.render(n,r,o),u.stencilFunc(u.EQUAL,1,4294967295)),c=r,r=o,o=c),l instanceof a.MaskPass?s=!0:l instanceof a.ClearMaskPass&&(s=!1))}},{key:"setSize",value:function(e,t){var n=this.passes,i=this.renderer,r=void 0,o=void 0,a=void 0,s=void 0;for(void 0!==e&&void 0!==t||(r=i.getSize(),e=r.width,t=r.height),i.setSize(e,t),o=i.getDrawingBufferSize(),this.readBuffer.setSize(o.width,o.height),this.writeBuffer.setSize(o.width,o.height),a=0,s=n.length;a<s;++a)n[a].setSize(o.width,o.height)}},{key:"reset",value:function(e){var t=this.readBuffer.depthBuffer,n=this.readBuffer.stencilBuffer,i=null!==this.readBuffer.depthTexture;this.dispose(void 0===e?this.createBuffer(t,n,i):e)}},{key:"dispose",value:function(e){var t=this.passes;for(null!==this.readBuffer&&null!==this.writeBuffer&&(this.readBuffer.dispose(),this.writeBuffer.dispose(),this.readBuffer=null,this.writeBuffer=null);t.length>0;)t.pop().dispose();void 0!==e?(this.readBuffer=e,this.writeBuffer=this.readBuffer.clone()):this.copyPass.dispose()}},{key:"depthTexture",get:function(){return this.readBuffer.depthTexture},set:function(e){this.readBuffer.depthTexture=e,this.writeBuffer.depthTexture=e}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BloomPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(20),u=n(171),c=n(17);t.BloomPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="BloomPass",n.needsSwap=!0,n.blurPass=new u.BlurPass(e),n.renderTarget=new s.WebGLRenderTarget(1,1,{minFilter:s.LinearFilter,magFilter:s.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTarget.texture.name="Bloom.Target",n.renderTarget.texture.generateMipmaps=!1,n.combineMaterial=new l.CombineMaterial(void 0===e.screenMode||e.screenMode),n.intensity=e.intensity,n.luminosityMaterial=new l.LuminosityMaterial(!0),n.distinction=e.distinction,n}return o(t,e),a(t,[{key:"render",value:function(e,t,n){var i=this.quad,r=this.scene,o=this.camera,a=this.blurPass,s=this.luminosityMaterial,l=this.combineMaterial,u=this.renderTarget;i.material=s,s.uniforms.tDiffuse.value=t.texture,e.render(r,o,u),a.render(e,u,u),i.material=l,l.uniforms.texture1.value=t.texture,l.uniforms.texture2.value=u.texture,e.render(r,o,this.renderToScreen?null:n)}},{key:"initialise",value:function(e,t){this.blurPass.initialise(e,t),t||(this.renderTarget.texture.format=s.RGBFormat)}},{key:"setSize",value:function(e,t){this.blurPass.setSize(e,t),e=this.blurPass.width,t=this.blurPass.height,this.renderTarget.setSize(e,t)}},{key:"resolutionScale",get:function(){return this.blurPass.resolutionScale},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.blurPass.resolutionScale=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.KernelSize.LARGE;this.blurPass.kernelSize=e}},{key:"intensity",get:function(){return this.combineMaterial.uniforms.opacity2.value},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.combineMaterial.uniforms.opacity2.value=e}},{key:"distinction",get:function(){return this.luminosityMaterial.uniforms.distinction.value},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.luminosityMaterial.uniforms.distinction.value=e}}]),t}(c.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AdaptiveLuminosityMaterial=void 0;var a=n(5);t.AdaptiveLuminosityMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"AdaptiveLuminosityMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{tPreviousLum:new a.Uniform(null),tCurrentLum:new a.Uniform(null),minLuminance:new a.Uniform(.01),delta:new a.Uniform(0),tau:new a.Uniform(1)},fragmentShader:"uniform sampler2D tPreviousLum;\r\nuniform sampler2D tCurrentLum;\r\nuniform float minLuminance;\r\nuniform float delta;\r\nuniform float tau;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tfloat previousLum = texture2D(tPreviousLum, vUv, MIP_LEVEL_1X1).r;\r\n\tfloat currentLum = texture2D(tCurrentLum, vUv, MIP_LEVEL_1X1).r;\r\n\r\n\tpreviousLum = max(minLuminance, previousLum);\r\n\tcurrentLum = max(minLuminance, currentLum);\r\n\r\n\t// Adapt the luminance using Pattanaik's technique.\r\n\tfloat adaptedLum = previousLum + (currentLum - previousLum) * (1.0 - exp(-delta * tau));\r\n\r\n\tgl_FragColor.r = adaptedLum;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BokehMaterial=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5);t.BokehMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),void 0===n.focus&&(n.focus=1),void 0===n.dof&&(n.dof=.02),void 0===n.aperture&&(n.aperture=.025),void 0===n.maxBlur&&(n.maxBlur=1);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"BokehMaterial",uniforms:{cameraNear:new s.Uniform(.1),cameraFar:new s.Uniform(2e3),aspect:new s.Uniform(1),tDiffuse:new s.Uniform(null),tDepth:new s.Uniform(null),focus:new s.Uniform(n.focus),dof:new s.Uniform(n.dof),aperture:new s.Uniform(n.aperture),maxBlur:new s.Uniform(n.maxBlur)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform float focus;\r\nuniform float dof;\r\nuniform float aspect;\r\nuniform float aperture;\r\nuniform float maxBlur;\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifndef USE_LOGDEPTHBUF\r\n\r\n\t#include <packing>\r\n\r\n\tuniform float cameraNear;\r\n\tuniform float cameraFar;\r\n\r\n\tfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\t\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvec2 aspectCorrection = vec2(1.0, aspect);\r\n\r\n\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\tfloat depth = texture2D(tDepth, vUv).x;\r\n\r\n\t#else\r\n\r\n\t\tfloat depth = readDepth(tDepth, vUv);\r\n\r\n\t#endif\r\n\r\n\tfloat focusNear = clamp(focus - dof, 0.0, 1.0);\r\n\tfloat focusFar = clamp(focus + dof, 0.0, 1.0);\r\n\r\n\t// Calculate a DoF mask.\r\n\tfloat low = step(depth, focusNear);\r\n\tfloat high = step(focusFar, depth);\r\n\r\n\tfloat factor = (depth - focusNear) * low + (depth - focusFar) * high;\r\n\r\n\tvec2 dofBlur = vec2(clamp(factor * aperture, -maxBlur, maxBlur));\r\n\r\n\tvec2 dofblur9 = dofBlur * 0.9;\r\n\tvec2 dofblur7 = dofBlur * 0.7;\r\n\tvec2 dofblur4 = dofBlur * 0.4;\r\n\r\n\tvec4 color = vec4(0.0);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur7);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur4);\r\n\r\n\tgl_FragColor = color / 41.0;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}));return null!==e&&o.adoptCameraSettings(e),o}return o(t,e),a(t,[{key:"adoptCameraSettings",value:function(e){this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,this.uniforms.aspect.value=e.aspect}}]),t}(s.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Bokeh2Material=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5);t.Bokeh2Material=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),void 0===n.rings&&(n.rings=3),void 0===n.samples&&(n.samples=2),void 0===n.showFocus&&(n.showFocus=!1),void 0===n.showFocus&&(n.showFocus=!1),void 0===n.manualDoF&&(n.manualDoF=!1),void 0===n.vignette&&(n.vignette=!1),void 0===n.pentagon&&(n.pentagon=!1),void 0===n.shaderFocus&&(n.shaderFocus=!0),void 0===n.noise&&(n.noise=!0);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"Bokeh2Material",defines:{RINGS_INT:n.rings.toFixed(0),RINGS_FLOAT:n.rings.toFixed(1),SAMPLES_INT:n.samples.toFixed(0),SAMPLES_FLOAT:n.samples.toFixed(1)},uniforms:{tDiffuse:new s.Uniform(null),tDepth:new s.Uniform(null),texelSize:new s.Uniform(new s.Vector2),halfTexelSize:new s.Uniform(new s.Vector2),cameraNear:new s.Uniform(.1),cameraFar:new s.Uniform(2e3),focalLength:new s.Uniform(24),focalStop:new s.Uniform(.9),maxBlur:new s.Uniform(1),luminanceThreshold:new s.Uniform(.5),luminanceGain:new s.Uniform(2),bias:new s.Uniform(.5),fringe:new s.Uniform(.7),ditherStrength:new s.Uniform(1e-4),focusCoords:new s.Uniform(new s.Vector2(.5,.5)),focalDepth:new s.Uniform(1)},fragmentShader:"#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nuniform float focalLength;\r\nuniform float focalStop;\r\n\r\nuniform float maxBlur;\r\nuniform float luminanceThreshold;\r\nuniform float luminanceGain;\r\nuniform float bias;\r\nuniform float fringe;\r\nuniform float ditherStrength;\r\n\r\n#ifdef SHADER_FOCUS\r\n\r\n\tuniform vec2 focusCoords;\r\n\r\n#else\r\n\r\n\tuniform float focalDepth;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifndef USE_LOGDEPTHBUF\r\n\r\n\t#include <packing>\r\n\r\n\tfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\t\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef PENTAGON\r\n\r\n\tfloat penta(vec2 coords) {\r\n\r\n\t\tconst vec4 HS0 = vec4( 1.0,          0.0,         0.0, 1.0);\r\n\t\tconst vec4 HS1 = vec4( 0.309016994,  0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS2 = vec4(-0.809016994,  0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS3 = vec4(-0.809016994, -0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS4 = vec4( 0.309016994, -0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS5 = vec4( 0.0,          0.0,         1.0, 1.0);\r\n\r\n\t\tconst vec4 ONE = vec4(1.0);\r\n\r\n\t\tconst float P_FEATHER = 0.4;\r\n\t\tconst float N_FEATHER = -P_FEATHER;\r\n\r\n\t\tfloat inOrOut = -4.0;\r\n\r\n\t\tvec4 P = vec4(coords, vec2(RINGS_FLOAT - 1.3));\r\n\r\n\t\tvec4 dist = vec4(\r\n\t\t\tdot(P, HS0),\r\n\t\t\tdot(P, HS1),\r\n\t\t\tdot(P, HS2),\r\n\t\t\tdot(P, HS3)\r\n\t\t);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\r\n\t\tinOrOut += dot(dist, ONE);\r\n\r\n\t\tdist.x = dot(P, HS4);\r\n\t\tdist.y = HS5.w - abs(P.z);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\t\tinOrOut += dist.x;\r\n\r\n\t\treturn clamp(inOrOut, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef SHOW_FOCUS\r\n\r\n\tvec3 debugFocus(vec3 c, float blur, float depth) {\r\n\r\n\t\tfloat edge = 0.002 * depth;\r\n\t\tfloat m = clamp(smoothstep(0.0, edge, blur), 0.0, 1.0);\r\n\t\tfloat e = clamp(smoothstep(1.0 - edge, 1.0, blur), 0.0, 1.0);\r\n\r\n\t\tc = mix(c, vec3(1.0, 0.5, 0.0), (1.0 - m) * 0.6);\r\n\t\tc = mix(c, vec3(0.0, 0.5, 1.0), ((1.0 - e) - (1.0 - m)) * 0.2);\r\n\r\n\t\treturn c;\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tfloat vignette() {\r\n\r\n\t\tconst vec2 CENTER = vec2(0.5);\r\n\r\n\t\tconst float VIGNETTE_OUT = 1.3;\r\n\t\tconst float VIGNETTE_IN = 0.0;\r\n\t\tconst float VIGNETTE_FADE = 22.0; \r\n\r\n\t\tfloat d = distance(vUv, CENTER);\r\n\t\td = smoothstep(VIGNETTE_OUT + (focalStop / VIGNETTE_FADE), VIGNETTE_IN + (focalStop / VIGNETTE_FADE), d);\r\n\r\n\t\treturn clamp(d, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nvec2 rand2(vec2 coord) {\r\n\r\n\tvec2 noise;\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tconst float a = 12.9898;\r\n\t\tconst float b = 78.233;\r\n\t\tconst float c = 43758.5453;\r\n\r\n\t\tnoise.x = clamp(fract(sin(mod(dot(coord, vec2(a, b)), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\t\tnoise.y = clamp(fract(sin(mod(dot(coord, vec2(a, b) * 2.0), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\r\n\t#else\r\n\r\n\t\tnoise.x = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.25) + (fract(coord.t * halfTexelSize.y) * 0.75)) * 2.0 - 1.0;\r\n\t\tnoise.y = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.75) + (fract(coord.t * halfTexelSize.y) * 0.25)) * 2.0 - 1.0;\r\n\r\n\t#endif\r\n\r\n\treturn noise;\r\n\r\n}\r\n\r\nvec3 processTexel(vec2 coords, float blur) {\r\n\r\n\tvec3 c;\r\n\tc.r = texture2D(tDiffuse, coords + vec2(0.0, 1.0) * texelSize * fringe * blur).r;\r\n\tc.g = texture2D(tDiffuse, coords + vec2(-0.866, -0.5) * texelSize * fringe * blur).g;\r\n\tc.b = texture2D(tDiffuse, coords + vec2(0.866, -0.5) * texelSize * fringe * blur).b;\r\n\r\n\t// Calculate the luminance of the constructed colour.\r\n\tfloat luminance = linearToRelativeLuminance(c);\r\n\tfloat threshold = max((luminance - luminanceThreshold) * luminanceGain, 0.0);\r\n\r\n\treturn c + mix(vec3(0.0), c, threshold * blur);\r\n\r\n}\r\n\r\nfloat linearize(float depth) {\r\n\r\n\treturn -cameraFar * cameraNear / (depth * (cameraFar - cameraNear) - cameraFar);\r\n\r\n}\r\n\r\nfloat gather(float i, float j, float ringSamples, inout vec3 color, float w, float h, float blur) {\r\n\r\n\tconst float TWO_PI = 6.28318531;\r\n\r\n\tfloat step = TWO_PI / ringSamples;\r\n\tfloat pw = cos(j * step) * i;\r\n\tfloat ph = sin(j * step) * i;\r\n\r\n\t#ifdef PENTAGON\r\n\r\n\t\tfloat p = penta(vec2(pw, ph));\r\n\r\n\t#else\r\n\r\n\t\tfloat p = 1.0;\r\n\r\n\t#endif\r\n\r\n\tcolor += processTexel(vUv + vec2(pw * w, ph * h), blur) * mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n\treturn mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\tfloat depth = linearize(texture2D(tDepth, vUv).x);\r\n\r\n\t#else\r\n\r\n\t\tfloat depth = linearize(readDepth(tDepth, vUv));\r\n\r\n\t#endif\r\n\r\n\t#ifdef SHADER_FOCUS\r\n\r\n\t\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\t\tfloat fDepth = linearize(texture2D(tDepth, focusCoords).x);\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat fDepth = linearize(readDepth(tDepth, focusCoords));\r\n\r\n\t\t#endif\r\n\r\n\t#else\r\n\r\n\t\tfloat fDepth = focalDepth;\r\n\r\n\t#endif\r\n\r\n\t#ifdef MANUAL_DOF\r\n\r\n\t\tconst float nDoFStart = 1.0; \r\n\t\tconst float nDoFDist = 2.0;\r\n\t\tconst float fDoFStart = 1.0;\r\n\t\tconst float fDoFDist = 3.0;\r\n\r\n\t\tfloat focalPlane = depth - fDepth;\r\n\t\tfloat farDoF = (focalPlane - fDoFStart) / fDoFDist;\r\n\t\tfloat nearDoF = (-focalPlane - nDoFStart) / nDoFDist;\r\n\r\n\t\tfloat blur = (focalPlane > 0.0) ? farDoF : nearDoF;\r\n\r\n\t#else\r\n\r\n\t\tconst float CIRCLE_OF_CONFUSION = 0.03; // 35mm film = 0.03mm CoC.\r\n\r\n\t\tfloat focalPlaneMM = fDepth * 1000.0;\r\n\t\tfloat depthMM = depth * 1000.0;\r\n\r\n\t\tfloat focalPlane = (depthMM * focalLength) / (depthMM - focalLength);\r\n\t\tfloat farDoF = (focalPlaneMM * focalLength) / (focalPlaneMM - focalLength);\r\n\t\tfloat nearDoF = (focalPlaneMM - focalLength) / (focalPlaneMM * focalStop * CIRCLE_OF_CONFUSION);\r\n\r\n\t\tfloat blur = abs(focalPlane - farDoF) * nearDoF;\r\n\r\n\t#endif\r\n\r\n\tblur = clamp(blur, 0.0, 1.0);\r\n\r\n\t// Dithering.\r\n\tvec2 noise = rand2(vUv) * ditherStrength * blur;\r\n\r\n\tfloat blurFactorX = texelSize.x * blur * maxBlur + noise.x;\r\n\tfloat blurFactorY = texelSize.y * blur * maxBlur + noise.y;\r\n\r\n\tconst int MAX_RING_SAMPLES = RINGS_INT * SAMPLES_INT;\r\n\r\n\t// Calculation of final color.\r\n\tvec4 color;\r\n\r\n\tif(blur < 0.05) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t\tfloat s = 1.0;\r\n\t\tint ringSamples;\r\n\r\n\t\tfor(int i = 1; i <= RINGS_INT; ++i) {\r\n\r\n\t\t\tringSamples = i * SAMPLES_INT;\r\n\r\n\t\t\t// Constant loop.\r\n\t\t\tfor(int j = 0; j < MAX_RING_SAMPLES; ++j) {\r\n\r\n\t\t\t\t// Break earlier.\r\n\t\t\t\tif(j >= ringSamples) { break; }\r\n\r\n\t\t\t\ts += gather(float(i), float(j), float(ringSamples), color.rgb, blurFactorX, blurFactorY, blur);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tcolor.rgb /= s; // Divide by sample count.\r\n\r\n\t}\r\n\r\n\t#ifdef SHOW_FOCUS\r\n\r\n\t\tcolor.rgb = debugFocus(color.rgb, blur, depth);\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tcolor.rgb *= vignette();\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}));return n.showFocus&&(o.defines.SHOW_FOCUS="1"),n.manualDoF&&(o.defines.MANUAL_DOF="1"),n.vignette&&(o.defines.VIGNETTE="1"),n.pentagon&&(o.defines.PENTAGON="1"),n.shaderFocus&&(o.defines.SHADER_FOCUS="1"),n.noise&&(o.defines.NOISE="1"),void 0!==n.texelSize&&o.setTexelSize(n.texelSize.x,n.texelSize.y),null!==e&&o.adoptCameraSettings(e),o}return o(t,e),a(t,[{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}},{key:"adoptCameraSettings",value:function(e){this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,this.uniforms.focalLength.value=e.getFocalLength()}}]),t}(s.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CombineMaterial=void 0;var a=n(5);t.CombineMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"CombineMaterial",uniforms:{texture1:new a.Uniform(null),texture2:new a.Uniform(null),opacity1:new a.Uniform(1),opacity2:new a.Uniform(1)},fragmentShader:"uniform sampler2D texture1;\r\nuniform sampler2D texture2;\r\n\r\nuniform float opacity1;\r\nuniform float opacity2;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel1 = opacity1 * texture2D(texture1, vUv);\r\n\tvec4 texel2 = opacity2 * texture2D(texture2, vUv);\r\n\r\n\t#ifdef SCREEN_MODE\r\n\r\n\t\tvec3 invTexel1 = vec3(1.0) - texel1.rgb;\r\n\t\tvec3 invTexel2 = vec3(1.0) - texel2.rgb;\r\n\r\n\t\tvec4 color = vec4(\r\n\t\t\tvec3(1.0) - invTexel1 * invTexel2,\r\n\t\t\ttexel1.a + texel2.a\r\n\t\t);\r\n\r\n\t#else\r\n\r\n\t\tvec4 color = texel1 + texel2;\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}));return e&&(n.defines.SCREEN_MODE="1"),n}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSize=t.ConvolutionMaterial=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l="uniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\t// Sample top left texel.\r\n\tvec4 sum = texture2D(tDiffuse, vUv0);\r\n\r\n\t// Sample top right texel.\r\n\tsum += texture2D(tDiffuse, vUv1);\r\n\r\n\t// Sample bottom right texel.\r\n\tsum += texture2D(tDiffuse, vUv2);\r\n\r\n\t// Sample bottom left texel.\r\n\tsum += texture2D(tDiffuse, vUv3);\r\n\r\n\t// Compute the average.\r\n\tgl_FragColor = sum * 0.25;\r\n\r\n}\r\n",u="uniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\nuniform float kernel;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 dUv = (texelSize * vec2(kernel)) + halfTexelSize;\r\n\r\n\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\r\n\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\r\n\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\r\n\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",c=(t.ConvolutionMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s.Vector2;i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"ConvolutionMaterial",uniforms:{tDiffuse:new s.Uniform(null),texelSize:new s.Uniform(new s.Vector2),halfTexelSize:new s.Uniform(new s.Vector2),kernel:new s.Uniform(0)},fragmentShader:l,vertexShader:u,depthWrite:!1,depthTest:!1}));return n.setTexelSize(e.x,e.y),n.kernelSize=d.LARGE,n}return o(t,e),a(t,[{key:"getKernel",value:function(){return c[this.kernelSize]}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}}]),t}(s.ShaderMaterial),[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])]),d=t.KernelSize={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyMaterial=void 0;var a=n(5);t.CopyMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"CopyMaterial",uniforms:{tDiffuse:new a.Uniform(null),opacity:new a.Uniform(1)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform float opacity;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = opacity * texel;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DotScreenMaterial=void 0;var a=n(5);t.DotScreenMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"DotScreenMaterial",uniforms:{tDiffuse:new a.Uniform(null),angle:new a.Uniform(1.57),scale:new a.Uniform(1),intensity:new a.Uniform(1),offsetRepeat:new a.Uniform(new a.Vector4(.5,.5,1,1))},fragmentShader:"uniform sampler2D tDiffuse;\r\n\r\nuniform float angle;\r\nuniform float scale;\r\nuniform float intensity;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nfloat pattern() {\r\n\r\n\tfloat s = sin(angle);\r\n\tfloat c = cos(angle);\r\n\r\n\tvec2 point = vec2(c * vUvPattern.x - s * vUvPattern.y, s * vUvPattern.x + c * vUvPattern.y) * scale;\r\n\r\n\treturn (sin(point.x) * sin(point.y)) * 4.0;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef AVERAGE\r\n\r\n\t\tcolor = vec3((color.r + color.g + color.b) / 3.0);\r\n\r\n\t#endif\r\n\r\n\tcolor = vec3(color * 10.0 - 5.0 + pattern());\r\n\tcolor = texel.rgb + (color - texel.rgb) * intensity;\r\n\r\n\tgl_FragColor = vec4(color, texel.a);\r\n\r\n}\r\n",vertexShader:"uniform vec4 offsetRepeat;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tvUvPattern = uv * offsetRepeat.zw + offsetRepeat.xy;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}));return e&&(n.defines.AVERAGE="1"),n}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FilmMaterial=void 0;var a=n(5);t.FilmMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),void 0===e.screenMode&&(e.screenMode=!0),void 0===e.noise&&(e.noise=!0),void 0===e.scanlines&&(e.scanlines=!0),void 0===e.greyscale&&(e.greyscale=!1),void 0===e.sepia&&(e.sepia=!1),void 0===e.vignette&&(e.vignette=!1),void 0===e.eskil&&(e.eskil=!1),void 0===e.noiseIntensity&&(e.noiseIntensity=.5),void 0===e.scanlineIntensity&&(e.scanlineIntensity=.05),void 0===e.greyscaleIntensity&&(e.greyscaleIntensity=1),void 0===e.sepiaIntensity&&(e.sepiaIntensity=1),void 0===e.vignetteOffset&&(e.vignetteOffset=1),void 0===e.vignetteDarkness&&(e.vignetteDarkness=1);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"FilmMaterial",uniforms:{tDiffuse:new a.Uniform(null),time:new a.Uniform(0),noiseIntensity:new a.Uniform(e.noiseIntensity),scanlineIntensity:new a.Uniform(e.scanlineIntensity),scanlineCount:new a.Uniform(0),greyscaleIntensity:new a.Uniform(e.greyscaleIntensity),sepiaIntensity:new a.Uniform(e.sepiaIntensity),vignetteOffset:new a.Uniform(e.vignetteOffset),vignetteDarkness:new a.Uniform(e.vignetteDarkness)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform float time;\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifdef NOISE\r\n\r\n\tuniform float noiseIntensity;\r\n\r\n#endif\r\n\r\n#ifdef SCANLINES\r\n\r\n\tuniform float scanlineIntensity;\r\n\tuniform float scanlineCount;\r\n\r\n#endif\r\n\r\n#ifdef GREYSCALE\r\n\r\n\t#include <common>\r\n\r\n\tuniform float greyscaleIntensity;\r\n\r\n#elif defined(SEPIA)\r\n\r\n\tuniform float sepiaIntensity;\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tuniform float vignetteOffset;\r\n\tuniform float vignetteDarkness;\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef SCREEN_MODE\r\n\r\n\t\tvec3 invColor;\r\n\r\n\t#endif\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tfloat x = vUv.x * vUv.y * time * 1000.0;\r\n\t\tx = mod(x, 13.0) * mod(x, 123.0);\r\n\t\tx = mod(x, 0.01);\r\n\r\n\t\tvec3 noise = texel.rgb * clamp(0.1 + x * 100.0, 0.0, 1.0) * noiseIntensity;\r\n\r\n\t\t#ifdef SCREEN_MODE\r\n\r\n\t\t\tinvColor = vec3(1.0) - color;\r\n\t\t\tvec3 invNoise = vec3(1.0) - noise;\r\n\r\n\t\t\tcolor = vec3(1.0) - invColor * invNoise;\r\n\r\n\t\t#else\r\n\r\n\t\t\tcolor += noise;\r\n\r\n\t\t#endif\r\n\r\n\t#endif\r\n\r\n\t#ifdef SCANLINES\r\n\r\n\t\tvec2 sl = vec2(sin(vUv.y * scanlineCount), cos(vUv.y * scanlineCount));\r\n\t\tvec3 scanlines = texel.rgb * vec3(sl.x, sl.y, sl.x) * scanlineIntensity;\r\n\r\n\t\t#ifdef SCREEN_MODE\r\n\r\n\t\t\tinvColor = vec3(1.0) - color;\r\n\t\t\tvec3 invScanlines = vec3(1.0) - scanlines;\r\n\r\n\t\t\tcolor = vec3(1.0) - invColor * invScanlines;\r\n\r\n\t\t#else\r\n\r\n\t\t\tcolor += scanlines;\r\n\r\n\t\t#endif\r\n\r\n\t#endif\r\n\r\n\t#ifdef GREYSCALE\r\n\r\n\t\tcolor = mix(color, vec3(linearToRelativeLuminance(color)), greyscaleIntensity);\r\n\r\n\t#elif defined(SEPIA)\r\n\r\n\t\tvec3 c = color.rgb;\r\n\r\n\t\tcolor.r = dot(c, vec3(1.0 - 0.607 * sepiaIntensity, 0.769 * sepiaIntensity, 0.189 * sepiaIntensity));\r\n\t\tcolor.g = dot(c, vec3(0.349 * sepiaIntensity, 1.0 - 0.314 * sepiaIntensity, 0.168 * sepiaIntensity));\r\n\t\tcolor.b = dot(c, vec3(0.272 * sepiaIntensity, 0.534 * sepiaIntensity, 1.0 - 0.869 * sepiaIntensity));\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tconst vec2 center = vec2(0.5);\r\n\r\n\t\t#ifdef ESKIL\r\n\r\n\t\t\tvec2 uv = (vUv - center) * vec2(vignetteOffset);\r\n\t\t\tcolor = mix(color.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat dist = distance(vUv, center);\r\n\t\t\tcolor *= smoothstep(0.8, vignetteOffset * 0.799, dist * (vignetteDarkness + vignetteOffset));\r\n\r\n\t\t#endif\t\t\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = vec4(clamp(color, 0.0, 1.0), texel.a);\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}));return e.greyscale&&(n.defines.GREYSCALE="1"),e.sepia&&(n.defines.SEPIA="1"),e.vignette&&(n.defines.VIGNETTE="1"),e.eskil&&(n.defines.ESKIL="1"),e.screenMode&&(n.defines.SCREEN_MODE="1"),e.noise&&(n.defines.NOISE="1"),e.scanlines&&(n.defines.SCANLINES="1"),n}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GlitchMaterial=void 0;var a=n(5);t.GlitchMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"GlitchMaterial",uniforms:{tDiffuse:new a.Uniform(null),tPerturb:new a.Uniform(null),active:new a.Uniform(1),amount:new a.Uniform(.8),angle:new a.Uniform(.02),seed:new a.Uniform(.02),seedX:new a.Uniform(.02),seedY:new a.Uniform(.02),distortionX:new a.Uniform(.5),distortionY:new a.Uniform(.6),colS:new a.Uniform(.05)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform sampler2D tPerturb;\r\n\r\nuniform bool active;\r\n\r\nuniform float amount;\r\nuniform float angle;\r\nuniform float seed;\r\nuniform float seedX;\r\nuniform float seedY;\r\nuniform float distortionX;\r\nuniform float distortionY;\r\nuniform float colS;\r\n\r\nvarying vec2 vUv;\r\n\r\nfloat rand(vec2 tc) {\r\n\r\n\tconst float a = 12.9898;\r\n\tconst float b = 78.233;\r\n\tconst float c = 43758.5453;\r\n\r\n\tfloat dt = dot(tc, vec2(a, b));\r\n\tfloat sn = mod(dt, 3.14);\r\n\r\n\treturn fract(sin(sn) * c);\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec2 coord = vUv;\r\n\r\n\tfloat xs, ys;\r\n\tvec4 normal;\r\n\r\n\tvec2 offset;\r\n\tvec4 cr, cga, cb;\r\n\tvec4 snow, color;\r\n\r\n\tfloat sx, sy;\r\n\r\n\tif(active) {\r\n\r\n\t\txs = floor(gl_FragCoord.x / 0.5);\r\n\t\tys = floor(gl_FragCoord.y / 0.5);\r\n\r\n\t\tnormal = texture2D(tPerturb, coord * seed * seed);\r\n\r\n\t\tif(coord.y < distortionX + colS && coord.y > distortionX - colS * seed) {\r\n\r\n\t\t\tsx = clamp(ceil(seedX), 0.0, 1.0);\r\n\t\t\tcoord.y = sx * (1.0 - (coord.y + distortionY)) + (1.0 - sx) * distortionY;\r\n\r\n\t\t}\r\n\r\n\t\tif(coord.x < distortionY + colS && coord.x > distortionY - colS * seed) {\r\n\r\n\t\t\tsy = clamp(ceil(seedY), 0.0, 1.0);\r\n\t\t\tcoord.x = sy * distortionX + (1.0 - sy) * (1.0 - (coord.x + distortionX));\r\n\r\n\t\t}\r\n\r\n\t\tcoord.x += normal.x * seedX * (seed / 5.0);\r\n\t\tcoord.y += normal.y * seedY * (seed / 5.0);\r\n\r\n\t\toffset = amount * vec2(cos(angle), sin(angle));\r\n\r\n\t\tcr = texture2D(tDiffuse, coord + offset);\r\n\t\tcga = texture2D(tDiffuse, coord);\r\n\t\tcb = texture2D(tDiffuse, coord - offset);\r\n\r\n\t\tcolor = vec4(cr.r, cga.g, cb.b, cga.a);\r\n\t\tsnow = 200.0 * amount * vec4(rand(vec2(xs * seed, ys * seed * 50.0)) * 0.2);\r\n\t\tcolor += snow;\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GodRaysMaterial=void 0;var a=n(5);t.GodRaysMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"GodRaysMaterial",defines:{NUM_SAMPLES_FLOAT:"60.0",NUM_SAMPLES_INT:"60"},uniforms:{tDiffuse:new a.Uniform(null),lightPosition:new a.Uniform(null),exposure:new a.Uniform(.6),decay:new a.Uniform(.93),density:new a.Uniform(.96),weight:new a.Uniform(.4),clampMax:new a.Uniform(1)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform vec3 lightPosition;\r\n\r\nuniform float exposure;\r\nuniform float decay;\r\nuniform float density;\r\nuniform float weight;\r\nuniform float clampMax;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec2 texCoord = vUv;\r\n\r\n\t// Calculate vector from pixel to light source in screen space.\r\n\tvec2 deltaTexCoord = texCoord - lightPosition.st;\r\n\tdeltaTexCoord *= 1.0 / NUM_SAMPLES_FLOAT * density;\r\n\r\n\t// A decreasing illumination factor.\r\n\tfloat illuminationDecay = 1.0;\r\n\r\n\tvec4 sample;\r\n\tvec4 color = vec4(0.0);\r\n\r\n\t// Estimate the probability of occlusion at each pixel by summing samples along a ray to the light source.\r\n\tfor(int i = 0; i < NUM_SAMPLES_INT; ++i) {\r\n\r\n\t\ttexCoord -= deltaTexCoord;\r\n\t\tsample = texture2D(tDiffuse, texCoord);\r\n\r\n\t\t// Apply sample attenuation scale/decay factors.\r\n\t\tsample *= illuminationDecay * weight;\r\n\r\n\t\tcolor += sample;\r\n\r\n\t\t// Update exponential decay factor.\r\n\t\tilluminationDecay *= decay;\r\n\r\n\t}\r\n\r\n\tgl_FragColor = clamp(color * exposure, 0.0, clampMax);\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LuminosityMaterial=void 0;var a=n(5);t.LuminosityMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"LuminosityMaterial",uniforms:{tDiffuse:new a.Uniform(null),distinction:new a.Uniform(1),range:new a.Uniform(null!==n?n:new a.Vector2)},fragmentShader:"#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform float distinction;\r\nuniform vec2 range;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tfloat l = linearToRelativeLuminance(texel.rgb);\r\n\r\n\t#ifdef RANGE\r\n\r\n\t\tfloat low = step(range.x, l);\r\n\t\tfloat high = step(l, range.y);\r\n\r\n\t\t// Apply the mask.\r\n\t\tl *= low * high;\r\n\r\n\t#endif\r\n\r\n\tl = pow(abs(l), distinction);\r\n\r\n\t#ifdef COLOR\r\n\r\n\t\tgl_FragColor = vec4(texel.rgb * l, texel.a);\r\n\r\n\t#else\r\n\r\n\t\tgl_FragColor = vec4(l, l, l, texel.a);\r\n\r\n\t#endif\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n"}));return e&&(o.defines.COLOR="1"),null!==n&&(o.defines.RANGE="1"),o}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PixelationMaterial=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5);t.PixelationMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"PixelationMaterial",uniforms:{tDiffuse:new s.Uniform(null),granularity:new s.Uniform(1),resolution:new s.Uniform(new s.Vector2(1,1)),dx:new s.Uniform(1),dy:new s.Uniform(1)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform float granularity;\r\nuniform float dx;\r\nuniform float dy;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel;\r\n\r\n\tif(granularity > 0.0) {\r\n\r\n\t\tvec2 coord = vec2(\r\n\t\t\tdx * (floor(vUv.x / dx) + 0.5),\r\n\t\t\tdy * (floor(vUv.y / dy) + 0.5)\r\n\t\t);\r\n\r\n\t\ttexel = texture2D(tDiffuse, coord);\r\n\r\n\t} else {\r\n\r\n\t\ttexel = texture2D(tDiffuse, vUv);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = texel;\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),a(t,[{key:"setResolution",value:function(e,t){this.uniforms.resolution.value.set(e,t),this.granularity=this.granularity}},{key:"granularity",get:function(){return this.uniforms.granularity.value},set:function(e){var t=this.uniforms,n=t.resolution.value;t.granularity.value=e,t.dx.value=e/n.x,t.dy.value=e/n.y}}]),t}(s.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShockWaveMaterial=void 0;var a=n(5);t.ShockWaveMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,t),void 0===e.maxRadius&&(e.maxRadius=1),void 0===e.waveSize&&(e.waveSize=.2),void 0===e.amplitude&&(e.amplitude=.05),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"ShockWaveMaterial",uniforms:{tDiffuse:new a.Uniform(null),center:new a.Uniform(new a.Vector2(.5,.5)),aspect:new a.Uniform(1),cameraDistance:new a.Uniform(1),size:new a.Uniform(1),radius:new a.Uniform(-e.waveSize),maxRadius:new a.Uniform(e.maxRadius),waveSize:new a.Uniform(e.waveSize),amplitude:new a.Uniform(e.amplitude)},fragmentShader:"#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform vec2 center;\r\nuniform float aspect;\r\nuniform float waveSize;\r\nuniform float radius;\r\nuniform float maxRadius;\r\nuniform float amplitude;\r\n\r\nvarying vec2 vUv;\r\nvarying float vSize;\r\n\r\nvoid main() {\r\n\r\n\tvec2 aspectCorrection = vec2(aspect, 1.0);\r\n\r\n\tvec2 difference = vUv * aspectCorrection - center * aspectCorrection;\r\n\tfloat distance = sqrt(dot(difference, difference)) * vSize;\r\n\r\n\tvec2 displacement = vec2(0.0);\r\n\r\n\tif(distance > radius) {\r\n\r\n\t\tif(distance < radius + waveSize) {\r\n\r\n\t\t\tfloat angle = (distance - radius) * PI2 / waveSize;\r\n\t\t\tfloat cosSin = (1.0 - cos(angle)) * 0.5;\r\n\r\n\t\t\tfloat extent = maxRadius + waveSize;\r\n\t\t\tfloat decay = max(extent - distance * distance, 0.0) / extent;\r\n\r\n\t\t\tdisplacement = ((cosSin * amplitude * difference) / distance) * decay;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgl_FragColor = texture2D(tDiffuse, vUv - displacement);\r\n\r\n}\r\n",vertexShader:"uniform float size;\r\nuniform float scale;\r\nuniform float cameraDistance;\r\n\r\nvarying vec2 vUv;\r\nvarying float vSize;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tvSize = (0.1 * cameraDistance) / size;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAABlendMaterial=void 0;var a=n(5);t.SMAABlendMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.Vector2;return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"SMAABlendMaterial",uniforms:{tDiffuse:new a.Uniform(null),tWeights:new a.Uniform(null),texelSize:new a.Uniform(e)},fragmentShader:"uniform sampler2D tDiffuse;\r\nuniform sampler2D tWeights;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\t// Fetch the blending weights for current pixel.\r\n\tvec4 a;\r\n\ta.xz = texture2D(tWeights, vUv).xz;\r\n\ta.y = texture2D(tWeights, vOffset.zw).g;\r\n\ta.w = texture2D(tWeights, vOffset.xy).a;\r\n\r\n\tvec4 color;\r\n\r\n\t// Check if there is any blending weight with a value greater than 0.0.\r\n\tif(dot(a, vec4(1.0)) < 1e-5) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\r\n\t} else {\r\n\r\n\t\t/* Up to four lines can be crossing a pixel (one through each edge).\r\n\t\t * The line with the maximum weight for each direction is favoured.\r\n\t\t */\r\n\r\n\t\tvec2 offset;\r\n\t\toffset.x = a.a > a.b ? a.a : -a.b; // Left vs. right.\r\n\t\toffset.y = a.g > a.r ? -a.g : a.r; // Top vs. bottom (changed signs).\r\n\r\n\t\t// Go in the direction with the maximum weight (horizontal vs. vertical).\r\n\t\tif(abs(offset.x) > abs(offset.y)) {\r\n\r\n\t\t\toffset.y = 0.0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\toffset.x = 0.0;\r\n\r\n\t\t}\r\n\r\n\t\t// Fetch the opposite color and lerp by hand.\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\t\tvec2 coord = vUv + sign(offset) * texelSize;\r\n\t\tvec4 oppositeColor = texture2D(tDiffuse, coord, 0.0);\r\n\t\tfloat s = abs(offset.x) > abs(offset.y) ? abs(offset.x) : abs(offset.y);\r\n\r\n\t\t// Gamma correction.\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(2.2));\r\n\t\toppositeColor.rgb = pow(abs(oppositeColor.rgb), vec3(2.2));\r\n\t\tcolor = mix(color, oppositeColor, s);\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(1.0 / 2.2));\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",vertexShader:"uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAAColorEdgesMaterial=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5);t.SMAAColorEdgesMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s.Vector2;return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"SMAAColorEdgesMaterial",defines:{EDGE_THRESHOLD:"0.1"},uniforms:{tDiffuse:new s.Uniform(null),texelSize:new s.Uniform(e)},fragmentShader:"uniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tconst vec2 threshold = vec2(EDGE_THRESHOLD);\r\n\r\n\t// Calculate color deltas.\r\n\tvec4 delta;\r\n\tvec3 c = texture2D(tDiffuse, vUv).rgb;\r\n\r\n\tvec3 cLeft = texture2D(tDiffuse, vOffset[0].xy).rgb;\r\n\tvec3 t = abs(c - cLeft);\r\n\tdelta.x = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTop = texture2D(tDiffuse, vOffset[0].zw).rgb;\r\n\tt = abs(c - cTop);\r\n\tdelta.y = max(max(t.r, t.g), t.b);\r\n\r\n\t// We do the usual threshold.\r\n\tvec2 edges = step(threshold, delta.xy);\r\n\r\n\t// Then discard if there is no edge.\r\n\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\tdiscard;\r\n\r\n\t}\r\n\r\n\t// Calculate right and bottom deltas.\r\n\tvec3 cRight = texture2D(tDiffuse, vOffset[1].xy).rgb;\r\n\tt = abs(c - cRight);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cBottom = texture2D(tDiffuse, vOffset[1].zw).rgb;\r\n\tt = abs(c - cBottom);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the maximum delta in the direct neighborhood.\r\n\tfloat maxDelta = max(max(max(delta.x, delta.y), delta.z), delta.w);\r\n\r\n\t// Calculate left-left and top-top deltas.\r\n\tvec3 cLeftLeft = texture2D(tDiffuse, vOffset[2].xy).rgb;\r\n\tt = abs(c - cLeftLeft);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTopTop = texture2D(tDiffuse, vOffset[2].zw).rgb;\r\n\tt = abs(c - cTopTop);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the final maximum delta.\r\n\tmaxDelta = max(max(maxDelta, delta.z), delta.w);\r\n\r\n\t// Local contrast adaptation in action.\r\n\tedges.xy *= step(0.5 * maxDelta, delta.xy);\r\n\r\n\tgl_FragColor = vec4(edges, 0.0, 0.0);\r\n\r\n}\r\n",vertexShader:"uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-1.0, 0.0, 0.0, 1.0); // Changed sign in W component.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\tvOffset[2] = uv.xyxy + texelSize.xyxy * vec4(-2.0, 0.0, 0.0, 2.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),a(t,[{key:"setEdgeDetectionThreshold",value:function(e){this.defines.EDGE_THRESHOLD=e.toFixed("2"),this.needsUpdate=!0}}]),t}(s.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAAWeightsMaterial=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5);t.SMAAWeightsMaterial=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s.Vector2;return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"8",MAX_SEARCH_STEPS_FLOAT:"8.0",AREATEX_MAX_DISTANCE:"16.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{tDiffuse:new s.Uniform(null),tArea:new s.Uniform(null),tSearch:new s.Uniform(null),texelSize:new s.Uniform(e)},fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + float(offset) * texelSize, 0.0)\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tArea;\r\nuniform sampler2D tSearch;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvec2 round(vec2 x) {\r\n\r\n\treturn sign(x) * floor(abs(x) + 0.5);\r\n\r\n}\r\n\r\nfloat searchLength(vec2 e, float bias, float scale) {\r\n\r\n\t// Not required if tSearch accesses are set to point.\r\n\t// const vec2 SEARCH_TEX_PIXEL_SIZE = 1.0 / vec2(66.0, 33.0);\r\n\t// e = vec2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE + e * vec2(scale, 1.0) * vec2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;\r\n\r\n\te.r = bias + e.r * scale;\r\n\r\n\treturn 255.0 * texture2D(tSearch, e, 0.0).r;\r\n\r\n}\r\n\r\nfloat searchXLeft(vec2 texCoord, float end) {\r\n\r\n\t/* @PSEUDO_GATHER4\r\n\t * This texCoord has been offset by (-0.25, -0.125) in the vertex shader to\r\n\t * sample between edge, thus fetching four edges in a row.\r\n\t * Sampling with different offsets in each direction allows to disambiguate\r\n\t * which edges are active from the four fetched ones.\r\n\t */\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x > end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\t// Correct the previously applied offset (-0.25, -0.125).\r\n\ttexCoord.x += 0.25 * texelSize.x;\r\n\r\n\t// The searches are biased by 1, so adjust the coords accordingly.\r\n\ttexCoord.x += texelSize.x;\r\n\r\n\t// Disambiguate the length added by the last step.\r\n\ttexCoord.x += 2.0 * texelSize.x; // Undo last step.\r\n\ttexCoord.x -= texelSize.x * searchLength(e, 0.0, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchXRight(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x < end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.x -= 0.25 * texelSize.x;\r\n\ttexCoord.x -= texelSize.x;\r\n\ttexCoord.x -= 2.0 * texelSize.x;\r\n\ttexCoord.x += texelSize.x * searchLength(e, 0.5, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchYUp(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y > end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y -= 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y; // Changed sign.\r\n\ttexCoord.y -= 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y * searchLength(e.gr, 0.0, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nfloat searchYDown(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i ) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y < end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y += 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y; // Changed sign.\r\n\ttexCoord.y += 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y * searchLength(e.gr, 0.5, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nvec2 area(vec2 dist, float e1, float e2, float offset) {\r\n\r\n\t// Rounding prevents precision errors of bilinear filtering.\r\n\tvec2 texCoord = AREATEX_MAX_DISTANCE * round(4.0 * vec2(e1, e2)) + dist;\r\n\r\n\t// Scale and bias for texel space translation.\r\n\ttexCoord = AREATEX_PIXEL_SIZE * texCoord + (0.5 * AREATEX_PIXEL_SIZE);\r\n\r\n\t// Move to proper place, according to the subpixel offset.\r\n\ttexCoord.y += AREATEX_SUBTEX_SIZE * offset;\r\n\r\n\treturn texture2D(tArea, texCoord, 0.0).rg;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 weights = vec4(0.0);\r\n\tvec4 subsampleIndices = vec4(0.0);\r\n\tvec2 e = texture2D(tDiffuse, vUv).rg;\r\n\r\n\tif(e.g > 0.0) {\r\n\r\n\t\t// Edge at north.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the left.\r\n\t\tvec2 coords;\r\n\t\tcoords.x = searchXLeft(vOffset[0].xy, vOffset[2].x);\r\n\t\tcoords.y = vOffset[1].y; // vOffset[1].y = vUv.y - 0.25 * texelSize.y (@CROSSING_OFFSET)\r\n\t\td.x = coords.x;\r\n\r\n\t\t/* Now fetch the left crossing edges, two at a time using bilinear\r\n\t\tfiltering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to discern what\r\n\t\tvalue each edge has. */\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).r;\r\n\r\n\t\t// Find the distance to the right.\r\n\t\tcoords.x = searchXRight(vOffset[0].zw, vOffset[2].y);\r\n\t\td.y = coords.x;\r\n\r\n\t\t/* Translate distances to pixel units for better interleave arithmetic and\r\n\t\tmemory accesses. */\r\n\t\td = d / texelSize.x - vPixCoord.x;\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the right crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(1, 0)).r;\r\n\r\n\t\t// Pattern recognised, now get the actual area.\r\n\t\tweights.rg = area(sqrtD, e1, e2, subsampleIndices.y);\r\n\r\n\t}\r\n\r\n\tif(e.r > 0.0) {\r\n\r\n\t\t// Edge at west.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the top.\r\n\t\tvec2 coords;\r\n\t\tcoords.y = searchYUp(vOffset[1].xy, vOffset[2].z);\r\n\t\tcoords.x = vOffset[0].x; // vOffset[1].x = vUv.x - 0.25 * texelSize.x;\r\n\t\td.x = coords.y;\r\n\r\n\t\t// Fetch the top crossing edges.\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).g;\r\n\r\n\t\t// Find the distance to the bottom.\r\n\t\tcoords.y = searchYDown(vOffset[1].zw, vOffset[2].w);\r\n\t\td.y = coords.y;\r\n\r\n\t\t// Distances in pixel units.\r\n\t\td = d / texelSize.y - vPixCoord.y;\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the bottom crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(0, 1)).g;\r\n\r\n\t\t// Get the area for this direction.\r\n\t\tweights.ba = area(sqrtD, e1, e2, subsampleIndices.x);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = weights;\r\n\r\n}\r\n",vertexShader:"uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvPixCoord = uv / texelSize;\r\n\r\n\t// Offsets for the searches (see @PSEUDO_GATHER4).\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-0.25, 0.125, 1.25, 0.125); // Changed sign in Y and W components.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(-0.125, 0.25, -0.125, -1.25); //Changed sign in Y and W components.\r\n\r\n\t// This indicates the ends of the loops.\r\n\tvOffset[2] = vec4(vOffset[0].xz, vOffset[1].yw) + vec4(-2.0, 2.0, -2.0, 2.0) * texelSize.xxyy * MAX_SEARCH_STEPS_FLOAT;\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),a(t,[{key:"setOrthogonalSearchSteps",value:function(e){this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}}]),t}(s.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToneMappingMaterial=void 0;var a=n(5);t.ToneMappingMaterial=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"ToneMappingMaterial",uniforms:{tDiffuse:new a.Uniform(null),luminanceMap:new a.Uniform(null),averageLuminance:new a.Uniform(1),maxLuminance:new a.Uniform(16),middleGrey:new a.Uniform(.6)},fragmentShader:"#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform float middleGrey;\r\nuniform float maxLuminance;\r\n\r\n#ifdef ADAPTED_LUMINANCE\r\n\r\n\tuniform sampler2D luminanceMap;\r\n\r\n#else\r\n\r\n\tuniform float averageLuminance;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvec3 toneMap(vec3 c) {\r\n\r\n\t#ifdef ADAPTED_LUMINANCE\r\n\r\n\t\t// Get the calculated average luminance by sampling the center.\r\n\t\tfloat lumAvg = texture2D(luminanceMap, vec2(0.5)).r;\r\n\r\n\t#else\r\n\r\n\t\tfloat lumAvg = averageLuminance;\r\n\r\n\t#endif\r\n\r\n\t// Calculate the luminance of the current pixel.\r\n\tfloat lumPixel = linearToRelativeLuminance(c);\r\n\r\n\t// Apply the modified operator (Reinhard Eq. 4).\r\n\tfloat lumScaled = (lumPixel * middleGrey) / lumAvg;\r\n\r\n\tfloat lumCompressed = (lumScaled * (1.0 + (lumScaled / (maxLuminance * maxLuminance)))) / (1.0 + lumScaled);\r\n\r\n\treturn lumCompressed * c;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = vec4(toneMap(texel.rgb), texel.a);\r\n\r\n}\r\n",vertexShader:"varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",depthWrite:!1,depthTest:!1}))}return o(t,e),t}(a.ShaderMaterial)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BokehPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(20),l=n(17);t.BokehPass=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="BokehPass",o.needsSwap=!0,o.bokehMaterial=new s.BokehMaterial(e,n),o.quad.material=o.bokehMaterial,o}return o(t,e),a(t,[{key:"render",value:function(e,t,n){this.bokehMaterial.uniforms.tDiffuse.value=t.texture,this.bokehMaterial.uniforms.tDepth.value=t.depthTexture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.bokehMaterial.uniforms.aspect.value=e/t}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Bokeh2Pass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(20),l=n(17);t.Bokeh2Pass=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="Bokeh2Pass",o.needsSwap=!0,o.bokehMaterial=new s.Bokeh2Material(e,n),o.quad.material=o.bokehMaterial,o}return o(t,e),a(t,[{key:"render",value:function(e,t,n){this.bokehMaterial.uniforms.tDiffuse.value=t.texture,this.bokehMaterial.uniforms.tDepth.value=t.depthTexture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.bokehMaterial.setTexelSize(1/e,1/t)}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ClearMaskPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(17);t.ClearMaskPass=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,null));return e.name="ClearMaskPass",e}return o(t,e),a(t,[{key:"render",value:function(e){e.state.buffers.stencil.setTest(!1)}}]),t}(s.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DotScreenPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(20),l=n(17);t.DotScreenPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="DotScreenPass",n.needsSwap=!0,n.material=new s.DotScreenMaterial(e.average),void 0!==e.angle&&(n.material.uniforms.angle.value=e.angle),void 0!==e.scale&&(n.material.uniforms.scale.value=e.scale),void 0!==e.intensity&&(n.material.uniforms.intensity.value=e.intensity),n.quad.material=n.material,n}return o(t,e),a(t,[{key:"render",value:function(e,t,n){this.material.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){e=Math.max(1,e),t=Math.max(1,t),this.material.uniforms.offsetRepeat.value.z=e,this.material.uniforms.offsetRepeat.value.w=t}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FilmPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(20),l=n(17);t.FilmPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="FilmPass",n.needsSwap=!0,n.material=new s.FilmMaterial(e),n.quad.material=n.material,n.scanlineDensity=void 0===e.scanlineDensity?1.25:e.scanlineDensity,n}return o(t,e),a(t,[{key:"render",value:function(e,t,n,i){this.material.uniforms.tDiffuse.value=t.texture,this.material.uniforms.time.value+=i,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.material.uniforms.scanlineCount.value=Math.round(t*this.scanlineDensity)}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e+Math.floor(Math.random()*(t-e+1))}function s(e,t){return e+Math.random()*(t-e)}Object.defineProperty(t,"__esModule",{value:!0}),t.GlitchMode=t.GlitchPass=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=n(20),d=n(17),h=(t.GlitchPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="GlitchPass",n.needsSwap=!0,n.material=new c.GlitchMaterial,n.quad.material=n.material,n.texture=null,n.perturbMap=void 0!==e.perturbMap?e.perturbMap:n.generatePerturbMap(e.dtSize),n.perturbMap.name="Glitch.Perturbation",n.perturbMap.generateMipmaps=!1,n.mode=h.SPORADIC,n.counter=0,n.breakPoint=a(120,240),n}return o(t,e),l(t,[{key:"generatePerturbMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,t=e*e,n=new Float32Array(3*t),i=this.perturbMap,r=void 0,o=void 0;for(r=0;r<t;++r)o=Math.random(),n[3*r]=o,n[3*r+1]=o,n[3*r+2]=o;return null!==i&&i.dispose(),i=new u.DataTexture(n,e,e,u.RGBFormat,u.FloatType),i.needsUpdate=!0,this.perturbMap=i,i}},{key:"render",value:function(e,t,n){var i=this.mode,r=this.counter,o=this.breakPoint,l=this.material.uniforms;l.tDiffuse.value=t.texture,l.seed.value=Math.random(),l.active.value=!0,r%o==0||i===h.CONSTANT_WILD?(l.amount.value=Math.random()/30,l.angle.value=s(-Math.PI,Math.PI),l.seedX.value=s(-1,1),l.seedY.value=s(-1,1),l.distortionX.value=s(0,1),l.distortionY.value=s(0,1),this.breakPoint=a(120,240),this.counter=0):r%o<o/5||i===h.CONSTANT_MILD?(l.amount.value=Math.random()/90,l.angle.value=s(-Math.PI,Math.PI),l.distortionX.value=s(0,1),l.distortionY.value=s(0,1),l.seedX.value=s(-.3,.3),l.seedY.value=s(-.3,.3)):l.active.value=!1,++this.counter,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"perturbMap",get:function(){return this.texture},set:function(e){this.texture=e,this.material.uniforms.tPerturb.value=e}}]),t}(d.Pass),t.GlitchMode={SPORADIC:0,CONSTANT_MILD:1,CONSTANT_WILD:2})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return Math.max(t,Math.min(n,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.GodRaysPass=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=n(20),c=n(377),d=n(171),h=n(17);t.GodRaysPass=function(e){function t(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.name="GodRaysPass",s.needsSwap=!0,s.lightScene=new l.Scene,s.mainScene=e,s.mainCamera=n,s.renderPassLight=new c.RenderPass(s.lightScene,s.mainCamera),s.renderPassMask=new c.RenderPass(s.mainScene,s.mainCamera,{overrideMaterial:new l.MeshBasicMaterial({color:0}),clearColor:new l.Color(0)}),s.renderPassMask.clear=!1,s.blurPass=new d.BlurPass(a),s.renderTargetX=new l.WebGLRenderTarget(1,1,{minFilter:l.LinearFilter,magFilter:l.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),s.renderTargetX.texture.name="GodRays.TargetX",s.renderTargetX.texture.generateMipmaps=!1,s.renderTargetY=s.renderTargetX.clone(),s.renderTargetY.texture.name="GodRays.TargetY",s.renderTargetMask=new l.WebGLRenderTarget(1,1,{minFilter:l.LinearFilter,magFilter:l.LinearFilter}),s.renderTargetMask.texture.name="GodRays.Mask",s.renderTargetMask.texture.generateMipmaps=!1,s.lightSource=o,s.screenPosition=new l.Vector3,s.godRaysMaterial=new u.GodRaysMaterial,s.godRaysMaterial.uniforms.lightPosition.value=s.screenPosition,void 0!==a.exposure&&(s.godRaysMaterial.uniforms.exposure.value=a.exposure),void 0!==a.density&&(s.godRaysMaterial.uniforms.density.value=a.density),void 0!==a.decay&&(s.godRaysMaterial.uniforms.decay.value=a.decay),void 0!==a.weight&&(s.godRaysMaterial.uniforms.weight.value=a.weight),void 0!==a.clampMax&&(s.godRaysMaterial.uniforms.clampMax.value=a.clampMax),s.samples=a.samples,s.combineMaterial=new u.CombineMaterial(void 0===a.screenMode||a.screenMode),s.intensity=a.intensity,s}return o(t,e),s(t,[{key:"render",value:function(e,t,n){var i=this.quad,r=this.scene,o=this.camera,s=this.mainScene,l=this.lightSource,u=this.screenPosition,c=this.godRaysMaterial,d=this.combineMaterial,h=this.renderTargetMask,p=this.renderTargetX,f=this.renderTargetY,m=void 0,g=void 0;u.copy(l.position).project(this.mainCamera),u.x=a(.5*(u.x+1),0,1),u.y=a(.5*(u.y+1),0,1),g=l.parent,m=s.background,s.background=null,this.lightScene.add(l),this.renderPassLight.render(e,h),this.renderPassMask.render(e,h),null!==g&&g.add(l),s.background=m,this.blurPass.render(e,h,p),i.material=c,c.uniforms.tDiffuse.value=p.texture,e.render(r,o,f),i.material=d,d.uniforms.texture1.value=t.texture,d.uniforms.texture2.value=f.texture,e.render(r,o,this.renderToScreen?null:n)}},{key:"initialise",value:function(e,t){this.renderPassLight.initialise(e,t),this.renderPassMask.initialise(e,t),this.blurPass.initialise(e,t),t||(this.renderTargetMask.texture.format=l.RGBFormat,this.renderTargetX.texture.format=l.RGBFormat,this.renderTargetY.texture.format=l.RGBFormat)}},{key:"setSize",value:function(e,t){this.renderPassLight.setSize(e,t),this.renderPassMask.setSize(e,t),this.blurPass.setSize(e,t),e=this.blurPass.width,t=this.blurPass.height,this.renderTargetMask.setSize(e,t),this.renderTargetX.setSize(e,t),this.renderTargetY.setSize(e,t)}},{key:"resolutionScale",get:function(){return this.blurPass.resolutionScale},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.blurPass.resolutionScale=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.KernelSize.LARGE;this.blurPass.kernelSize=e}},{key:"intensity",get:function(){return this.combineMaterial.uniforms.opacity2.value},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.combineMaterial.uniforms.opacity2.value=e}},{key:"samples",get:function(){return Number.parseInt(this.godRaysMaterial.defines.NUM_SAMPLES_INT)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;e=Math.floor(e),this.godRaysMaterial.defines.NUM_SAMPLES_FLOAT=e.toFixed(1),this.godRaysMaterial.defines.NUM_SAMPLES_INT=e.toFixed(0),this.godRaysMaterial.needsUpdate=!0}}]),t}(h.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MaskPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(17);t.MaskPass=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,null));return o.name="MaskPass",o.inverse=!1,o.clearStencil=!0,o}return o(t,e),a(t,[{key:"render",value:function(e,t,n){var i=e.context,r=e.state,o=this.scene,a=this.camera,s=this.inverse?0:1,l=1-s;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),r.buffers.stencil.setFunc(i.ALWAYS,s,4294967295),r.buffers.stencil.setClear(l),this.clearStencil&&(e.setRenderTarget(t),e.clearStencil(),e.setRenderTarget(n),e.clearStencil()),e.render(o,a,t),e.render(o,a,n),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setFunc(i.EQUAL,1,4294967295),r.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP)}}]),t}(s.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PixelationPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(20),l=n(17);t.PixelationPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="PixelationPass",n.needsSwap=!0,n.pixelationMaterial=new s.PixelationMaterial,n.granularity=e,n.quad.material=n.pixelationMaterial,n}return o(t,e),a(t,[{key:"render",value:function(e,t,n){this.pixelationMaterial.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.pixelationMaterial.setResolution(e,t)}},{key:"granularity",get:function(){return this.pixelationMaterial.granularity},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;e=Math.floor(e),e%2>0&&(e+=1),this.pixelationMaterial.granularity=e}}]),t}(l.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SavePass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(20),u=n(17);t.SavePass=function(e){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="SavePass",o.material=new l.CopyMaterial,o.quad.material=o.material,o.renderTarget=void 0!==e?e:new s.WebGLRenderTarget(1,1,{minFilter:s.LinearFilter,magFilter:s.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),o.renderTarget.texture.name="Save.Target",o.renderTarget.texture.generateMipmaps=!1,o.resize=n,o}return o(t,e),a(t,[{key:"render",value:function(e,t){this.material.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderTarget)}},{key:"initialise",value:function(e,t){t||(this.renderTarget.texture.format=s.RGBFormat)}},{key:"setSize",value:function(e,t){this.resize&&(e=Math.max(1,e),t=Math.max(1,t),this.renderTarget.setSize(e,t))}}]),t}(u.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderPass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(17);t.ShaderPass=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tDiffuse";i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="ShaderPass",o.needsSwap=!0,o.material=e,o.quad.material=o.material,o.textureID=n,o}return o(t,e),a(t,[{key:"render",value:function(e,t,n){void 0!==this.material.uniforms[this.textureID]&&(this.material.uniforms[this.textureID].value=t.texture),e.render(this.scene,this.camera,this.renderToScreen?null:n)}}]),t}(s.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShockWavePass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(20),u=n(17),c=.5*Math.PI,d=new s.Vector3,h=new s.Vector3;t.ShockWavePass=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Vector3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="ShockWavePass",a.needsSwap=!0,a.mainCamera=e,a.epicenter=n,a.screenPosition=new s.Vector3,a.speed=void 0!==o.speed?o.speed:2,a.time=0,a.active=!1,a.shockWaveMaterial=new l.ShockWaveMaterial(o),a.shockWaveMaterial.uniforms.center.value=a.screenPosition,a.copyMaterial=new l.CopyMaterial,a}return o(t,e),a(t,[{key:"explode",value:function(){this.time=0,this.active=!0}},{key:"render",value:function(e,t,n,i){var r=this.epicenter,o=this.mainCamera,a=this.screenPosition,s=this.shockWaveMaterial,l=s.uniforms,u=l.center,p=l.radius,f=l.maxRadius,m=l.waveSize;this.copyMaterial.uniforms.tDiffuse.value=t.texture,this.quad.material=this.copyMaterial,this.active&&(o.getWorldDirection(d),h.copy(o.position).sub(r),d.angleTo(h)>c&&(l.cameraDistance.value=o.position.distanceTo(r),a.copy(r).project(o),u.value.x=.5*(a.x+1),u.value.y=.5*(a.y+1),l.tDiffuse.value=t.texture,this.quad.material=s),this.time+=i*this.speed,p.value=this.time-m.value,p.value>=2*(f.value+m.value)&&(this.active=!1)),e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.shockWaveMaterial.uniforms.aspect.value=e/t}}]),t}(u.Pass)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAAPass=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=n(20),c=n(17),d=n(706),h=i(d),p=n(707),f=i(p);t.SMAAPass=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="SMAAPass",i.needsSwap=!0,i.renderTargetColorEdges=new l.WebGLRenderTarget(1,1,{minFilter:l.LinearFilter,format:l.RGBFormat,stencilBuffer:!1,depthBuffer:!1}),i.renderTargetColorEdges.texture.name="SMAA.ColorEdges",i.renderTargetColorEdges.texture.generateMipmaps=!1,i.renderTargetWeights=i.renderTargetColorEdges.clone(),i.renderTargetWeights.texture.name="SMAA.Weights",i.renderTargetWeights.texture.format=l.RGBAFormat,i.colorEdgesMaterial=new u.SMAAColorEdgesMaterial,i.weightsMaterial=new u.SMAAWeightsMaterial,i.weightsMaterial.uniforms.tDiffuse.value=i.renderTargetColorEdges.texture,i.searchTexture=new l.Texture(e),i.searchTexture.name="SMAA.Search",i.searchTexture.magFilter=l.NearestFilter,i.searchTexture.minFilter=l.NearestFilter,i.searchTexture.format=l.RGBAFormat,i.searchTexture.generateMipmaps=!1,i.searchTexture.needsUpdate=!0,i.searchTexture.flipY=!1,i.weightsMaterial.uniforms.tSearch.value=i.searchTexture,i.areaTexture=new l.Texture(n),i.areaTexture.name="SMAA.Area",i.areaTexture.minFilter=l.LinearFilter,i.areaTexture.format=l.RGBAFormat,i.areaTexture.generateMipmaps=!1,i.areaTexture.needsUpdate=!0,i.areaTexture.flipY=!1,i.weightsMaterial.uniforms.tArea.value=i.areaTexture,i.blendMaterial=new u.SMAABlendMaterial,i.blendMaterial.uniforms.tWeights.value=i.renderTargetWeights.texture,i.quad.material=i.blendMaterial,i}return a(t,e),s(t,[{key:"render",value:function(e,t,n){this.quad.material=this.colorEdgesMaterial,this.colorEdgesMaterial.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderTargetColorEdges,!0),this.quad.material=this.weightsMaterial,e.render(this.scene,this.camera,this.renderTargetWeights,!1),this.quad.material=this.blendMaterial,this.blendMaterial.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.renderTargetColorEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t),this.colorEdgesMaterial.uniforms.texelSize.value.copy(this.weightsMaterial.uniforms.texelSize.value.copy(this.blendMaterial.uniforms.texelSize.value.set(1/e,1/t)))}}],[{key:"searchImageDataUrl",get:function(){return h.default}},{key:"areaImageDataUrl",get:function(){return f.default}}]),t}(c.Pass)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TexturePass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),l=n(20),u=n(17);t.TexturePass=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="TexturePass",o.copyMaterial=new l.CopyMaterial,o.copyMaterial.blending=s.AdditiveBlending,o.copyMaterial.transparent=!0,o.texture=e,o.opacity=n,o.quad.material=o.copyMaterial,o}return o(t,e),a(t,[{key:"render",value:function(e,t){e.render(this.scene,this.camera,this.renderToScreen?null:t)}},{key:"texture",get:function(){return this.copyMaterial.uniforms.tDiffuse.value},set:function(e){this.copyMaterial.uniforms.tDiffuse.value=e}},{key:"opacity",get:function(){return this.copyMaterial.uniforms.opacity.value},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.copyMaterial.uniforms.opacity.value=e}}]),t}(u.Pass)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Math.pow(2,Math.max(0,Math.ceil(Math.log2(e))))}Object.defineProperty(t,"__esModule",{value:!0}),t.ToneMappingPass=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=n(20),c=n(17);t.ToneMappingPass=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="ToneMappingPass",n.needsSwap=!0,n.renderTargetLuminosity=new l.WebGLRenderTarget(1,1,{minFilter:l.LinearMipMapLinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetLuminosity.texture.name="ToneMapping.Luminosity",n.renderTargetAdapted=n.renderTargetLuminosity.clone(),n.renderTargetAdapted.texture.name="ToneMapping.AdaptedLuminosity",n.renderTargetAdapted.texture.generateMipmaps=!1,n.renderTargetAdapted.texture.minFilter=l.LinearFilter,n.renderTargetPrevious=n.renderTargetAdapted.clone(),n.renderTargetPrevious.texture.name="ToneMapping.PreviousLuminosity",n.copyMaterial=new u.CopyMaterial,n.luminosityMaterial=new u.LuminosityMaterial,n.luminosityMaterial.uniforms.distinction.value=void 0!==e.distinction?e.distinction:1,n.adaptiveLuminosityMaterial=new u.AdaptiveLuminosityMaterial,n.resolution=e.resolution,n.toneMappingMaterial=new u.ToneMappingMaterial,n.adaptive=e.adaptive,n}return o(t,e),s(t,[{key:"render",value:function(e,t,n,i){var r=this.quad,o=this.scene,a=this.camera,s=this.adaptiveLuminosityMaterial,l=this.luminosityMaterial,u=this.toneMappingMaterial,c=this.copyMaterial,d=this.renderTargetPrevious,h=this.renderTargetLuminosity,p=this.renderTargetAdapted;this.adaptive&&(r.material=l,l.uniforms.tDiffuse.value=t.texture,e.render(o,a,h),r.material=s,s.uniforms.delta.value=i,s.uniforms.tPreviousLum.value=d.texture,s.uniforms.tCurrentLum.value=h.texture,e.render(o,a,p),r.material=c,c.uniforms.tDiffuse.value=p.texture,e.render(o,a,d)),r.material=u,u.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"initialise",value:function(e){this.quad.material=new l.MeshBasicMaterial({color:8388607}),e.render(this.scene,this.camera,this.renderTargetPrevious),this.quad.material.dispose()}},{key:"resolution",get:function(){return this.renderTargetLuminosity.width},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;e=a(e),this.renderTargetLuminosity.setSize(e,e),this.renderTargetPrevious.setSize(e,e),this.renderTargetAdapted.setSize(e,e),this.adaptiveLuminosityMaterial.defines.MIP_LEVEL_1X1=(Math.round(Math.log(e))/Math.log(2)).toFixed(1),this.adaptiveLuminosityMaterial.needsUpdate=!0}},{key:"adaptive",get:function(){return void 0!==this.toneMappingMaterial.defines.ADAPTED_LUMINANCE},set:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(delete this.toneMappingMaterial.defines.ADAPTED_LUMINANCE,this.toneMappingMaterial.uniforms.luminanceMap.value=null):(this.toneMappingMaterial.defines.ADAPTED_LUMINANCE="1",this.toneMappingMaterial.uniforms.luminanceMap.value=this.renderTargetAdapted.texture),this.toneMappingMaterial.needsUpdate=!0}}]),t}(c.Pass)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(711);Object.defineProperty(t,"SMAAAreaImageData",{enumerable:!0,get:function(){return i.SMAAAreaImageData}});var r=n(712);Object.defineProperty(t,"SMAASearchImageData",{enumerable:!0,get:function(){return r.SMAASearchImageData}});var o=n(172);Object.defineProperty(t,"RawImageData",{enumerable:!0,get:function(){return o.RawImageData}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return e+(t-e)*n}function o(e){return Math.min(Math.max(e,0),1)}function a(e,t){var n=t.min,i=t.max,a=.5*Math.sqrt(2*n.x),s=.5*Math.sqrt(2*n.y),l=.5*Math.sqrt(2*i.x),u=.5*Math.sqrt(2*i.y),c=o(e/w);return n.set(r(a,n.x,c),r(s,n.y,c)),i.set(r(l,i.x,c),r(u,i.y,c)),t}function s(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n,s=n+1,l=e.y+o*(a-e.x)/r,u=e.y+o*(s-e.x)/r,c=void 0,d=void 0,h=void 0,p=void 0;return a>=e.x&&a<t.x||s>e.x&&s<=t.x?Math.sign(l)===Math.sign(u)||Math.abs(l)<1e-4||Math.abs(u)<1e-4?(c=(l+u)/2,c<0?i.set(Math.abs(c),0):i.set(0,Math.abs(c))):(p=-e.y*r/o+e.x,d=p>e.x?l*(p-Math.trunc(p))/2:0,h=p<t.x?u*(1-(p-Math.trunc(p)))/2:0,c=Math.abs(d)>Math.abs(h)?d:-h,c<0?i.set(Math.abs(d),Math.abs(h)):i.set(Math.abs(h),Math.abs(d))):i.set(0,0),i}function l(e,t,n,i,r){var o=y.min,l=y.max,u=_.min,c=_.max,d=_,h=.5+i,p=.5+i-1,f=t+n+1;switch(e){case 0:r.set(0,0);break;case 1:t<=n?s(o.set(0,p),l.set(f/2,0),t,r):r.set(0,0);break;case 2:t>=n?s(o.set(f/2,0),l.set(f,p),t,r):r.set(0,0);break;case 3:s(o.set(0,p),l.set(f/2,0),t,u),s(o.set(f/2,0),l.set(f,p),t,c),a(f,d),r.addVectors(u,c);break;case 4:t<=n?s(o.set(0,h),l.set(f/2,0),t,r):r.set(0,0);break;case 5:r.set(0,0);break;case 6:Math.abs(i)>0?(s(o.set(0,h),l.set(f,p),t,u),s(o.set(0,h),l.set(f/2,0),t,c),c.add(s(o.set(f/2,0),l.set(f,p),t,r)),r.addVectors(u,c).divideScalar(2)):s(o.set(0,h),l.set(f,p),t,r);break;case 7:s(o.set(0,h),l.set(f,p),t,r);break;case 8:t>=n?s(o.set(f/2,0),l.set(f,h),t,r):r.set(0,0);break;case 9:Math.abs(i)>0?(s(o.set(0,p),l.set(f,h),t,u),s(o.set(0,p),l.set(f/2,0),t,c),c.add(s(o.set(f/2,0),l.set(f,h),t,r)),r.addVectors(u,c).divideScalar(2)):s(o.set(0,p),l.set(f,h),t,r);break;case 10:r.set(0,0);break;case 11:s(o.set(0,p),l.set(f,h),t,r);break;case 12:s(o.set(0,h),l.set(f/2,0),t,u),s(o.set(f/2,0),l.set(f,h),t,c),a(f,d),r.addVectors(u,c);break;case 13:s(o.set(0,p),l.set(f,h),t,r);break;case 14:s(o.set(0,h),l.set(f,p),t,r);break;case 15:r.set(0,0)}return r}function u(e,t,n,i){var r=e.equals(t),o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;return r||(o=(e.x+t.x)/2,a=(e.y+t.y)/2,s=t.y-e.y,l=e.x-t.x,u=s*(n-o)+l*(i-a),r=u>0),r}function c(e,t,n,i){var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;for(r=0,a=0;a<b;++a)for(o=0;o<b;++o)s=o/(b-1),l=a/(b-1),u(e,t,n+s,i+l)&&++r;return r/(b*b)}function d(e,t,n,i,r,o){var a=E[e],s=a[0],l=a[1];return s>0&&(t.x+=r[0],t.y+=r[1]),l>0&&(n.x+=r[0],n.y+=r[1]),o.set(1-c(t,n,1+i,0+i),c(t,n,1+i,1+i))}function h(e,t,n,i,r){var o=y.min,a=y.max,s=_.min,l=_.max,u=t+n+1;switch(e){case 0:d(e,o.set(1,1),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 1:d(e,o.set(1,0),a.set(0+u,0+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 2:d(e,o.set(0,0),a.set(1+u,0+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 3:d(e,o.set(1,0),a.set(1+u,0+u),t,i,r);break;case 4:d(e,o.set(1,1),a.set(0+u,0+u),t,i,s),d(e,o.set(1,1),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 5:d(e,o.set(1,1),a.set(0+u,0+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 6:d(e,o.set(1,1),a.set(1+u,0+u),t,i,r);break;case 7:d(e,o.set(1,1),a.set(1+u,0+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 8:d(e,o.set(0,0),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,1+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 9:d(e,o.set(1,0),a.set(1+u,1+u),t,i,r);break;case 10:d(e,o.set(0,0),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 11:d(e,o.set(1,0),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 12:d(e,o.set(1,1),a.set(1+u,1+u),t,i,r);break;case 13:d(e,o.set(1,1),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,1+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 14:d(e,o.set(1,1),a.set(1+u,1+u),t,i,s),d(e,o.set(1,1),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2);break;case 15:d(e,o.set(1,1),a.set(1+u,1+u),t,i,s),d(e,o.set(1,0),a.set(1+u,0+u),t,i,l),r.addVectors(s,l).divideScalar(2)}return r}function p(e,t,n){var i=new g.Vector2,r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,d=void 0,p=void 0;for(r=0,o=e.length;r<o;++r)for(c=e[r],d=c.data,p=c.width,s=0;s<p;++s)for(a=0;a<p;++a)n?l(r,a,s,t,i):h(r,a,s,t,i),u=2*(s*p+a),d[u]=255*i.x,d[u+1]=255*i.y}function f(e,t,n,i,r,o){var a=new g.Vector2,s=o.data,l=o.width,u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,f=void 0,m=void 0,v=void 0,y=void 0,_=void 0;for(u=0,c=t.length;u<c;++u)for(m=n[u],v=t[u],y=v.data,_=v.width,h=0;h<i;++h)for(d=0;d<i;++d)a.fromArray(m).multiplyScalar(i),a.add(e),a.x+=d,a.y+=h,p=2*(a.y*l+a.x),f=r?2*(h*h*_+d*d):2*(h*_+d),s[p]=y[f],s[p+1]=y[f+1]}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAAAreaImageData=void 0;var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=n(5),v=n(172),y=new g.Box2,_=new g.Box2,b=30,w=32,M=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),x=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],S=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],E=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];t.SMAAAreaImageData=function(){function e(){i(this,e)}return m(e,null,[{key:"generate",value:function(){var e=5*M.length*16,t=new Uint8ClampedArray(160*e*2),n=new v.RawImageData(160,e,t,2),i=Math.pow(15,2)+1,r=[],o=[],a=new g.Vector2,s=void 0,l=void 0;for(s=0;s<16;++s)r.push(new v.RawImageData(i,i,new Uint8ClampedArray(i*i*2),2)),o.push(new v.RawImageData(20,20,new Uint8ClampedArray(800),2));for(s=0,l=M.length;s<l;++s)p(r,M[s],!0),a.set(0,80*s),f(a,r,S,16,!0,n);for(s=0,l=x.length;s<l;++s)p(o,x[s],!1),a.set(80,80*s),f(a,o,E,20,!1,n);return n}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return e+(t-e)*n}function o(e){return r(r(e[0],e[1],.75),r(e[2],e[3],.75),.875)}function a(e,t){var n=0;return 1===t[3]&&(n+=1),1===n&&1===t[2]&&1!==e[1]&&1!==e[3]&&(n+=1),n}function s(e,t){var n=0;return 1===t[3]&&1!==e[1]&&1!==e[3]&&(n+=1),1===n&&1===t[2]&&1!==e[0]&&1!==e[2]&&(n+=1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.SMAASearchImageData=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(172),c=new Map([[o([0,0,0,0]),[0,0,0,0]],[o([0,0,0,1]),[0,0,0,1]],[o([0,0,1,0]),[0,0,1,0]],[o([0,0,1,1]),[0,0,1,1]],[o([0,1,0,0]),[0,1,0,0]],[o([0,1,0,1]),[0,1,0,1]],[o([0,1,1,0]),[0,1,1,0]],[o([0,1,1,1]),[0,1,1,1]],[o([1,0,0,0]),[1,0,0,0]],[o([1,0,0,1]),[1,0,0,1]],[o([1,0,1,0]),[1,0,1,0]],[o([1,0,1,1]),[1,0,1,1]],[o([1,1,0,0]),[1,1,0,0]],[o([1,1,0,1]),[1,1,0,1]],[o([1,1,1,0]),[1,1,1,0]],[o([1,1,1,1]),[1,1,1,1]]]);t.SMAASearchImageData=function(){function e(){i(this,e)}return l(e,null,[{key:"generate",value:function(){var e=new Uint8ClampedArray(2178),t=new Uint8ClampedArray(1024),n=void 0,i=void 0,r=void 0,o=void 0,l=void 0,d=void 0,h=void 0;for(i=0;i<33;++i)for(n=0;n<66;++n)r=.03125*n,o=.03125*i,c.has(r)&&c.has(o)&&(d=c.get(r),h=c.get(o),e[66*i+n]=127*a(d,h),e[66*i+n+33]=127*s(d,h));for(l=0,i=17;i<33;++i)for(n=0;n<64;++n,++l)t[l]=e[66*i+n];return new u.RawImageData(64,16,t,1)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}function o(e,t){return null!==e&&e.toLowerCase().search(t.toLowerCase())>-1}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=i(a),l=n(2),u=n(6),c=n(3),d=n(9),h=i(d),p=n(88),f=i(p),m=20;r.prototype.reactClass=s.default.createClass({displayName:"ui/datatypeviews/ListDataTypeView",mixins:[s.default.addons.LinkedStateMixin,f.default],getInitialState:function(){return void 0!==c.Config.properties().dataTypeViews.list.itemLimit&&(m=c.Config.properties().dataTypeViews.list.itemLimit),{page:0,bSortAscending:!0,searchString:"",modalData:[],sliderItemValue:0}},componentWillReceiveProps:function(e){this.itemsCSSMinHeight=0,e.data&&e.data.length<this.state.page*m&&this.setState({page:0,sliderItemValue:0})},render:function(){var e,t,n=this.props.data,i=[],r=null,a=null,l=this.props.facetCategory,u=0;if(this.props.showContent){e=m*this.state.page+m,t=Math.max(0,e-m),n=n.filter(function(e){u+=e.count;var t=h.default.isInFilter(l,e.value);return(e.count>0||t)&&(!this.state.searchString||o(e.value,this.state.searchString))}.bind(this)),n.slice(t,e).forEach(function(e){var t=h.default.isInFilter(l,e.value),n=(s.default.addons.classSet,e.value+"-input-"+l),r=null!==e.value?e.value:c.Config.i18nValue("null-data");i.push(s.default.DOM.label({htmlFor:n,className:"zeg-facet-item",key:n,title:r},s.default.DOM.input({id:n,type:"checkbox",className:"zeg-facet-item-check",value:null!==e.value?e.value:"NULL",onChange:this.onChange,checked:t,disabled:!(!t||0!==e.count)||!this.props.isActive,ref:e.value+".checkbox"}),s.default.DOM.span({className:"zeg-facet-item-name",ref:e.value+".name"},r),s.default.DOM.span({className:"zeg-facet-item-count",ref:e.value+".count"},e.count)))}.bind(this)),r=this.renderToolbar(),n.length>m&&(a=this.renderPagination(e,n.length));var d=19*i.length;this.itemsCSSMinHeight=d>this.itemsCSSMinHeight?d:this.itemsCSSMinHeight}return s.default.DOM.div({key:this.props.facetCategory,className:"zeg-filter-content"},r,s.default.DOM.div({className:"zeg-facet-items",style:{display:this.props.showContent?"block":"none",minHeight:this.itemsCSSMinHeight},ref:"itemsList"},i),this.getBreadcrumb(h.default.getValuesFromCategory(l)),a)},componentDidMount:function(){l.Events.addListener("datatypeview.sort",function(){this.props.showContent&&this.isMounted()&&(this.props.data.sort(u.Helpers.sort("value",!this.state.bSortAscending)),this.setState({bSortAscending:!this.state.bSortAscending}))}.bind(this))},clearSearch:function(){this.state.searchString&&this.setState({searchString:""})},onSearchChange:function(e){this.setState({searchString:e.target.value,page:0})},onClickNext:function(){this.setState({page:this.state.page+1,sliderItemValue:(this.state.page+1)*m+m})},onClickPrev:function(){this.setState({page:this.state.page-1,sliderItemValue:(this.state.page-1)*m+m})},pageSlider:function(e){var t=Math.max(0,Math.floor((e.target.value-1)/m));t!==this.state.page&&this.setState({page:t}),this.setState({sliderItemValue:e.target.value})},renderPagination:function(e,t){var n,i,r=null;return this.props.showContent&&t>0&&(t>e&&(n=s.default.DOM.i({className:"fa fa-chevron-right zeg-button",onClick:this.onClickNext,style:{position:"absolute",right:0,top:"5px"}})),this.state.page>0&&(i=s.default.DOM.i({className:"fa fa-chevron-left zeg-button",onClick:this.onClickPrev,style:{position:"absolute",left:0,top:"5px"}})),r=s.default.DOM.div({className:"zeg-pagination"},s.default.DOM.div({className:"zeg-pagination-progress"},i,s.default.DOM.div({id:"zeg-string-pagination",style:{width:"129px",margin:"0 auto"}}),n),s.default.DOM.span(null,this.state.page+1,c.Config.i18nValue("fraction-label"),Math.floor((t-1)/m)+1))),r},renderToolbar:function(){return this.props.showContent?s.default.DOM.div({className:"zeg-facet-search"},s.default.DOM.input({type:"text",placeholder:c.Config.i18nValue("search-filter-placeholder"),value:this.state.searchString,onInput:this.onSearchChange}),s.default.DOM.i({className:"fa fa-times zeg-button primary-color",style:{display:this.state.searchString?"inline":"none"},onClick:this.clearSearch})):null},onChange:function(e){var t=e.target.checked,n=!1,i=e.target.value,r=this.props.facetCategory;"NULL"===i&&(i=null),n=t?h.default.addToFilter(r,i,"equal"):h.default.removeFromFilter(r,i,!1),n?this.props.filterChanged():this.forceUpdate()},getBreadcrumb:function(e){var t;return this.props.showContent?null:(e=e||[],e.length>5?(t=e.length-5,e=e.slice(0,5),s.default.DOM.span({className:"zeg-breadcrumb"},e.join(", ")+c.Config.i18nValue("string-filter-breadcrumb-limit",t))):s.default.DOM.span({key:this.props.facetCategory,className:"zeg-breadcrumb"},e.join(", ")))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=(n(6),n(3)),u=n(9),c=i(u),d=n(88),h=i(d),p=n(379),f=i(p),m=n(121),g=i(m),v=n(174),y=i(v),_=a.default.createClass({mixins:[h.default,f.default],displayName:"ui/datatypeviews/RangeDataTypeView",render:function(){var e=null,t=null,n=c.default.isCategoryInFilter(this.props.facetCategory);return this.props.showContent?e=this.getView():n&&(t=this.getBreadcrumb()),a.default.DOM.div({className:"full-width-height"},a.default.DOM.div({className:"zeg-facet-numeric",style:{display:this.props.showContent?"block":"none"}},e),t)},getView:function(){for(var e=this.getIncludedData(this.props.data),t=this.getMinMax(e),n=this.getBinnedData(e),i=c.default.getValuesFromCategory(this.props.facetCategory),r=i?Array.isArray(i[0])?i[0][0]:i[0]?i[0]:t.min:t.min,o=i?Array.isArray(i[0])?i[0][1]:i[1]?i[1]:t.max:t.max,s=c.default.getExcludeNullFromCategory(this.props.facetCategory),l=null,u=0,d=null,h=null===i||null===i[0],p=0;p<n.bins.length;p++)null===n.bins[p].startingGroupingValue&&(l=n.bins[p]),u+=n.bins[p].elements.length;var f=this.checkNumericPrecision(this.props.data),m=this.getHistogram(n,r,o,s,h),g=(new y.default).UI({minRange:t.min,maxRange:t.max,min:r,max:o,onChange:this.setRange,isActive:this.props.isActive,facetCategory:this.props.facetCategory,precision:f,readOnly:this.props.readOnly,setDefault:h});return null!==l&&(d=this.getNullCheckBox(l,u,this.props.facetCategory)),a.default.DOM.div({className:"zeg-histogram-container"},a.default.DOM.div({className:"zeg-histogram"},m),g,d)},getBreadcrumb:function(){var e=this.props.facetCategory,t=c.default.getValuesFromCategory(e),n=Array.isArray(t[0]),i=n?t[0][0]:t[0],r=n?t[0][1]:t[1]?t[1]:t[0];return a.default.DOM.div({className:"zeg-breadcrumb zeg-facet-item-desc row"},a.default.DOM.span({className:"col-4 value"},i),a.default.DOM.span({className:"col-4"},l.Config.i18nValue("range-label")),a.default.DOM.span({className:"col-4 value"},r))},getHistogram:function(e,t,n,i,r){var o=e.bins.filter(function(e){return e.elements.length>0&&null!==e.startingGroupingValue}),s=o.map(function(s,l){var u=s.elements,c=u.length/e.maxCount*100,d=100-c,h=100/o.length;h=h>=2?h:2;var p=a.default.addons.classSet,f=p({active:!r&&(null===s.startingGroupingValue&&!i||t<=s.endingValue&&n>=s.startingValue)});return a.default.DOM.g({key:this.props.facetCategory+"bins"+l},a.default.DOM.rect({x:l*h,y:d,width:h-1,height:c,className:f}),a.default.DOM.rect({x:l*h,y:0,width:h-1,height:100,style:{cursor:"pointer",fill:"transparent"},onClick:this.setRange.bind(this,s.startingGroupingValue,s.endingGroupingValue)}))}.bind(this));return a.default.DOM.svg({height:"100%",width:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},s)},getNullCheckBox:function(e,t,n){var i="NULL-input-"+n,r=c.default.isInFilter(n,null);return a.default.DOM.div({style:{width:"100%",marginTop:"15px"}},a.default.DOM.label({className:"zeg-facet-item",key:i},a.default.DOM.input({id:i,type:"checkbox",className:"zeg-facet-item-check",value:"NULL",onChange:this.onChange,checked:r,ref:"NULL.checkbox"},a.default.DOM.span({className:"zeg-facet-item-name",ref:"NULL.checkbox"},"[ Empty ]")),a.default.DOM.div({className:"zeg-facet-item-count"},a.default.DOM.span({ref:"NULL.count"},e.elements.length))))}});r.prototype.reactClass=a.default.createClass({displayName:"reactClass",getInitialState:function(){return{binned:null,min:null,max:null,showBreadcrumb:!1,rangeStart:null,rangeEnd:null,precision:null}},render:function(){return _({name:this.props.name,facetCategory:this.props.facetCategory,facetCategoryDisplay:this.props.facetCategoryDisplay,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters})},componentDidMount:function(){s.Events.addListener("datatypeview.expand",function(){if(this.props.showContent&&this.isMounted()){var e=_({name:this.props.name,facetCategory:this.props.facetCategory,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters,inModal:!0}),t=(new g.default).reactClass({title:this.props.facetCategoryDisplay,component:e,onClose:this.props.filterChanged});a.default.renderComponent(t,document.getElementById("zeg-modal-anchor"))}}.bind(this))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(6),u=n(3),c=n(9),d=i(c),h=n(88),p=i(h),f=n(379),m=i(f),g=n(121),v=i(g),y=n(174),_=i(y),b=a.default.createClass({mixins:[p.default,m.default],displayName:"ui/datatypeview/DateDataTypeView",render:function(){var e=null,t=null,n=d.default.isCategoryInFilter(this.props.facetCategory);return this.props.showContent?e=this.getView():n&&(t=this.getBreadcrumb()),a.default.DOM.div({className:"full-width-height"},a.default.DOM.div({className:"zeg-facet-numeric",style:{display:this.props.showContent?"block":"none"}},e),t)},getView:function(){for(var e=this.getIncludedData(this.props.data),t=this.getMinMax(e),n=this.getBinnedData(e,"Date"),i=d.default.getValuesFromCategory(this.props.facetCategory),r=i?Array.isArray(i[0])?i[0][0]:i[0]?i[0]:t.min:t.min,o=i?Array.isArray(i[0])?i[0][1]:i[1]?i[1]:t.max:t.max,s=d.default.getExcludeNullFromCategory(this.props.facetCategory),u=null,c=0,h=null,p=null===i||null===i[0],f=0;f<n.bins.length;f++)null===n.bins[f].startingGroupingValue&&(u=n.bins[f]),c+=n.bins[f].elements.length;var m=this.getLineChart(n,r,o,t,s,p),g=(new _.default).UI({minRange:t.min,maxRange:t.max,min:r,max:o,onChange:this.setRange,isActive:this.props.isActive,facetCategory:this.props.facetCategory,precision:this.state.precision,parseValue:l.Helpers.parseDateShort,readOnly:!0,setDefault:p});return null!==u&&(h=this.getNullCheckBox(u,c,this.props.facetCategory)),a.default.DOM.div({className:"zeg-histogram-container"},a.default.DOM.div({className:"zeg-histogram"},m),g,h)},getBreadcrumb:function(){var e=this.props.facetCategory,t=d.default.getValuesFromCategory(e),n=Array.isArray(t[0]),i=n?t[0][0]:t[0],r=n?t[0][1]:t[1]?t[1]:t[0];return a.default.DOM.div({className:"zeg-breadcrumb zeg-facet-item-desc row"},a.default.DOM.span({className:"col-4 value"},l.Helpers.parseDate(i)),a.default.DOM.span({className:"col-4"},u.Config.i18nValue("range-label")),a.default.DOM.span({className:"col-4 value"},l.Helpers.parseDate(r)))},getLineChart:function(e,t,n,i,r,o){var s=e.bins.filter(function(e){return e.elements.length>0&&null!==e.startingGroupingValue});s=s.map(function(r,a){var l=r.elements,u=l.length/e.maxCount*90,c=95-u,d=100/s.length,h=!o&&r.startingGroupingValue<=n&&r.endingGroupingValue>=t;return r.startingGroupingValue<i.min&&null!==r.startingGroupingValue&&(r.startingGroupingValue=i.min,r.startingValue=i.min),r.endingGroupingValue>i.max&&null!==r.endingGroupingValue&&(r.endingGroupingValue=i.max,r.endingValue=i.max),{x:a*d+d/2,y:c,width:d,active:h,bin:l,startingValue:r.startingGroupingValue,endingValue:r.endingGroupingValue}});var l=s.filter(function(e){if(e.active)return e}),c=a.default.DOM.g(null,a.default.DOM.polyline({style:{fill:"none",stroke:"#616161",strokeWidth:"1px"},points:s.map(function(e){return e.x+","+e.y}).join(" ")}),a.default.DOM.polyline({style:{fill:"none",stroke:u.Config.properties().colors.primary,strokeWidth:"1px"},points:l.map(function(e){return e.x+","+e.y}).join(" ")}),a.default.DOM.g(null,s.map(function(e,t){return a.default.DOM.ellipse({key:"deselected-"+t,cx:e.x,cy:e.y,rx:2,ry:3.8,stroke:"#616161",style:{cursor:"pointer"},fill:"#616161",onClick:this.setRange.bind(this,e.startingValue,e.endingValue)})}.bind(this)),l.map(function(e,t){return a.default.DOM.ellipse({key:"active-"+t,cx:e.x,cy:e.y,rx:2,ry:3.8,stroke:u.Config.properties().colors.primary,style:{cursor:"pointer"},fill:u.Config.properties().colors.primary,onClick:this.setRange.bind(this,e.startingValue,e.endingValue)})}.bind(this))));return a.default.DOM.svg({height:"100%",width:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},c)},getNullCheckBox:function(e,t,n){var i="NULL-input-"+n,r=d.default.isInFilter(n,null);return a.default.DOM.div({style:{width:"100%",marginTop:"15px"}},a.default.DOM.label({className:"zeg-facet-item",key:i},a.default.DOM.input({id:i,type:"checkbox",className:"zeg-facet-item-check",value:"NULL",onChange:this.onChange,checked:r,ref:"NULL.checkbox"},a.default.DOM.span({className:"zeg-facet-item-name",ref:"NULL.checkbox"},"[ Empty ]")),a.default.DOM.div({className:"zeg-facet-item-count"},a.default.DOM.span({ref:"NULL.count"},e.elements.length))))}});r.prototype.reactClass=a.default.createClass({displayName:"reactClass",getInitialState:function(){return{binned:null,min:null,max:null,showBreadcrumb:!1,rangeStart:null,rangeEnd:null,precision:null}},render:function(){return b({name:this.props.name,facetCategory:this.props.facetCategory,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters})},componentDidMount:function(){s.Events.addListener("datatypeview.expand",function(){if(this.props.showContent&&this.isMounted()){var e=b({name:this.props.name,facetCategory:this.props.facetCategory,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters,inModal:!0}),t=(new v.default).reactClass({title:this.props.facetCategory,component:e,onClose:this.props.filterChanged});a.default.renderComponent(t,document.getElementById("zeg-modal-anchor"))}}.bind(this))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return C.default.getFacetTypesCount(e)}function o(e,t){return t.length>0?C.default.addToFilter(e,t,"scatter"):C.default.removeCategoryFromFilter(e)}function a(e){var t=1,n="normal 1em sans-serif",i="normal 1em sans-serif",r={top:15,right:5,bottom:15,left:5},o=2,a=7.5;return e&&(t=5,n="normal 1em sans-serif",i="normal 1em sans-serif",r={top:10,right:10,bottom:35,left:50},o=4,a=15),{pointRadius:t,categoryFont:n,labelFont:i,scatterMargin:r,lasooWidth:o,lasooResolution:a}}function s(e){var t={min:1/0,max:0};return e.lut.forEach(function(e){isNaN(e)||(t.min=Math.min(t.min,e),t.max=Math.max(t.max,e))}),t}function l(e,t){return e*t}function u(e){var t,n,i,r,o=M.Helpers.getTouch(e),a=/^(touch)/;return M.Helpers.isTouchSupported&&a.test(e.type)?t=e.touches[0].target.getBoundingClientRect():(n=e.target||e.srcElement,t=n.getBoundingClientRect()),i=o.pos.x-t.left,r=o.pos.y-t.top,{x:i,y:r}}function c(e){var t=new Date;return t.setTime(e),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}function d(e,t){for(var n=!1,i=-1,r=e.length,o=r-1;++i<r;o=i)(e[i].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[i].y)&&t.x<(e[o].x-e[i].x)*(t.y-e[i].y)/(e[o].y-e[i].y)+e[i].x&&(n=!n);return n}function h(e,t){var n=0,i=0;return n=t.x-e.x,n*=n,i=t.y-e.y,i*=i,Math.sqrt(n+i)}function p(e,t,n,i){e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI,!1),e.lineWidth=1,e.strokeStyle=n,e.stroke()}function f(e,t,n){e.strokeStyle=x.Config.properties().colors.primary,e.lineWidth=1,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke()}function m(e,t,n,i){e.strokeStyle=i,e.lineWidth=2,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke()}function g(e,t,n,i){e.font=i.font,e.textBaseline=i.baseline,e.textAlign=i.align,e.fillStyle=x.Config.properties().colors.primary,e.fillText(t,n.x,n.y)}function v(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}function y(){}Object.defineProperty(t,"__esModule",{value:!0});var _=n(4),b=i(_),w=n(2),M=n(6),x=n(3),S=n(43),E=n(113),T=n(9),C=i(T),L=n(88),D=i(L),A=n(380),P=i(A),k=n(121),O=i(k),I=n(174),R=(i(I),x.Config.properties().colors.primary),N=x.Config.properties().colors.scatterSelect,B=null,j=b.default.createClass({mixins:[D.default],displayName:"ui/datatypeviews/ScatterPlotDataTypeView/Scatter",points:[],basePoints:{},resultPoints:[],started:!1,nullBin:null,totalCount:0,zoomFactor:1,zoomX:0,zoomY:0,getInitialState:function(){return{selectedSeries:null,selectedSubSeries:null,selectedSmallMultiple:null,seriesLabelsWidth:180,seriesGroups:null,smallMultipleGroup:null}},render:function(){var e=[],t=null,n=null,i=null,r=null,o=null,a=null,s=C.default.isCategoryInFilter(this.props.facetCategory),l=C.default.getOriginFacet(this.props.facetCategory).type,u=null,c=null,d=this.props.inModal&&null!==this.state.smallMultipleGroup&&Object.keys(this.state.smallMultipleGroup).length>1?"scatter-plot-multiple":"scatter-plot";if(null===this.nullBin){u=this.getBinnedData(this.props.data,l);for(var h=0;h<u.bins.length;h++)this.totalCount+=u.bins[h].elements.length,null===u.bins[h].startingGroupingValue&&(this.nullBin=u.bins[h])}if(this.props.showContent)if(null===this.state.smallMultipleGroup||1===Object.keys(this.state.smallMultipleGroup).length)e.push(this.getView(d,"")),null!==this.nullBin&&(c=this.getNullCheckBox(this.nullBin,this.totalCount,this.props.facetCategory));else for(var p in this.state.smallMultipleGroup)e.push(this.getView(d,p));else s&&(n=this.getBreadcrumb());return this.props.inModal&&(t=this.getXAxisLabel(this.props.facetCategoryDisplay),i=this.getAxisDropDownList(),r=this.getSeriesDropDownList(),o=this.getSmallMultiplesDropDownList(),null!=this.state.selectedSeries&&"null"!==this.state.selectedSeries&&(a=this.getSeriesLegend())),b.default.DOM.div({className:"full-width-height zeg-scatter-wrapper"},b.default.DOM.div(null,i,o,r),a,b.default.DOM.div({className:"zeg-facet-numeric",style:{display:this.props.showContent?"block":"none",paddingRight:null!==a?"175px":"0px"}},e),t,c,n)},componentDidMount:function(){if(R=this.props.inModal?"#"+S.Colors.getColorByIndex(0).substring(2):x.Config.properties().colors.primary,N=x.Config.properties().colors.scatterSelect,this.options=a(this.props.inModal),this.props.showContent){var e=this.props.facetCategory;if(null===this.state.smallMultipleGroup||1===Object.keys(this.state.smallMultipleGroup).length)this.renderScatterPlot(e,"");else for(var t in this.state.smallMultipleGroup)this.renderScatterPlot(e,t)}},componentDidUpdate:function(){if(this.props.showContent){var e=this.props.facetCategory;if(null===this.state.smallMultipleGroup||1===Object.keys(this.state.smallMultipleGroup).length)this.renderScatterPlot(e,"");else for(var t in this.state.smallMultipleGroup)this.renderScatterPlot(e,t)}},componentWillUnmount:function(){w.Events.removeListener("filter.view.scatter.update",this.handleScatterChange),this.props.inModal&&w.Events.emitEvent("scatter.unmount."+this.props.facetCategory,[this.props.scatterYColumn])},getView:function(e,t){var n=this.props.facetCategory;return b.default.DOM.div({id:"zeg-scatter-"+n+"-"+t,className:e,ref:n+"-"+t,key:n+"-"+t},b.default.DOM.canvas({ref:n+"-"+t+"base-layer",className:"zeg-scatter-base-layer"}),b.default.DOM.canvas({ref:n+"-"+t+"result-layer",className:"zeg-scatter-result-layer"}),b.default.DOM.canvas({ref:n+"-"+t+"draw-layer",className:"zeg-scatter-draw-layer"}))},getBreadcrumb:function(){return b.default.DOM.div({className:"zeg-breadcrumb zeg-facet-item-desc row"},b.default.DOM.span(null,b.default.DOM.object({data:"/img/icon/scatter.svg",type:"image/svg+xml",height:"16px",width:"16px"})," scatter area selected"))},getNullCheckBox:function(e,t,n){var i="NULL-input-"+n,r=C.default.isInFilter(n,null);return b.default.DOM.div({className:"zeg-scatter-null-checkbox"},b.default.DOM.label({className:"zeg-facet-item",key:i},b.default.DOM.input({id:i,type:"checkbox",className:"zeg-facet-item-check",value:"NULL",onChange:this.onCheckboxChange,checked:r,ref:"NULL.checkbox"},b.default.DOM.span({className:"zeg-facet-item-name",ref:"NULL.checkbox"},"[ Empty ]")),b.default.DOM.div({className:"zeg-facet-item-count"},b.default.DOM.span({ref:"NULL.count"},e.elements.length))))},getXAxisLabel:function(e){return b.default.DOM.div({className:"zeg-scatter-toolbar-item",id:"zeg-scatter-xaxis"},b.default.DOM.div({className:"zeg-scatter-toolbar-item-label"},b.default.DOM.i({className:"fa fa-long-arrow-left",height:"100%",width:"100%"},null),b.default.DOM.span({},x.Config.i18nValue("x-axis"))),b.default.DOM.span({id:"zeg-scatter-xaxis-label"},e))},getAxisDropDownList:function(){return b.default.DOM.div({className:"zeg-scatter-toolbar-item"},b.default.DOM.div({className:"zeg-scatter-toolbar-item-label"},b.default.DOM.i({className:"fa fa-long-arrow-down",height:"100%",width:"100%"},null),b.default.DOM.span({},x.Config.i18nValue("y-axis"))),b.default.DOM.select({defaultValue:this.props.scatterYColumn,onChange:this.handleSelectOnChange,className:"zeg-scatter-select"},B.map(function(e,t){return b.default.DOM.option({key:"scatterselect-"+t,value:e.value},e.name)})))},getSeriesDropDownList:function(){var e=C.default.getFacetTypes().map(function(e,t){return b.default.DOM.option({key:"scatterselect-"+t,value:e.name},e.displayName)});return e.splice(0,0,b.default.DOM.option({key:"scatterselect-none",value:"null"},x.Config.i18nValue("select-list-none"))),b.default.DOM.div({className:"zeg-scatter-toolbar-item",id:"zeg-scatter-series-wrapper"},b.default.DOM.div({className:"zeg-scatter-toolbar-item-label"},b.default.DOM.i({className:"fa fa-line-chart",height:"100%",width:"100%"},null),b.default.DOM.span({},x.Config.i18nValue("series"))),b.default.DOM.select({onChange:this.handleSeriesOnChange,className:"zeg-scatter-select"},e))},getSmallMultiplesDropDownList:function(){var e=C.default.getFacetTypes().map(function(e,t){return b.default.DOM.option({key:"scatterselect-"+t,value:e.name},e.displayName)});return e.splice(0,0,b.default.DOM.option({key:"scatterselect-none",value:"null"},x.Config.i18nValue("select-list-none"))),b.default.DOM.div({className:"zeg-scatter-toolbar-item",id:"zeg-scatter-series-wrapper"},b.default.DOM.div({className:"zeg-scatter-toolbar-item-label"},b.default.DOM.i({className:"fa fa-th",height:"100%",width:"100%"},null),b.default.DOM.span({},x.Config.i18nValue("trellis"))),b.default.DOM.select({onChange:this.handleSmallMultiplesOnChange,className:"zeg-scatter-select"},e))},getSeriesLegend:function(){var e,t=[];for(var n in this.state.seriesGroups)if(this.state.seriesGroups.hasOwnProperty(n)){var i=this.state.seriesGroups[n],r=this.state.selectedSubSeries===n;e=i.startingValue,e!==i.endingValue&&(e+=" to "+i.endingValue),t.push(b.default.DOM.li({key:"zeg-scatter-legend-"+n,className:r?"zeg-scatter-series-legend-listitem-selected":"",onClick:this.handleSeriesItemSelect.bind(this,n)},b.default.DOM.div({className:"zeg-scatter-series-legend-listitem-color",style:{backgroundColor:"#"+S.Colors.getColorByIndex(n).substring(2)}}),b.default.DOM.span({},e)))}return b.default.DOM.div({id:"zeg-scatter-series-legend"},b.default.DOM.span({id:"zeg-scatter-series-legend-label"},x.Config.i18nValue("group-legend-label")),b.default.DOM.div({id:"zeg-scatter-series-legend-list"},b.default.DOM.ul({id:"zeg-scatter-series-legend-list"},t)))},renderScatterPlot:function(e,t){var n,i,o,a,l,u,c=this.refs[e+"-"+t].getDOMNode(),d=this.refs[e+"-"+t+"base-layer"].getDOMNode(),h=this.refs[e+"-"+t+"draw-layer"].getDOMNode(),p=this.refs[e+"-"+t+"result-layer"].getDOMNode(),f=d.getContext("2d"),m=r([this.props.facetCategory,this.props.scatterYColumn]),g=[],v=s(m[0]),y=s(m[1]),_=v.max-v.min,b=y.max-y.min,w=this.options.scatterMargin,E=e+"-"+t;if(R=this.props.inModal?"#"+S.Colors.getColorByIndex(0).substring(2):x.Config.properties().colors.primary,this.started=!1,this.points=[],this.basePoints[E]=[],this.resultPoints=[],d.height=h.height=p.height=c.clientHeight,d.width=h.width=p.width=c.clientWidth,n={width:d.width-(w.left+w.right)-0,height:d.height-(w.top+w.bottom)},t&&(i=this.state.smallMultipleGroup[t].startingValue,o=this.state.smallMultipleGroup[t].endingValue,a=i!==o?i+" to "+o:i),this.zoomFactor>1){var T=0,C=0,L=0,D=0;T=v.min+(1-(n.width*this.zoomFactor-this.zoomX)/(n.width*this.zoomFactor))*(v.max-v.min),C=T+(v.max-v.min)/this.zoomFactor,L=y.min+(1-(n.height*this.zoomFactor-this.zoomY)/(n.height*this.zoomFactor))*(y.max-y.min),D=L+(y.max-y.min)/this.zoomFactor,this.drawXAxis(f,d,n,Math.round(T,-2),Math.round(C,-2),this.props.inModal?t?a:"":this.props.facetCategoryDisplay),this.drawYAxis(f,d,n,Math.round(L,-2),Math.round(D,-2))}else this.drawXAxis(f,d,n,v.min,v.max,this.props.inModal?t?a:"":this.props.facetCategoryDisplay),this.drawYAxis(f,d,n,y.min,y.max);for(var A=null!==this.state.smallMultipleGroup&&void 0!==this.state.smallMultipleGroup[t]?this.state.smallMultipleGroup[t].elements:null,P=0;P<m[0].length;P++){var k=m[2].lut[m[2][P]];null!==A&&-1===A.indexOf(k)||(l=m[0].lut[m[0][P]],u=m[1].lut[m[1][P]],null!==l&&g.push({x:l,y:u,id:k}))}this.basePoints[E]=this.drawBasePoints(d,g,n,_,b,v.min,y.min),this.drawResultPoints(p),h.addEventListener(M.Helpers.startEvent,this.handleMouseDown,!1)},drawXAxis:function(e,t,n,i,r,o){var a=this.options.scatterMargin,s={x:0+a.left,y:t.height-a.bottom},l={x:n.width+a.left,y:t.height-a.bottom},u={x:t.width/2,y:t.height},d={font:this.options.categoryFont,baseline:"bottom",align:"center"};if(f(e,s,l),g(e,o,u,d),this.props.inModal){var h=C.default.getOriginFacet(this.props.facetCategory).type,p="Date"===h,m=p?c(i):i,v=p?c(r):r,y={x:s.x,y:t.height-.5*a.bottom},_={font:this.options.labelFont,baseline:"bottom",align:"left"},b={x:n.width+a.left,y:t.height-.5*a.bottom},w={font:this.options.labelFont,baseline:"bottom",align:"right"};g(e,m,y,_),g(e,v,b,w)}},drawYAxis:function(e,t,n,i,r){var o=this.options.scatterMargin,a={x:0+o.left,y:t.height-o.bottom},s={x:0+o.left,y:o.top},l={x:0,y:0},u={font:this.options.categoryFont,baseline:"top",align:"left"};if(f(e,a,s),this.props.inModal||g(e,this.props.scatterYColumnDisplay,l,u),this.props.inModal){var d=C.default.getOriginFacet(this.props.scatterYColumn).type,h="Date"===d,p=h?c(i):i,m=h?c(r):r,v={x:a.x-5,y:a.y},y={font:this.options.labelFont,baseline:"bottom",align:"right"},_={x:a.x-5,y:o.top},b={font:this.options.labelFont,baseline:"top",align:"right"};g(e,p,v,y),g(e,m,_,b)}},drawBasePoints:function(e,t,n,i,r,o,a){var s,u,c,d,h,f,m,g=this.options.scatterMargin,v=this.options.pointRadius,y=this.zoomFactor,_=this.zoomX,b=this.zoomY,w=e.getContext("2d"),M=C.default.getScatterPlotValues(this.props.facetCategory),x=[];for(f=0;f<t.length;f++){if(s=t[f].x,u=t[f].y,c=t[f].id,d=l((s-o)/i,n.width)+g.left,h=l((u-a)/r,n.height),h=n.height-h+g.top,m={x:d*y-_,y:h*y-b,id:c},(m.x<g.left||m.y>n.height+g.top)&&(m.x=-10,m.y=-10),null==this.state.seriesGroups)p(w,m,R,v);else for(var E in this.state.seriesGroups)if(this.state.seriesGroups.hasOwnProperty(E)&&this.state.seriesGroups[E].elements.indexOf(c)>=0&&(null===this.state.selectedSubSeries||this.state.selectedSubSeries===E)){p(w,m,"#"+S.Colors.getColorByIndex(E).substring(2),v);break}x.push(m),M&&M.indexOf(c)>-1&&this.resultPoints.push(m)}return x},drawFitLines:function(e,t,n,i,r){if(null!==this.state.seriesGroups){var o=e.getContext("2d"),a=this.options.scatterMargin;for(var s in this.state.seriesGroups)if(this.state.seriesGroups.hasOwnProperty(s)&&(null===this.state.selectedSubSeries||this.state.selectedSubSeries===s)){for(var u=[],c=this.state.seriesGroups[s],d=0;d<t.length;d++)c.ids.indexOf(t[d].id)>=0&&u.push({x:t[d].x,y:t[d].y});var h=E.Stats.linearRegression(u),p={x:0!==h.m?(r.min-h.b)/h.m:i.min,y:0!==h.m?r.min:h.b},f={x:0!==h.m?(r.max-h.b)/h.m:i.max,y:0!==h.m?r.max:h.b};p.x=l((p.x-i.min)/(i.max-i.min),n.width)+a.left,p.y=l((p.y-r.min)/(r.max-r.min),n.height),f.x=l((f.x-i.min)/(i.max-i.min),n.width)+a.left,f.y=l((f.y-r.min)/(r.max-r.min),n.height),p.y=n.height-p.y+a.top,f.y=n.height-f.y+a.top,m(o,p,f,"#"+c.color.substring(2))}}},drawResultPoints:function(e){var t,n,i,r,o=this.resultPoints,a=this.options.pointRadius,s=e.getContext("2d");for(i=0;i<o.length;i++)t=o[i].x,n=o[i].y,r={x:t,y:n},p(s,r,N,a)},pointsInPoly:function(e,t,n){var i,r,a=[];for(r=0;r<this.basePoints[n].length;r++)i=this.basePoints[n][r],d(t,i)&&(this.resultPoints.push({x:i.x,y:i.y,id:i.id}),a.push(i.id));this.drawResultPoints(e),o(this.props.facetCategory,a)&&!this.props.inModal&&this.props.filterChanged()},handleSelectOnChange:function(e){w.Events.emitEvent("filter.view.scatter.update",[e.target.value])},handleSeriesOnChange:function(e){var t={},n=!1;if("null"!==e.target.value){for(var i=r([e.target.value]),o=0;o<i[0].length;o++){var a=i[0].lut[i[0][o]],s=i[2].lut[i[2][o]];void 0===t[a]?t[a]={ids:[s],color:S.Colors.getColorByIndex(Object.keys(t).length),count:1}:(t[a].ids.push(s),t[a].count++)}var l=C.default.getOriginFacet(e.target.value).type;"Number"!==l&&"Date"!==l||(n=!0);var u=[];for(var c in t)u.push({count:t[c].count,color:t[c].color,value:n?isNaN(parseFloat(c))?c:parseFloat(c):c,elements:t[c].ids});var d=this.getBinnedData(u,l);n||(d.bins=d.bins.sort(function(e,t){return e.startingValue<t.startingValue?-1:e.startingValue>t.startingValue?1:0})),this.setState({selectedSeries:e.target.value,selectedSubSeries:null,seriesGroups:d.bins})}else this.setState({selectedSeries:null,selectedSubSeries:null,seriesGroups:null})},handleSmallMultiplesOnChange:function(e){var t={};if("null"!==e.target.value){for(var n=r([e.target.value]),i=(C.default.getFacetTypeCount(e.target.value),0);i<n[0].length;i++){var o=n[0].lut[n[0][i]],a=n[2].lut[n[2][i]];void 0===t[o]?t[o]={ids:[a],color:S.Colors.getColorByIndex(Object.keys(t).length),count:1,value:o}:(t[o].ids.push(a),t[o].count++)}var s=C.default.getOriginFacet(e.target.value).type,l=[];for(var u in t)l.push({count:t[u].count,value:t[u].value,elements:t[u].ids});var c=this.getBinnedData(l,s);this.setState({selectedSmallMultiple:e.target.value,smallMultipleGroup:c.bins})}else this.setState({selectedSmallMultiple:null,smallMultipleGroup:null})},getBinnedData:function(e,t){var n,i,r=[];for(n=0,i=e.length;n<i;n++){var o=e[n];"Number"===t?"Infinity"!==o.value?r.push(o.value):r.push(null):r.push(n)}r=r.sort(function(e,t){return e-t});var a=M.Helpers.getBinWidth(r,!0);return M.Helpers.getBins(e,t,a,"elements")},handleSeriesItemSelect:function(e){var t=this.state.selectedSubSeries===e?null:e;this.setState({selectedSubSeries:t})},onCheckboxChange:function(e){var t=e.target.checked,n=!1,i=e.target.value,r=this.props.facetCategory,o=C.default.getValuesFromCategory(r),a=C.default.getFilterCategoryType(r);"NULL"===i&&(i=null),t?(C.default.removeCategoryFromFilter(r),n="range"===a?C.default.addToFilter(r,o[0],"range",!1):C.default.addToFilter(r,i,"equal")):(n=C.default.removeCategoryFromFilter(r),"range"===a&&(n=C.default.addToFilter(r,o[0],"range",!0))),n&&!this.props.inModal?this.props.filterChanged():this.forceUpdate()},handleMouseDown:function(e){var t=e.target,n=null,i=u(e),r=i.x,o=i.y,a=t.getContext("2d"),s=M.Helpers.getTouch(e);e.stopPropagation(),e.preventDefault(),n=t.parentElement.getElementsByClassName("zeg-scatter-result-layer")[0],this.started||(v(t),v(n),this.points=[],this.resultPoints=[],a.beginPath(),a.moveTo(r,o),this.points.push({x:r,y:o}),t.addEventListener(s.endEvent,this.handleMouseUp,!1),t.addEventListener(s.moveEvent,this.handleMouseMove,!1),this.started=!0)},handleMouseWheel:function(e){var t={maxZoom:4,zoomSensitivity:400,zoomMaxSpeed:25},n=e.deltaY,i=0,r=0;n/=t.zoomSensitivity,n=n>t.zoomMaxSpeed?t.zoomMaxSpeed:n,n=n<-t.zoomMaxSpeed?-t.zoomMaxSpeed:n,i=e.layerX,r=e.layerY,this.zoomFactor==t.maxZoom&&n>0||(this.zoomFactor+=n,this.zoomFactor=this.zoomFactor<1?1:this.zoomFactor,this.zoomFactor=this.zoomFactor>t.maxZoom?t.maxZoom:this.zoomFactor,this.zoomX+=i*n,this.zoomY+=r*n,1==this.zoomFactor&&(this.zoomX=0,this.zoomY=0)),this.props.filterChanged()},handleMouseUp:function(e){var t=e.target,n=null,i=this.points[0],r=i.x,o=i.y,a="",s=t.getContext("2d"),l=M.Helpers.getTouch(e);s.lineTo(r,o),s.stroke(),this.points.push({x:r,y:o}),t.removeEventListener(l.moveEvent,this.handleMouseMove,!1);var u=t.parentElement;n=u.getElementsByClassName("zeg-scatter-result-layer")[0],a=u.id.replace("zeg-scatter-",""),this.pointsInPoly(n,this.points,a),this.started=!1,v(t)},handleMouseMove:function(e){var t=e.target,n=u(e),i=n.x,r=n.y,o=this.options.lasooWidth,a=this.options.lasooResolution,s=this.points,l=t.getContext("2d");h({x:i,y:r},s[s.length-1])>=a&&(l.strokeStyle=N,l.lineWidth=o,l.lineTo(i,r),l.stroke(),s.push({x:i,y:r}))}});y.prototype.reactClass=b.default.createClass({mixins:[P.default],displayName:"ui/datatypeviews/ScatterPlotDataTypeView",getInitialState:function(){return B=this.getNumericFacets(),{binned:null,min:null,max:null,showBreadcrumb:!1,rangeStart:null,rangeEnd:null,precision:null,scatterYColumn:B.length>0?B[0].value:"",scatterYColumnDisplay:B.length>0?B[0].name:"",expanded:!1}},render:function(){return j({name:this.props.name,facetCategory:this.props.facetCategory,facetCategoryDisplay:this.props.facetCategoryDisplay,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters,scatterYColumn:this.state.scatterYColumn,scatterYColumnDisplay:this.state.scatterYColumnDisplay})},componentDidMount:function(){w.Events.addListener("datatypeview.expand",function(){this.setState({expanded:!0})}.bind(this)),w.Events.addListener("filter.view.scatter.update",this.handleScatterChange)},componentDidUpdate:function(){if(this.props.showContent&&this.isMounted()&&this.state.expanded){var e=j({name:this.props.name,facetCategory:this.props.facetCategory,facetCategoryDisplay:this.props.facetCategoryDisplay,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters,inModal:!0,scatterYColumn:this.state.scatterYColumn,scatterYColumnDisplay:this.state.scatterYColumnDisplay}),t=(new O.default).reactClass({title:x.Config.i18nValue(this.props.name.toLowerCase()),component:e,onClose:this.handleModalClose});b.default.renderComponent(t,document.getElementById("zeg-modal-anchor"))}},handleScatterChange:function(e){if(void 0!==e&&this.isMounted()){for(var t=null,n=0;n<B.length;n++)if(B[n].value===e){t=B[n];break}null!==t&&this.setState({scatterYColumn:t.value,scatterYColumnDisplay:t.name})}},handleModalClose:function(){this.setState({expanded:!1})}}),t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/InfoAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-info-circle zeg-button",height:"100%",width:"100%"})}},componentWillMount:function(){var e=!1;this.props.name===this.props.selectedView&&(e=!0),this.setState({selected:e})},render:function(){return null!==this.props.description&&0!==this.props.description.length?this.getUI():null},onClick:function(){this.setState({selected:!this.state.selected})},getChildItem:function(){return this.state.selected?a.default.DOM.div({className:"zeg-datatype-action-info"},a.default.DOM.div({className:"zeg-metadata-details-item-title"},this.props.facetCategoryDisplay),a.default.DOM.span({},this.props.description)):null}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(2);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/ListAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-list zeg-button",height:"100%",width:"100%"})}},componentWillMount:function(){var e=!1;this.props.name===this.props.selectedView&&(e=!0),this.setState({selected:e})},render:function(){return this.getUI()},onClick:function(){this.setState({selected:!0}),u.Events.emitEvent("filter.view.change",[this.props.name])}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(2);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/SortAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-sort-amount-asc zeg-button",height:"100%",width:"100%"})}},render:function(){return this.getUI()},onClick:function(){u.Events.emitEvent("datatypeview.sort",[])}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(2),c=function e(){r(this,e),this.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/RangeAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-bar-chart zeg-button",height:"100%",width:"100%"})}},componentWillMount:function(){var e=!1;this.props.name===this.props.selectedView&&(e=!0),this.setState({selected:e})},render:function(){return this.getUI()},onClick:function(){this.setState({selected:!0}),u.Events.emitEvent("filter.view.change",[this.props.name])}})};t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(2);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/DateAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-line-chart zeg-button",height:"100%",width:"100%"})}},componentWillMount:function(){var e=!1;this.props.name===this.props.selectedView&&(e=!0),this.setState({selected:e})},render:function(){return this.getUI()},onClick:function(){this.setState({selected:!0}),u.Events.emitEvent("filter.view.change",[this.props.name])}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(380),c=i(u),d=n(2),h=n(3),p=function e(){r(this,e),this.reactClass=a.default.createClass({mixins:[l.default,c.default],displayName:"ui/datatypeviews/ScatterPlotAction",getInitialState:function(){return{icon:a.default.DOM.object({data:h.Config.properties().baseImagePath+"/icon/scatter.svg",type:"image/svg+xml",height:"100%",width:"100%"}),iconAlt:a.default.DOM.object({data:h.Config.properties().baseImagePath+"/icon/scatter-alt.svg",type:"image/svg+xml",height:"100%",width:"100%"}),yAxisFacet:null,numericFacetTypes:[]}},componentWillMount:function(){var e=!1;this.props.name===this.props.selectedView&&(e=!0),this.setState({selected:e})},render:function(){return this.props.numericTypeCount>=1?this.getUI():null},componentDidMount:function(){var e=this.getNumericFacets();this.setState({numericFacetTypes:e}),d.Events.addListener("filter.view.scatter.update",this.handleSelectUpdate)},onClick:function(){this.setState({selected:!0}),d.Events.emitEvent("filter.view.change",[this.props.name])},getChildItem:function(){return this.state.selected?a.default.DOM.div({className:"zeg-datatype-action-scatterselect styled-select"},a.default.DOM.select({value:this.state.yAxisFacet,onChange:this.handleSelectOnChange},this.state.numericFacetTypes.map(function(e,t){return a.default.DOM.option({key:"scatterselect-"+t,value:e.value},e.name)}))):null},handleSelectOnChange:function(e){d.Events.emitEvent("filter.view.scatter.update",[e.target.value])},handleSelectUpdate:function(e){void 0!==e&&this.isMounted()&&this.setState({yAxisFacet:e})}})};t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(57),l=i(s),u=n(2);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/datatypeactions/ExpandAction",getInitialState:function(){return{icon:a.default.DOM.i({className:"fa fa-expand zeg-button",height:"100%",width:"100%"})}},render:function(){return this.getUI()},onClick:function(){u.Events.emitEvent("datatypeview.expand",[])}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.UIManager=void 0;var o,a=n(9),s=i(a),l=n(2),u=n(6),c=(n(3),n(4)),d=i(c),h=n(725),p=i(h),f=!0;l.Events.on("UI.FullScreen",function(){u.Helpers.isFullscreen()?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),o.setState&&o.setState({fullscreen:!1})):(o.baseElement.requestFullscreen?o.baseElement.requestFullscreen():o.baseElement.msRequestFullscreen?o.baseElement.msRequestFullscreen():o.baseElement.mozRequestFullScreen?o.baseElement.mozRequestFullScreen():o.baseElement.webkitRequestFullscreen&&o.baseElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),o.setState&&o.setState({fullscreen:!0}))});var m=function(e){if(void 0===o.baseElement)throw new Error("Zegami base element is not defined.");d.default.renderComponent((new e).UI(null),o.baseElement)},g=function(e){var t,n,i,r,o,a;for(i=document.getElementById("zeg-header"),a=document.getElementById(e),t=a.children,n=0,o=t.length,r=0;r<o;r+=1)n+=t[r].offsetHeight;i.offsetHeight+parseInt(window.getComputedStyle(a).marginTop)+n>=window.innerHeight-10?u.Helpers.addClass(a,"zeg-maxheight"):u.Helpers.removeClass(a,"zeg-maxheight")},v=function(){var e,t,n;for(n=["zeg-filterpanel","zeg-metadatapanel","zeg-legend","zeg-grouppanel"],t=n.length,e=0;e<t;e+=1)g(n[e])};r.prototype.init=function(e){o=this,o.baseElement=e,m(this._wrapper),l.Events.on("datastore.loaded",function(){var e=s.default.getFacetTypes(null);l.Events.emit("filter.init",e),f&&l.Events.emit("ui.ready"),f=!1}),window.addEventListener("resize",u.Helpers.debounce(function(){l.Events.emit("ui.resize"),v()},200)),l.Events.on("rightpanel.show",g),l.Events.on("leftpanel.show",g),l.Events.on("filter.item.contentupdated",function(){g("zeg-filterpanel")})};var y=new r;y._wrapper=p.default,t.UIManager=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(9),l=i(s),u=n(381),c=i(u),d=n(740),h=i(d),p=n(760),f=i(p),m=n(761),g=i(m),v=n(2),y=n(111);r.prototype.UI=a.default.createClass({displayName:"ui/Wrapper",mixins:[y.GlobalKeyMaster],getKeyboardShortcuts:function(){return{left:this.onKeyLeft,right:this.onKeyRight,f:this.onKeyF,1:this.onKeyNumeric,2:this.onKeyNumeric,3:this.onKeyNumeric,4:this.onKeyNumeric,5:this.onKeyNumeric,6:this.onKeyNumeric,7:this.onKeyNumeric,8:this.onKeyNumeric,9:this.onKeyNumeric,0:this.onKeyNumeric,escape:this.onKeyEscape,e:this.onKeyE,s:this.onKeyS,t:this.onKeyT,a:this.onKeyA}},onKeyLeft:function(){v.Events.emitEvent("ui.select.sprite",[null,"previous"])},onKeyRight:function(){v.Events.emitEvent("ui.select.sprite",[null,"next"])},onKeyF:function(){v.Events.emitEvent("filter.toggle")},onKeyNumeric:function(e,t){var n=+t-1;v.Events.emitEvent("view.selected",[n,!0])},onKeyA:function(){v.Events.emitEvent("names.toggle.active")},onKeyE:function(){l.default.exportFilter()},onKeyS:function(){v.Events.emitEvent("snapshots.toggle")},onKeyT:function(){v.Events.emitEvent("grouptag.toggle")},onKeyEscape:function(){v.Events.emitEvent("view.picture.deselected")},render:function(){return this.header=(new c.default).UI(null),this.mainPanel=(new h.default).UI(null),this.AttributionPanel=(new f.default).UI(null),a.default.DOM.div({id:"zeg-wrapper"},this.mainPanel,this.AttributionPanel,(0,g.default)(),a.default.DOM.div({id:"zeg-modal-anchor"}))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(3),u=n(9),c=i(u);r.prototype.UI=a.default.createClass({displayName:"ui/toolbars/widgets/ItemCount",getInitialState:function(){return{count:0,total:0}},componentDidMount:function(){this.setState({count:c.default.getTotalCount(null)});var e=this.updateCount;s.Events.addListener("datastore.loaded",function(){e(null)}),s.Events.addListener("filter.change",this.updateCount)},render:function(){var e=this.state.count/this.state.total*100,t=isNaN(e)?0:e,n=t<1&&0!==t?"<1":Math.round(t);return a.default.DOM.span({className:"item-count"},l.Config.i18nValue("itemcount-label",this.state.count,this.state.total,n))},updateCount:function(){this.setState({count:c.default.getFilteredCount(),total:c.default.getTotalCount()})}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r),a=(n(3),n(728)),s=i(a),l=n(2),u=o.default.createClass({displayName:"ui/toolbars/Zoom",getDefaultProps:function(){return{sliderContainer:o.default.DOM.div}},getInitialState:function(){return{scale:0}},componentDidMount:function(){var e=this.getDOMNode(),t=e.firstChild,n=this.state.scale;this.rr=new s.default({anchor:t,range:[0,100],start:[0],onSlide:this.onSlide,connect:"lower"}),this.rr.onStart=function(){l.Events.emitEvent("view.scale.change.start",[n])},this.rr.onEnd=function(){l.Events.emitEvent("view.scale.change.end",[n])},l.Events.addListener("view.scale.updated",this.onScaleChange)},componentDidUpdate:function(){this.rr.lower=this.state.scale},render:function(){return o.default.DOM.div({id:"zeg-toolbar-zoom",className:"primary-background-color zeg-toolbar-item"},this.props.sliderContainer({},null))},componentWillUnmount:function(){l.Events.removeListener("view.scale.updated",this.onScaleChange)},logToSlider:function(e){var t=Math.log(1),n=Math.log(2e3),i=(n-t)/100;return(Math.log(e)-t)/i+0},sliderToLog:function(e){var t=Math.log(1),n=Math.log(2e3),i=(n-t)/100;return Math.exp(t+i*(e-0))},onSlide:function(e){var t=this.sliderToLog(e);l.Events.emitEvent("view.scale.change",[t])},onScaleChange:function(e){var t=this.logToSlider(e);this.setState({scale:t})}});t.default=u},function(e,t,n){"use strict";function i(e,t){var n=e[1]-e[0],i=n*(t/100),r=i+e[0];return Math.round(r)}function r(e,t){return t/(e[1]-e[0])*100}function o(e){var t=e.getBoundingClientRect();return{left:t.left+document.body.scrollLeft,top:t.top+document.body.scrollTop,width:t.width,height:t.height}}function a(e){var t=document.createElement("div");return t.className=d[3],e.appendChild(t)}function s(e,t){var n,i,r=[];for(n=0;n<t.start.length;n++)i=document.createElement("div"),i.className+=d[4],e.appendChild(i),r.push(a(i,t));return r.length>1&&(r[0].parentNode.className+=d[7],r[1].parentNode.className+=d[6]),r}function l(e){var t=document.createElement("div");return t.className=d[1],e.appendChild(t)}function u(e){function t(e,t){var n;return n=e%t,n>=t/2?e-n+t:e-n}function n(){return o(y)}function a(n){var i,r;for(r=0;r<x.length;r++)null!==(i=n[r])&&(void 0!==T&&(i=t(i,w)),x[r].parentNode.style[e.style]=i+"%")}function u(n){var r,o;for(o=0;o<n.length;o++)r=n[o],void 0!==T&&(r=t(r,w)),null!==r&&x[o].setAttribute("data-value",i(e.range,r))}function c(){b=[];for(var t=0;t<e.start.length;t++)b.push(r(e.range,e.start[t]));void 0!==T&&(w=100*T/e.range[1]),a(b),u(b)}function f(t){var i,o,s,l=!1,c=n();o=void 0!==t.touches?t.touches[0].pageX:t.pageX,i=o-c.left+_.offset,i=Math.min(Math.max(0,i/c.width*100),100),s=E.lower,_===x[0]?b[0]=Math.min(i,b.length>1?b[1]:r(e.range,e.range[1])):(b[0]=null,b[1]=Math.max(i,b[0])),a(b),u(b),E.lower!==s&&(l=!0),l&&E.onSlide(parseInt(E.lower),e.range)}function m(t){if(void 0!==t.touches&&(t.button=0),0===t.button){window.removeEventListener(h.move,f),window.removeEventListener(h.moveTouch,f),window.removeEventListener(h.end,m),window.removeEventListener(h.endTouch,m);var n=_.className.replace(d[7],"");_.className=n,_=null,E.onEnd(parseInt(E.lower),e.range)}}function g(t){var n;if(void 0!==t.touches?(n=t.touches[0].pageX,t.button=0):n=t.pageX,0===t.button){void 0!==t.preventDefault&&t.preventDefault();var i,r=o(t.target);for(t.target.offset=r.left+r.width/2-n,i=0;i<x.length;i++)x[i].style.zIndex=p.background;_=t.target,_.className+=" "+d[5],_.style.zIndex=p.foreground,window.addEventListener(h.move,f),window.addEventListener(h.moveTouch,f),window.addEventListener(h.end,m),window.addEventListener(h.endTouch,m),E.onStart(parseInt(E.lower),e.range)}}function v(){for(var e=0;e<x.length;e++)x[e].addEventListener(h.start,g),x[e].addEventListener(h.startTouch,g)}var y,_,b,w,M=e.anchor,x=[],S=null,E=this,T=e.step;E.onStart=function(){},E.onSlide=function(){},E.onEnd=function(){},E.setAnchor=function(t){null!==S&&S.removeChild(y),S=t,y=l(t,e),x=s(y,e),M.className+=d[0],e.hasOwnProperty("connect")&&"lower"===e.connect?(M.className+=" "+d[7],x[0].parentNode.className+=" "+d[6]):M.className+=" "+d[6],v(),c()},E.update=function(t,n,i){void 0!==t&&(e.range=t),void 0!==n&&(e.start=n),void 0!==i&&(T=i),c()},Object.defineProperties(this,{lower:{get:function(){return x[0].getAttribute("data-value")},set:function(t){var n=r(e.range,t);a([n]),u([n])}},upper:{get:function(){return x[1].getAttribute("data-value")},set:function(t){var n=r(e.range,t);a([null,n]),u([null,n])}}}),e.style="left",e.hasOwnProperty("onStart")&&"function"==typeof e.onStart&&(E.onStart=e.onStart),e.hasOwnProperty("onSlide")&&"function"==typeof e.onSlide&&(E.onSlide=e.onSlide),e.hasOwnProperty("onEnd")&&"function"==typeof e.onEnd&&(E.onEnd=e.onEnd),void 0!==e.anchor&&E.setAnchor(e.anchor)}function c(e){return new u(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=["ui-slider-target","ui-slider","ui-slider-range","ui-slider-handle","ui-slider-handle-origin","ui-selected","ui-slider-background","ui-slider-connect"],h={start:"mousedown",move:"mousemove",end:"mouseup",startTouch:"touchstart",moveTouch:"touchmove",endTouch:"touchend"},p={background:1,foreground:2};t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButtonManager=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=n(372),l=i(s),u=n(730),c=i(u),d=n(385),h=i(d),p=n(731),f=(i(p),n(732)),m=i(f),g=n(733),v=i(g),y=n(734),_=i(y),b=n(735),w=i(b),M=n(736),x=i(M),S=n(737),E=i(S),T=n(738),C=i(T),L=function(){function e(){r(this,e);var t=this;t.Buttons={},t.addToolbarButton("snapshot",c.default),t.addToolbarButton("export",h.default),t.addToolbarButton("legend",m.default),t.addToolbarButton("tilemanagersource",v.default),t.addToolbarButton("download",_.default),t.addToolbarButton("fullscreen",w.default),t.addToolbarButton("about",x.default),t.addToolbarButton("help",E.default),t.addToolbarButton("share",C.default)}return o(e,[{key:"addToolbarButton",value:function(e,t){if(!e)throw new Error('Attempted to add a Toolbar button without a specified "type name"');if(this.Buttons[e])throw new Error("A Toolbar button of this type already exists: "+e);var n={};t&&"[object Function]"===n.toString.call(t)||(t=a.Helpers.augmentPlugin(t,l.default)),this.Buttons[e]=t}}]),e}(),D=new L;t.ToolbarButtonManager=D},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(36),l=i(s),u=n(383),c=i(u);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/toolbars/SnapshotButton",getInitialState:function(){return{icon:"fa-camera",label:"Snapshots"}},render:function(){return!!this.props.visible&&new c.default({toggleButton:this.getUI(),id:"zeg-snapshot-menu"})}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(3),s=n(4),l=i(s),u=n(36),c=i(u),d=n(9),h=i(d),p=n(96),f=i(p);r.prototype.reactClass=l.default.createClass({mixins:[c.default],displayName:"ui/toolbars/GroupTagButton",getInitialState:function(){return{icon:"fa-tags",selected:!1}},componentDidMount:function(){o.Events.on("grouptag.toggle",function(){this.setState({selected:!this.state.selected})}.bind(this))},render:function(){return!!this.props.visible&&l.default.DOM.div({id:"zeg-grouptag"},this.getUI(),this.state.selected?this.tagDialog():null)},componentDidUpdate:function(){void 0!==this.refs["grouptag-input"]&&this.refs["grouptag-input"].getDOMNode().focus()},tagDialog:function(){return l.default.DOM.div({className:"dropdown-menu"},l.default.DOM.div({className:"dropdown-header primary-color"},a.Config.i18nValue("tag-all")),l.default.DOM.input({ref:"grouptag-input",placeholder:a.Config.i18nValue("snapshots-input-placeholder"),onKeyDown:this.ontagKeyPress}))},ontagKeyPress:function(e){if(13===e.keyCode){var t=h.default.getTable(!0),n=t[h.default.getPrimaryKeyColumn().name];f.default.store.setTagToMany(e.target.value,n),this.setState({selected:!1})}}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(36),u=i(l);r.prototype.reactClass=a.default.createClass({mixins:[u.default],displayName:"ui/toolbars/LegendButton",getInitialState:function(){return{icon:"fa-life-ring",showLegend:!0}},componentWillUnmount:function(){var e=this;s.Events.off("legend.request",e.__legendRequest),s.Events.off("legend.close",e.__legendClose)},__legendRequest:function(e,t){this.setState({showLegend:!0})},__legendClose:function(e,t){this.setState({showLegend:!1})},componentDidMount:function(){var e=this;s.Events.on("legend.request",e.__legendRequest),s.Events.on("legend.close",e.__legendClose)},onClick:function(e){e.stopPropagation(),this.toggleActive()},toggleActive:function(e){var t=void 0!==e?e:!this.state.showLegend;this.setState({showLegend:t}),t?s.Events.emitEvent("legend.show"):s.Events.emitEvent("legend.hide")},render:function(){return this.getUI()}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(36),l=i(s),u=n(2),c=n(3);r.prototype.reactClass=a.default.createClass({mixins:[l.default],displayName:"ui/toolbars/TileManagerSourceButton",getInitialState:function(){return{active:!0,icon:"fa-picture-o",display:!1,tileManager:null,selected:!1}},componentDidMount:function(){var e=this;u.Events.on("view.hide",function(){e.setState(e.getInitialState())})},render:function(){var e=this.state.display?this.getUI():null;return a.default.DOM.div({id:"zeg-imagesources"},e,this.state.selected?this.sourcesDialog():null)},sourcesDialog:function(){var e=this.state.tileManager;if(void 0!==this.state.tileManager||null!==this.state.tileManager){for(var t=e.sources,n=[],i=0;i<t.length;i++)n.push(a.default.DOM.li({key:t[i].name+"_"+i,className:i===e.currentSource?"selected":"",onClick:this.sourceSelect.bind(null,i)},a.default.DOM.a({},t[i].name)));return a.default.DOM.div({className:"dropdown-menu"},a.default.DOM.h2({className:"dropdown-header primary-color"},c.Config.i18nValue("imagesources-title")),a.default.DOM.div({className:"divider"}),a.default.DOM.ul({},n))}return null},sourceSelect:function(e){var t=this.state.tileManager;void 0===t&&null===t||t.setNextSource(e),this.setState({selected:!1})}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=(n(2),n(3)),l=n(22),u=n(36),c=i(u);r.prototype.reactClass=a.default.createClass({mixins:[c.default],displayName:"ui/toolbars/DownloadButton",getInitialState:function(){return{icon:"fa-download",selected:!1,label:"Download"}},componentDidMount:function(){var e=s.Config.properties();this.url="",this.queryArgs="","url"in e.loader.options?this.url=e.loader.options.url.replace(".tsv","").replace(".csv",""):null!==e.serverUrl&&null!==e.collectionId&&(this.url=e.serverUrl+"api/collections/"+e.collectionId+"/datasource."),"ajaxQueryArgs"in e&&e.ajaxQueryArgs.length>0&&(this.queryArgs="?"+e.ajaxQueryArgs),this.download=function(){l.Ajax.downloadFile(this.url,this.file)}},render:function(){return a.default.DOM.div({id:"zeg-download"},this.getUI(),this.state.selected?this.fileTypesDialog():null)},fileTypesDialog:function(){return a.default.DOM.div({className:"dropdown-menu"},a.default.DOM.h2({className:"dropdown-header primary-color"},s.Config.i18nValue("downloads-title")),a.default.DOM.div({className:"divider"}),a.default.DOM.ul({},a.default.DOM.li({},a.default.DOM.a({onClick:this.download.bind({url:this.url+".csv"+this.queryArgs,file:this.url+".csv"})},s.Config.i18nValue("downloads-csv"))),a.default.DOM.li({},a.default.DOM.a({onClick:this.download.bind({url:this.url+".tsv"+this.queryArgs,file:this.url+".tsv"})},s.Config.i18nValue("downloads-tsv")))))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(6),s=n(4),l=i(s),u=n(36),c=i(u);r.prototype.reactClass=l.default.createClass({mixins:[c.default],displayName:"ui/toolbars/FullscreenButton",getInitialState:function(){return{icon:"fa-expand"}},componentDidMount:function(){var e=!1;(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(e=!0),!1===e&&this.setState({display:!1})},onClick:function(){this.setState({icon:a.Helpers.isFullscreen()?"fa-expand":"fa-compress"}),o.Events.emitEvent("UI.FullScreen")},render:function(){return this.getUI()}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(36),u=i(l);r.prototype.reactClass=a.default.createClass({mixins:[u.default],displayName:"ui/toolbars/AboutButton",getInitialState:function(){return{icon:"fa-info-circle"}},onClick:function(){s.Events.emitEvent("loader.show")},render:function(){return this.getUI()}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=(n(2),n(3)),l=n(175),u=n(36),c=i(u),d=n(212);r.prototype.reactClass=a.default.createClass({mixins:[c.default],displayName:"ui/toolbars/HelpButton",getInitialState:function(){return{icon:"fa-question-circle"}},onClick:function(){l.Dialog.show("About Zegami",'<div class="zeg-about-zegami"><img src="'+s.Config.properties().baseImagePath+'/zegami.png" alt="Zegami" /><p><div>'+d.Statics.version.toString()+'</div><p><div><a href="'+s.Config.properties().defaultHelpSite+'" target="_blank">Help and support</a></div></p><p><div>Zegami copyright &copy; 2017, Zegami Limited</div></p></div>')},render:function(){return this.getUI()}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(3),l=n(36),u=i(l);r.prototype.reactClass=a.default.createClass({mixins:[u.default],displayName:"ui/toolbars/ShareButton",getInitialState:function(){return{icon:"fa-share-alt",selected:!1,label:"Share"}},getEncodedLocation:function(){return encodeURIComponent(window.location.href)},getEncodedMessage:function(){return encodeURIComponent("Check out the amazing collection I created with #zegami!")},render:function(){return a.default.DOM.div({id:"zeg-share"},this.getUI(),this.state.selected?this.shareDialog():null)},shareDialog:function(){return a.default.DOM.div({className:"dropdown-menu",ref:"menu"},a.default.DOM.h2({className:"dropdown-header primary-color"},s.Config.i18nValue("share-title")),a.default.DOM.div({className:"divider"}),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on Facebook",href:"https://facebook.com/sharer/sharer.php?u="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"}))),"Share on Facebook"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on Twitter",href:"https://twitter.com/intent/tweet/?text="+this.getEncodedMessage()+"&amp;url="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"}))),"Share on Twitter"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on Google+",href:"https://plus.google.com/share?url="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--google resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M11.37 12.93c-.73-.52-1.4-1.27-1.4-1.5 0-.43.03-.63.98-1.37 1.23-.97 1.9-2.23 1.9-3.57 0-1.22-.36-2.3-1-3.05h.5c.1 0 .2-.04.28-.1l1.36-.98c.16-.12.23-.34.17-.54-.07-.2-.25-.33-.46-.33H7.6c-.66 0-1.34.12-2 .35-2.23.76-3.78 2.66-3.78 4.6 0 2.76 2.13 4.85 5 4.9-.07.23-.1.45-.1.66 0 .43.1.83.33 1.22h-.08c-2.72 0-5.17 1.34-6.1 3.32-.25.52-.37 1.04-.37 1.56 0 .5.13.98.38 1.44.6 1.04 1.84 1.86 3.55 2.28.87.23 1.82.34 2.8.34.88 0 1.7-.1 2.5-.34 2.4-.7 3.97-2.48 3.97-4.54 0-1.97-.63-3.15-2.33-4.35zm-7.7 4.5c0-1.42 1.8-2.68 3.9-2.68h.05c.45 0 .9.07 1.3.2l.42.28c.96.66 1.6 1.1 1.77 1.8.05.16.07.33.07.5 0 1.8-1.33 2.7-3.96 2.7-1.98 0-3.54-1.23-3.54-2.8zM5.54 3.9c.33-.38.75-.58 1.23-.58h.05c1.35.05 2.64 1.55 2.88 3.35.14 1.02-.08 1.97-.6 2.55-.32.37-.74.56-1.23.56h-.03c-1.32-.04-2.63-1.6-2.87-3.4-.13-1 .08-1.92.58-2.5zM23.5 9.5h-3v-3h-2v3h-3v2h3v3h2v-3h3"}))),"Share on Google+"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share by Email",href:"mailto:?subject="+this.getEncodedMessage()+"&body="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--email resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"}))),"Share by Email"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on LinkedIn",href:"https://www.linkedin.com/shareArticle?mini=true&amp;url="+this.getEncodedLocation()+"&amp;title="+this.getEncodedMessage()+"&amp;summary="+this.getEncodedLocation()+"&amp;source="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"}))),"Share on LinkedIn"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on Reddit",href:"https://reddit.com/submit/?url="+this.getEncodedLocation()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--reddit resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.default.DOM.path({d:"M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"}))),"Share on Reddit"))),a.default.DOM.div({},a.default.DOM.a({className:"resp-sharing-button__link",target:"_blank",ariaLabel:"Share on Hacker News",href:"https://news.ycombinator.com/submitlink?u="+this.getEncodedLocation()+"&amp;t="+this.getEncodedMessage()},a.default.DOM.div({className:"resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--large"},a.default.DOM.div({ariaHidden:"true",className:"resp-sharing-button__icon resp-sharing-button__icon--solid"},a.default.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140"},a.default.DOM.path({fillRule:"evenodd",d:"M60.94 82.314L17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L103.49 0h18.69L77.84 83.308v53.087h-16.9v-54.08z"}))),"Share on Hacker News"))))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=(n(2),n(3));i(n(175)),r.prototype.UI=a.default.createClass({displayName:"ui/toolbars/CollectionName",getInitialState:function(){return{displaylogo:!0}},render:function(){var e=s.Config.properties(),t=e.defaultAboutSite,n=e.logoImage,i=null!==n&&n.length>0;return a.default.DOM.div({id:"zeg-collection-name",role:"navigation"},i&&this.state.displaylogo?a.default.DOM.a({href:t,title:"Zegami"},a.default.DOM.img({className:"logo",src:s.Config.properties().baseImagePath+"/"+n,alt:"Zegami"})):null)}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(3),u=n(381),c=i(u),d=n(741),h=i(d),p=n(382),f=(i(p),n(742)),m=i(f),g=n(386),v=i(g),y=n(748),_=i(y),b=n(751),w=i(b),M=n(752),x=i(M),S=n(753),E=i(S),T=n(754),C=i(T),L=n(755),D=i(L),A=n(756),P=i(A),k=n(757),O=i(k),I=n(758),R=i(I),N=n(759),B=i(N);r.prototype.UI=a.default.createClass({displayName:"ui/panels/Main",getInitialState:function(){return{isEditable:l.Config.properties().isEditable}},componentDidMount:function(){s.Events.addListener("config.updated",function(e){e.isEditable!==this.state.isEditable&&this.setState({isEditable:e.isEditable})}.bind(this))},render:function(){return this.header=(new c.default).UI(null),this.viewPanel=(new h.default).UI(null),this.searchPanel=(new m.default).UI(null),this.filterPanel=(new v.default).UI(null),this.viewSelectionPanel=(new _.default).UI(null),this.selectionPanel=(new w.default).UI(null),this.leftToolbar=(new B.default).UI(null),this.leftPanelContainer=(new E.default).UI(null),this.viewOptions=(new C.default).UI(null),this.contextMenuPanel=(new P.default).UI(null),this.legend=(new O.default).UI(null),this.groupPanel=(new R.default).UI(null),this.metadataPanel=(new D.default).UI(null),this.helpPanel=!0===this.state.isEditable?(new x.default).UI(null):null,a.default.DOM.div({id:"zeg-mainpanel",displayName:"zeg-mainpanel"},this.viewPanel,this.header,this.leftToolbar,this.searchPanel,this.filterPanel,this.viewSelectionPanel,this.selectionPanel,this.helpPanel,this.leftPanelContainer,this.viewOptions,this.contextMenuPanel,this.metadataPanel,this.legend,this.groupPanel)}}),t.default=r},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r);i.prototype.UI=o.default.createClass({displayName:"ui/panels/View",render:function(){return o.default.DOM.div({id:"zeg-viewpanel"},o.default.DOM.canvas({id:"zeg-viewpanel-view"}))}}),t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(743),u=i(l);r.prototype.UI=a.default.createClass({displayName:"ui/Panels/SearchPanel",getInitialState:function(){return{show:!1}},componentDidMount:function(){s.Events.addListener("search.toggle",function(e){this.setState({show:e})}.bind(this))},render:function(){this.filterSearch=(new u.default).UI(null);var e=a.default.addons.classSet({enter:this.state.show,exit:!this.state.show,searchPanel:!0});return a.default.DOM.div({id:"zeg-panel-search",className:e},a.default.DOM.div({className:"title primary-color"},"Search collection"),this.filterSearch)}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(9),l=i(s),u=n(744),c=i(u),d=n(3),h=n(2),p=a.default.addons.classSet,f=l.default.searchFilterName;r.prototype.UI=a.default.createClass({displayName:"ui/Panels/FilterSearch",__onToggleActive:function(e){e.stopPropagation(),this.toggleActive(),h.Events.emitEvent("filter.item.toggle.active",[f])},addTag:function(e){var t=this;t.getIndexTag(e)<0&&(l.default.searchTags.push(e),t.updateFilter())},clearFilters:function(){l.default.isCategoryInFilter(f)&&(l.default.removeCategoryFromFilter(f),l.default.searchTags.length=0,this.forceUpdate())},closeTag:function(e){var t=this;t.state.isActive&&t.removeTagByIndex(e.target.getAttribute("data-index"))},componentDidMount:function(){h.Events.on("filter.toggle.active",function(e){this.toggleActive(e)}.bind(this)),h.Events.on("filter.clear.all",function(){this.clearFilters()}.bind(this)),h.Events.on("filter.change",function(e,t){(f===e||t)&&(this.setState({isActive:l.default.isCategoryActive(f)||!l.default.isCategoryInFilter(f)}),this.forceUpdate())}.bind(this))},getInitialState:function(){return{searchID:0,isActive:!0,filterIds:[],loading:!1}},getIndexTag:function(e){var t,n,i;for(i=l.default.searchTags,n=i.length,t=0;t<n;t+=1)if(i[t]===e)return t;return-1},normalizeString:function(e){return null!==e&&(e=this.removeAccents(e).toLowerCase().trim()),e},onSubmit:function(e){var t,n,i=this;e.preventDefault(),i.state.isActive&&(t=document.getElementById("zeg-filterpanel-search"),n=t.value,""!==(n=i.normalizeString(n))&&(i.addTag(n),t.value=""))},removeTag:function(e){var t,n=this;(t=n.getIndexTag(e))>=0&&(l.default.searchTags.splice(t,1),n.updateFilter())},removeTagByIndex:function(e){var t=this;l.default.searchTags.splice(e,1),t.updateFilter()},render:function(){var e,t,n=this;return t=l.default.searchTags.map(function(e,t){return a.default.DOM.li({key:t,className:"zeg-search-tag"},e,a.default.DOM.span({className:"zeg-search-tag-close","data-index":t,onClick:n.closeTag},"x"))}),e=p({active:this.state.loading}),a.default.DOM.div({id:"zeg-search-filter"},a.default.DOM.div({className:"zeg-filter-header"},a.default.DOM.form({id:"zeg-filterpanel-search-form",onSubmit:n.onSubmit},a.default.DOM.input({id:"zeg-filterpanel-search",placeholder:d.Config.i18nValue("search-placeholder")}),a.default.DOM.i({className:"fa fa-search zeg-filter-actions",onClick:n.onSubmit}),a.default.DOM.div({id:"zeg-filter-search-loading",className:e},a.default.DOM.div({className:"fa fa-circle-o-notch fa-spin zeg-filter-search-loading-icon"}),a.default.DOM.div({className:"zeg-filter-search-label"},"searching...")))),a.default.DOM.div({className:"zeg-filter-content"},a.default.DOM.ul({id:"zeg-search-tags"},t)))},removeAccents:function(e){if(null===e)return e;var t,n,i;for(i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],n=i.length,t=0;t<n;t+=1)e.replace&&(e=e.replace(i[t].re,i[t].ch));return e},toggleActive:function(e){var t=void 0!==e?e:!this.state.isActive;l.default.isCategoryInFilter(f)&&l.default.setActive(f,t),this.setState({isActive:t}),h.Events.emitEvent("filter.change")},updateFilter:function(){var e,t,n,i,r,o,a,s,u,d,p,m,g,v,y,_,b,w,M,x=this,S=[],E=[];if(w=l.default.searchTags,o=l.default.getPrimaryKeyColumn().name,0===w.length)l.default.removeCategoryFromFilter(f),h.Events.emitEvent("filter.change",[f]);else{for(h.Events.off("searchsource.ready."+x.state.searchID,x.searchSourceReadyHandler),x.state.filterIds=[],x.state.searchID+=1,h.Events.on("searchsource.ready."+x.state.searchID,x.searchSourceReadyHandler),y=c.default.getSearchSources(),p=y.length,x.numberOfSearches=1+p,s=0;s<p;s+=1)y[s].search(x.state.searchID,w);for(a=l.default.getFacetTypes(),t=l.default.getTable(),r=t[o],p=a.length,s=0;s<p;s+=1)n=a[s],!n.useInSearch||"String"!==n.type&&n.name!==o||S.push(n.name);for(v=r.length,p=v,s=0;s<p;s+=1){for(_=!1,m=w.length,u=0;u<m;u+=1){b=!1;var T=new RegExp(w[u]);for(g=S.length,d=0;d<g;d+=1)if(i=t[S[d]],null!==(M=x.normalizeString(i.get(s,!0)))&&(M=M.toString(),M.search(T)>=0)){b=!0;break}if(!b){_=!1;break}_=!0}_&&(e=r.get(s),E.push(e))}this.setState({loading:!0}),h.Events.emitEvent("searchsource.ready."+x.state.searchID,[E])}x.forceUpdate(),h.Events.emit("filter.toggle.showcontent",f)},searchSourceReadyHandler:function(e){var t=this;t.numberOfSearches-=1,t.state.filterIds=t.state.filterIds.concat(e),0===t.numberOfSearches&&(l.default.addToFilter(f,t.state.filterIds,"equal"),this.setState({loading:!1}),h.Events.emitEvent("filter.change",[f]))}}),t.default=r},function(e,t,n){"use strict";function i(e){o.push(e)}function r(){return o}Object.defineProperty(t,"__esModule",{value:!0});var o=[];t.default={addSearchSource:i,getSearchSources:r}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(9),l=i(s),u=n(173),c=n(3),d=n(2),h=a.default.addons.classSet,p=function e(){r(this,e);var t=function(e){return l.default.getFacetTypeCount(e).values};this.UI=a.default.createClass({displayName:"ui/panels/FilterItem",getInitialState:function(){return{showContent:!1,isActive:!0,views:{},actions:{},scrollPosition:0,selectedView:""}},getDefaultProps:function(){return{dataType:"",key:"",model:null}},render:function(){if(""===this.state.selectedView)return null;var e=this.props.model.name,t=this.props.model.displayName,n=this.props.model.description,i=this.props.filtersHidden,r=this.state.isActive,o=this.state.views[this.state.selectedView].reactClass({name:this.state.selectedView,facetCategory:e,facetCategoryDisplay:t,data:this.state.data,filterChanged:this.filterChanged,showContent:this.state.showContent,isActive:r,clearFilters:this.clearFilters}),s=[],u=c.Config.properties().facetTypes[this.props.dataType.toLowerCase()];if(this.isMounted()){var d=this.getDOMNode(),p=0;if(void 0!==d){var f=this.state.scrollPosition,m=!1;p=d&&d.offsetTop-f,p=Math.max(0,p),m=p<=0}if(this.state.showContent){var g=0,v=280;i&&(v=-100);for(var y in this.state.actions)if(this.state.actions.hasOwnProperty(y)){var _=!1;void 0!==u.views[this.state.selectedView]&&void 0!==u.views[this.state.selectedView].disable&&(_=u.views[this.state.selectedView].disable.indexOf(y)>=0),s.push(this.state.actions[y].reactClass({key:y,name:y,position:{top:p+45*g+"px",left:v+"px"},showTopIndicator:0===g&&m,facetCategory:e,facetCategoryDisplay:t,description:n,selectedView:this.state.selectedView,disabled:_,numericTypeCount:this.props.numericTypeCount})),g++}}}var b=h({"zeg-filterpanel-filteritem":!0,active:this.state.showContent}),w=h({active:l.default.isCategoryInFilter(e),"zeg-close-icon primary-color zeg-button":!0}),M=h({"zeg-filter-header":!0,focus:this.state.showContent});return a.default.DOM.li({id:e,className:b,key:e,ref:e},a.default.DOM.div({className:M,onClick:this._toggleShowContent},a.default.DOM.span({className:"zeg-filter-header-title"},"displayName"in this.props.model&&null!==this.props.model.displayName?this.props.model.displayName:this.props.model.name),a.default.DOM.span({className:w,onClick:this.__onClearFilters},"reset")),o,s)},componentDidMount:function(){var e=this.props.dataType.toLowerCase(),t=c.Config.properties().facetTypes[e],n=0,i=null,r=null;for(var o in t.views)t.views.hasOwnProperty(o)&&(this.state.views[o]=new u.DataTypeViewManager.Views[o],void 0!==t.views[o].isDefault&&t.views[o].isDefault&&(i=o),0===n&&(r=o),n++);null==i&&(i=r),t.actions.map(function(e){this.state.actions[e]=new u.DataTypeViewManager.Actions[e]}.bind(this)),this.setState({selectedView:i});var a,s,l,h,p,f,m;a=function(e){this.toggleActive(e)}.bind(this),s=this.onClearFilter,l=this.onClearFilter,h=function(e){this.props.model.name!==e&&this.state.showContent&&this.setState({showContent:!1})}.bind(this),p=function(e,t){this.onClearFilter(e),(this.props.model.name===e||t)&&this.filterChanged()}.bind(this),f=function(e){this.setState({scrollPosition:e})}.bind(this),m=function(e){this.state.showContent&&void 0!==this.state.actions[e]&&this.isMounted()&&this.setState({selectedView:e})}.bind(this),this._functions={filterToggleActive:a,filterClearAll:s,filterClearFacet:l,filterToggleShowcontent:h,filterChange:p,filterScrollChange:f,filterViewChange:m},d.Events.on("filter.toggle.active",a),d.Events.on("filter.clear.all",this.onClearFilter),d.Events.on("filter.clear.facet",this.onClearFilter),d.Events.on("filter.toggle.showcontent",h),d.Events.on("filter.change",p),d.Events.on("filter.scroll.change",f),d.Events.on("filter.view.change",m)},componentDidUpdate:function(){d.Events.emitEvent("filter.item.contentupdated")},componentWillUnmount:function(){d.Events.off("filter.toggle.active",this._functions.filterToggleActive),d.Events.off("filter.clear.all",this.onClearFilter),d.Events.off("filter.clear.facet",this.onClearFilter),d.Events.off("filter.toggle.showcontent",this._functions.filterToggleShowcontent),d.Events.off("filter.change",this._functions.filterChange),d.Events.off("filter.scroll.change",this._functions.filterScrollChange),d.Events.off("filter.view.change",this._functions.filterViewChange)},_toggleShowContent:function(){var e=!this.state.showContent;d.Events.emit("filter.toggle.showcontent",this.props.model.name),e&&this.setState({data:t(this.props.model.name),showContent:e}),this.setState({showContent:e})},__onToggleActive:function(e){e.stopPropagation(),this.toggleActive(),d.Events.emitEvent("filter.item.toggle.active",[this.props.model.name]),d.Events.emitEvent("filter.change",[name])},toggleActive:function(e){var t=this.props.model.name,n=void 0!==e?e:!this.state.isActive;l.default.isCategoryInFilter(t)&&l.default.setActive(t,n),this.setState({isActive:n})},__onClearFilters:function(e){e.stopPropagation(),this.clearFilters(),d.Events.emitEvent("filter.clear.facet",[this.props.model.name])},clearFilters:function(){var e=this.props.model.name;l.default.isCategoryInFilter(e)&&(l.default.removeCategoryFromFilter(e),this.forceUpdate())},onClearFilter:function(e){var n=this.props.model.name;this.state.showContent&&n!==e&&this.setState({data:t(n)})},filterChanged:function(){var e=this.props.model.name;this.setState({isActive:l.default.isCategoryActive(e)||!l.default.isCategoryInFilter(e)})}})};t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e<t?-1:e>t?1:0}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=i(a),l=n(9),u=i(l),c=n(173),d=n(3),h=n(2),p=s.default.addons.classSet,f=u.default.tagFilterName;o.prototype.UI=s.default.createClass({displayName:"ui/panels/FilterTag",getInitialState:function(){return{bSortAscending:!0,showContent:!1,isActive:!0,actions:[]}},render:function(){var e,t,n,i=[],o=null;return this.state.showContent?(u.default.getTotalCount(),n=u.default.getAllTags(),n=n.filter(function(e){return e.count>0}).map(function(e){var t=u.default.activeFilterTags.indexOf(e.value)>-1;return s.default.DOM.label({htmlFor:e.value+"-input",className:"zeg-facet-item",key:e.value},s.default.DOM.input({id:e.value+"-input",htmlFor:e.value+"-input",type:"checkbox",className:"zeg-facet-item-check",value:e.value,onChange:this.onChange,checked:t,disabled:!(!t||0!==e.count)||!this.state.isActive,ref:e.value+".checkbox"}),s.default.DOM.span({className:"zeg-facet-item-name",ref:e.value+".name"},e.value),s.default.DOM.div({className:"zeg-facet-item-count"},s.default.DOM.span({ref:e.value+".count"},e.count)))}.bind(this)),n.sort(r),this.state.bSortAscending||n.reverse(),i=this.state.actions.map(function(e){return e.reactClass({key:e,name:"sort",position:{top:"36px",left:"280px"},showTopIndicator:!1,facetCategory:f,selectedView:this.state.selectedView})}.bind(this))):o=s.default.DOM.span({className:"zeg-breadcrumb"},u.default.activeFilterTags.join(", ")),e=p({"zeg-filterpanel-filteritem":!0,active:this.state.showContent}),t=p({active:u.default.isCategoryInFilter(f),"zeg-close-icon primary-color zeg-button":!0}),s.default.DOM.li({id:f,className:e},s.default.DOM.div({className:"zeg-filter-header",onClick:this.__toggleShowContent},s.default.DOM.span({className:"zeg-filter-header-title"},d.Config.i18nValue("tags-label")),s.default.DOM.span({className:t,onClick:this.__onClearFilters},"reset")),s.default.DOM.div({className:"zeg-filter-content"},s.default.DOM.div({className:"zeg-facet-items",style:{display:this.state.showContent?"block":"none"},ref:"itemsList"},n),o,i))},componentDidMount:function(){h.Events.on("filter.toggle.active",function(e){this.toggleActive(e)}.bind(this)),h.Events.on("filter.clear.facet",function(e){var t=u.default.tagFilterName;this.state.showContent&&t!==e&&this.forceUpdate()}.bind(this)),h.Events.on("filter.change",function(e,t){(f===e||t)&&this.setState({isActive:u.default.isCategoryActive(f)||!u.default.isCategoryInFilter(f)})}.bind(this)),h.Events.on("tags.change",function(){this.updateFilter(),this.forceUpdate()}.bind(this)),h.Events.on("filter.toggle.showcontent",function(e){f!==e&&this.state.showContent&&this.setState({showContent:!1})}.bind(this)),h.Events.on("datatypeview.sort",function(){this.state.showContent&&this.setState({bSortAscending:!this.state.bSortAscending})}.bind(this)),this.state.actions.push(new c.DataTypeViewManager.Actions.Sort)},__onToggleActive:function(e){e.stopPropagation(),this.toggleActive(),h.Events.emitEvent("filter.item.toggle.active",[f])},__onClearFilters:function(e){e.stopPropagation(),this.clearFilters(),h.Events.emitEvent("filter.clear.facet",[f])},clearFilters:function(){u.default.removeCategoryFromFilter(f),u.default.activeFilterTags.length=0,this.forceUpdate()},__toggleShowContent:function(){u.default.getAllTags().length>0&&(h.Events.emit("filter.toggle.showcontent",f),this.setState({showContent:!this.state.showContent}))},onChange:function(e){var t,n=e.target.value;this.state.isActive&&(e.target.checked?u.default.activeFilterTags.push(n):(t=u.default.activeFilterTags.indexOf(n))>-1&&u.default.activeFilterTags.splice(t,1),this.updateFilter())},updateFilter:function(){var e;0===u.default.activeFilterTags.length?u.default.removeCategoryFromFilter(f):(e=u.default.getIdsForTags(),u.default.addToFilter(f,e,"equal"))},toggleActive:function(e){var t=void 0!==e?e:!this.state.isActive;u.default.isCategoryInFilter(f)&&u.default.setActive(f,t),this.setState({isActive:t}),h.Events.emitEvent("filter.change")}}),t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(3),l=n(2),u=n(9),c=i(u);r.prototype.UI=a.default.createClass({displayName:"ui/panels/FilterPanelHeader",getInitialState:function(){return{showClear:!1}},componentDidMount:function(){l.Events.addListener("filter.change",function(){var e=!c.default.isFilterEmpty();this.state.showClear!==e&&this.setState({showClear:e})}.bind(this))},componentDidUpdate:function(){var e=this.state.show;s.Config.i18n(this.refs.filtersLabel.getDOMNode(),"filters"),clearTimeout(this.toggleTimeout),this.toggleTimeout=setTimeout(function(){l.Events.emitEvent("filter.statechanged",[e])},100)},onClearFilters:function(e){e.stopPropagation(),c.default.replaceFilter({}),c.default.clearActiveFilterTags(),c.default.replaceSearchTags([],!1),l.Events.emitEvent("filter.clear.all")},render:function(){return a.default.DOM.div({className:"zeg-toolbar-title-wrapper"},a.default.DOM.span({id:"zeg-toolbar-title",className:"primary-color",ref:"filtersLabel"}),this.state.showClear?a.default.DOM.span({id:"zeg-filter-reset-all",onClick:this.onClearFilters},"reset all"):null)}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(3),l=n(2),u=n(61),c=n(749),d=i(c),h=n(750),p=i(h);r.prototype.UI=a.default.createClass({displayName:"ui/Panels/ViewSelectionPanel",getInitialState:function(){return{show:!1,selectedView:null}},componentDidMount:function(){l.Events.addListener("views.toggle",function(e){this.setState({show:e})}.bind(this)),l.Events.addListener("view.selected",function(e,t){var n=u.ViewManager.views.indexes.hasOwnProperty(e)?u.ViewManager.views.indexes[e]:e;e=s.Config.properties().views[n].name,this.setState({selectedView:e})}.bind(this))},componentDidUpdate:function(){s.Config.i18n(this.refs.viewSelectionLabel.getDOMNode(),"viewSelection")},onViewButtonClick:function(e){l.Events.emitEvent("view.selected",[e])},render:function(){var e=this,t=s.Config.properties().views;this.sortToolbar=new d.default(null),this.namesButton=new p.default;var n=t.map(function(t,n){var i=a.default.addons.classSet({"view-selector":!0,selected:e.state.selectedView===t.name});return a.default.DOM.div({key:"view-"+t.name+"-"+n,className:i,onClick:e.onViewButtonClick.bind(e,t.name)},a.default.DOM.i({className:"fa "+t.options.icon}),a.default.DOM.span(null,t.name))}),i=a.default.addons.classSet({enter:this.state.show,exit:!this.state.show,viewSelectionPanel:!0});return a.default.DOM.div({id:"zeg-panel-views",className:i},a.default.DOM.div({className:"title primary-color",ref:"viewSelectionLabel"}),a.default.DOM.div({className:"view-button-wrapper"},n),this.sortToolbar,this.namesButton.reactClass({enabled:!1}))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r),a=n(9),s=(i(a),n(2)),l=n(3),u=o.default.createClass({displayName:"ui/toolbars/Sort",getInitialState:function(){return{categories:[],sortValue:null,groupValue:""}},componentDidMount:function(){s.Events.addListener("filter.init",function(e){var t=e.filter(function(e){return e.displayInFilter}).map(function(e){return{name:e.name,displayName:"displayName"in e&&null!==e.displayName?e.displayName:e.name}});this.setState({categories:t,sortValue:t[0].name}),s.Events.emitEvent("sort.change",[this.state.categories[0].name]),this.forceUpdate()}.bind(this)),s.Events.addListener("sort.change",function(e,t){t&&this.setState({sortValue:e})}.bind(this)),s.Events.addListener("group.change",function(e,t){t&&this.setState({groupValue:e})}.bind(this))},componentDidUpdate:function(){l.Config.i18n(this.refs.sortBySelect.getDOMNode(),"sort-by"),l.Config.i18n(this.refs.groupBySelect.getDOMNode(),"group-by")},componentWillUnmount:function(){},_onSortSelect:function(e){this.setState({sortValue:e.target.value}),e.target.blur(),s.Events.emitEvent("sort.change",[e.target.value])},_onGroupSelect:function(e){this.setState({groupValue:e.target.value}),e.target.blur(),s.Events.emitEvent("group.change",[e.target.value])},render:function(){var e=this.state.categories.map(function(e){return o.default.DOM.option({key:e.name+"-sort",value:e.name},e.displayName)});return o.default.DOM.div({id:"zeg-toolbar-viewoptions"},o.default.DOM.label({ref:"sortBySelect"},null),o.default.DOM.div({className:"styled-select"},o.default.DOM.select({onChange:this._onSortSelect,value:this.state.sortValue},e)),o.default.DOM.label({ref:"groupBySelect"},null),o.default.DOM.div({className:"styled-select"},o.default.DOM.select({onChange:this._onGroupSelect,value:this.state.groupValue},o.default.DOM.option({key:""},l.Config.i18nValue("select-list-none")),e)))}});t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(3),u=n(36),c=i(u);r.prototype.reactClass=a.default.createClass({mixins:[c.default],displayName:"ui/toolbars/NamesButton",getInitialState:function(){return{active:this.props.enabled,icon:"fa-font"}},componentDidMount:function(){s.Events.on("view.show",this._handleViewShow),s.Events.on("names.update.active",this.updateActive)},componentWillUnmount:function(){s.Events.off("view.show",this._handleViewShow),s.Events.off("names.update.active",this.updateActive)},updateActive:function(e,t){t&&this.setState({active:e})},onClick:function(e){e.stopPropagation(),this.toggleActive()},toggleActive:function(){var e=!this.state.active;this.setState({active:e}),s.Events.emitEvent("names.toggle.active",[e])},render:function(){return a.default.DOM.label({className:"names-button"},a.default.DOM.input({type:"checkbox",onChange:this.toggleActive,checked:this.state.active},null),l.Config.i18nValue("labels-tooltip"))},_handleViewShow:function(e){this.setState({display:e.namesAvailable}),e.namesAvailable&&s.Events.emitEvent("names.toggle.active",[this.state.active])}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=[],t=0;t<h.ViewManager.visitedItems.length;t++)e.push(h.ViewManager.visitedItems[t].name);e.length>0&&m.Events.emitEvent("selection.items.update",[e])}function o(){this.model=[]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=i(a),l=n(9),u=i(l),c=n(96),d=i(c),h=n(61),p=n(3),f=n(56),m=n(2),g=!1,v=null,y=Object();y.operationProgress=null,y.selectionLayerMesh=null,y.mousedown=function(e,t){y.visible&&(v=h.ViewManager.currentView.getLocalPosition3D(e),!0===e.ctrlKey?m.Events.emitEvent("scene.mousedown",[e]):(y.forceResize=!1,t.meshMousePosition=h.ViewManager.currentView.getMeshRelativeMousePosition(e,y.selectionLayerMesh),_.begin&&_.begin(t),g=!0))},y.mousemove=function(e,t){y.visible&&null!==v&&(!0===e.ctrlKey?m.Events.emitEvent("scene.mousemove",[e]):(t.meshMousePosition=h.ViewManager.currentView.getMeshRelativeMousePosition(e,y.selectionLayerMesh),_.step&&_.step(t)))},y.mouseup=function(e,t){if(y.visible&&null!==v){if(!0===e.ctrlKey)m.Events.emitEvent("scene.mouseup",[e]);else if(!0===g&&!1===e.ctrlKey){if(t.meshMousePosition=h.ViewManager.currentView.getLocalPosition3D(e),v.x==t.meshMousePosition.x&&v.y==t.meshMousePosition.y){var n=h.ViewManager.currentView.getHitMesh(e);null!=n&&(!0===n.visited?h.ViewManager.currentView.setMeshesAsUnvisited([n]):h.ViewManager.currentView.setMeshesAsVisited([n]))}else{var i=h.ViewManager.currentView.getMeshesInArea(v.x,t.meshMousePosition.x,v.y,t.meshMousePosition.y);h.ViewManager.currentView.setMeshesAsVisited(i)}r(),_.end&&_.end(t),y.operationProgress=null,g=!1}v=null}};var _=function(){function e(){t=0,n=0,o=0,a=0,s=!1,l=!1}var t,n,i,r,o,a,s=!1,l=!1;return{begin:function(e){var i=e.meshMousePosition;i.x*=window.innerWidth,i.y*=window.innerHeight,t=i.x,n=i.y,s=!0},step:function(e){var u=e.meshMousePosition;u.x*=window.innerWidth,u.y*=window.innerHeight,s&&(i=u.x,r=u.y,o=i-t,a=r-n,l=!0,b.clearGraphics("plugin.selection.dirty"),b.drawRect(t,n,o,a,"plugin.selection.dirty"))},end:function(o){var a=o?o.meshMousePosition:{x:i,y:r},u=t,c=n;if(a.x*=window.innerWidth,a.y*=window.innerHeight,!s||!l)return void e();a.x<u&&(u=a.x),a.y<c&&(c=a.y),b.clearGraphics("plugin.selection.dirty"),e()}}}(),b=function(){function e(){return a}function t(e,t,n,i,r,o){o=o||s,a.drawRect(a.lookupLayer(e),t,n,i,r,{fillStyle:o,globalAlpha:.2,stroke:!1}),a.drawRect(a.lookupLayer(e),t,n,i,r,{strokeStyle:o,lineWidth:2,stroke:!0})}function n(e,t,n,r,o){i(e,t,n,r,o)}function i(e,t,n,i,r){a.drawDashedLine(r,e,t,n,i,{lineWidth:1,strokeStyle:"#ffffff"})}function r(e,n,i,r,o,a){o=o||gfx,t(o,e,n,i,r,a)}function o(e){a.clearLayer(e)}var a=f.DrawingManager,s=p.Config.properties().colors.primaryAlt;return{drawRect:r,drawDashedLine:n,clearGraphics:o,dm:e}}();m.Events.on("plugins.meta.mousedown",y.mousedown),m.Events.on("plugins.meta.mouseup",y.mouseup),m.Events.on("plugins.meta.mousemove",y.mousemove),o.prototype.UI=s.default.createClass({displayName:"ui/panels/Selection",getInitialState:function(){return{selectedIds:[],allowAddTags:!0}},componentDidMount:function(){m.Events.on("selection.items.update",function(e){this.setState({selectedIds:e})}.bind(this)),m.Events.addListener("selection.toggle",function(e){var t=this;this.setState({show:e},function(){t.selectionMode(e)})}.bind(this))},selectionMode:function(e){e?(h.ViewManager.currentView.stageScaleHandler(1),h.ViewManager.currentView.resetState(),this.unvisitSprites(),y.visible=!0,null==y.selectionLayerMesh&&(y.selectionLayerMesh=f.DrawingManager.lookupLayer("plugin.selection.dirty").mesh),document.body.style.cursor="pointer",m.Events.emitEvent("ui.mouse.consumed")):(y.visible=!1,this.unvisitSprites(),document.body.style.cursor="default",m.Events.emitEvent("ui.mouse.released"))},unvisitSprites:function(e){for(var t=[],n=0;n<h.ViewManager.visitedItems.length;n++)t.push(h.ViewManager.visitedItems[n]);t.length>0&&h.ViewManager.currentView.setMeshesAsUnvisited(t,e)},addTag:function(e){var t=this;t.getIndexTag(e)<0&&(u.default.searchTags.push(e),t.updateFilter())},selectAll:function(e){for(var t=u.default.getTable(!0),n=t[u.default.getPrimaryKeyColumn().name],i=void 0,o=[],a=0;a<n.length;a++)i=h.ViewManager.getMesh(n.get(a,!0)),o.push(i);h.ViewManager.currentView.setMeshesAsVisited(o),r()},selectNone:function(e){this.unvisitSprites(!0),r()},selectRandom:function(e){var t=document.getElementById("zeg-selectionpanel-random-percent"),n=t.value;this.unvisitSprites();for(var i=u.default.getTable(!0),o=i[u.default.getPrimaryKeyColumn().name],a=void 0,s=[],l=0;l<o.length;l++)a=h.ViewManager.getMesh(o.get(l,!0)),s.push(a);for(var c=parseInt(n),d=Math.round(c/100*s.length),p=[],f=[],m=void 0,g=!1,v=0;v<d;v++)if(m=Math.floor(Math.random()*s.length),f.indexOf(m)<0)f.push(m),p.push(s[m]),g=!1;else for(g=!0;!0===g;)m=Math.floor(Math.random()*s.length),f.indexOf(m)<0&&(f.push(m),p.push(s[m]),g=!1);h.ViewManager.currentView.setMeshesAsVisited(p),r()},selectInverse:function(e){for(var t=u.default.getTable(!0),n=t[u.default.getPrimaryKeyColumn().name],i=void 0,o=[],a=[],s=0;s<n.length;s++)i=h.ViewManager.getMesh(n.get(s,!0)),!0!==i.visited?o.push(i):!0===i.visited&&a.push(i);h.ViewManager.currentView.setMeshesAsUnvisited(a),h.ViewManager.currentView.setMeshesAsVisited(o),r()},onSubmit:function(e){var t,n,i;e.preventDefault(),this.state.selectedIds.length>0&&(i=this.state.selectedIds,t=document.getElementById("zeg-selectionpanel-search"),""!==(n=t.value)&&(d.default.store.setTagToMany(n,i),t.value="",this.setState({selectedIds:[]})))},ontagKeyPress:function(e){13===e.keyCode&&this.onSubmit(e)},onRemoveTagsClick:function(e){var t=u.default.getSnapshotDataReadOnly(),n=[],i=t.filterTags;for(var r in i)for(var o=i[r],a=0;a<o.length;a++)n.push([r,o[a]]);d.default.store.removeAllTags(n)},render:function(){var e=s.default.addons.classSet({enter:this.state.show,exit:!this.state.show,selectionPanel:!0}),t=[];return this.state.allowAddTags&&(t.push(s.default.DOM.li({key:"selection-tag-header",className:"zeg-selectionpanel-item-alt"},s.default.DOM.span({className:"title"},p.Config.i18nValue("select-tag")))),t.push(s.default.DOM.li({key:"selection-tag-inputs",className:"zeg-selectionpanel-item-alt"},s.default.DOM.div({className:"zeg-selectionpanel-tags"},s.default.DOM.i({className:"fa fa-tags zeg-selectionpanel-icons"}),s.default.DOM.input({id:"zeg-selectionpanel-search",placeholder:p.Config.i18nValue("select-tag-placeholder"),onKeyDown:this.ontagKeyPress}),s.default.DOM.i({className:"fa fa-plus zeg-selectionpanel-icons",onClick:this.onSubmit})))),t.push(s.default.DOM.li({key:"selection-tag-remove",className:"zeg-selectionpanel-item-alt"},s.default.DOM.div({className:"remove-tags",onClick:this.onRemoveTagsClick},s.default.DOM.span(null,"Remove all tags"))))),s.default.DOM.div({className:e},s.default.DOM.div({id:"zeg-selectionpanel-wrapper"},s.default.DOM.span({className:"title"},p.Config.i18nValue("selection-mode")),s.default.DOM.div({className:"zeg-selectionpanel-items"},s.default.DOM.div({className:"zeg-selectionpanel-item"},s.default.DOM.object({data:p.Config.properties().baseImagePath+"/icon/icon-selectall.svg",type:"image/svg+xml"}),s.default.DOM.h3({className:"zeg-selectionpanel-item-title",onClick:this.selectAll},p.Config.i18nValue("select-all"))),s.default.DOM.div({className:"zeg-selectionpanel-item"},s.default.DOM.object({data:p.Config.properties().baseImagePath+"/icon/icon-selectnone.svg",type:"image/svg+xml"}),s.default.DOM.h3({className:"zeg-selectionpanel-item-title",onClick:this.selectNone},p.Config.i18nValue("select-none"))),s.default.DOM.div({className:"zeg-selectionpanel-item"},s.default.DOM.object({data:p.Config.properties().baseImagePath+"/icon/icon-selectinverse.svg",type:"image/svg+xml"}),s.default.DOM.h3({className:"zeg-selectionpanel-item-title",onClick:this.selectInverse},p.Config.i18nValue("select-inverse"))),s.default.DOM.div({className:"zeg-selectionpanel-item"},s.default.DOM.object({data:p.Config.properties().baseImagePath+"/icon/icon-selectrandom.svg",type:"image/svg+xml"}),s.default.DOM.h3({className:"zeg-selectionpanel-item-title",onClick:this.selectRandom},p.Config.i18nValue("select-random")),s.default.DOM.select({id:"zeg-selectionpanel-random-percent"},s.default.DOM.option({key:"10-select",value:10},"10%"),s.default.DOM.option({key:"20-select",value:20},"20%"),s.default.DOM.option({key:"30-select",value:30},"30%"),s.default.DOM.option({key:"40-select",value:40},"40%"),s.default.DOM.option({key:"50-select",value:50},"50%"),s.default.DOM.option({key:"60-select",value:60},"60%"),s.default.DOM.option({key:"70-select",value:70},"70%"),s.default.DOM.option({key:"80-select",value:80},"80%"),s.default.DOM.option({key:"90-select",value:90},"90%"))),t)))}}),t.default=o},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(2);n(3),i.prototype.UI=o.default.createClass({displayName:"ui/Panels/HelpPanel",getInitialState:function(){return{show:!1,selectedView:null}},componentDidMount:function(){a.Events.addListener("help.toggle",function(e){this.setState({show:e})}.bind(this))},render:function(){var e=o.default.addons.classSet({enter:this.state.show,exit:!this.state.show,helpPanel:!0});return o.default.DOM.div({id:"zeg-panel-help",className:e},o.default.DOM.div({className:"title primary-color"},"Support"),o.default.DOM.ul({className:"links-list"},o.default.DOM.li({},o.default.DOM.a({href:"https://support.zegami.com/beta/how-to-create-a-collection/index.html"},"How to create a Collection")),o.default.DOM.li({},o.default.DOM.a({href:"mailto:help@zegami.com"},"Support email"))))}}),t.default=i},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(387),s=n(3),l=n(2);i.prototype.UI=o.default.createClass({displayName:"ui/panels/LeftPanelContainer",getInitialState:function(){return{show:!1,currentPanelId:"",filterPrevState:!0}},componentDidMount:function(){l.Events.addListener("leftpanelcontainer.updatepanel",function(e){l.Events.emitEvent("filter.inactive"),e!==this.state.currentPanelId?(this.state.show||this.setState({show:!0,currentPanelId:e}),!0===this.state.show&&(this.setState({currentPanelId:e}),l.Events.emitEvent("leftpanelcontainer.panelchanged"))):this.state.show||this.setState({show:!0})}.bind(this)),l.Events.addListener("leftpanelcontainer.toggle",function(){this.setState({show:!this.state.show})}.bind(this)),l.Events.addListener("leftpanelcontainer.active",function(){!0!==this.state.show&&this.setState({show:!0})}.bind(this)),l.Events.addListener("leftpanelcontainer.inactive",function(){!0===this.state.show&&this.setState({show:!1}),!0===this.state.filterPrevState&&l.Events.emitEvent("filter.toggle")}.bind(this)),l.Events.on("filter.prevstate",function(e){this.state.filterPrevState=e}.bind(this))},componentDidUpdate:function(){var e=this.state.show;clearTimeout(this.toggleTimeout),this.toggleTimeout=setTimeout(function(){l.Events.emitEvent("leftpanelcontainer.statechanged",[e])},100)},render:function(){var e=[];if(""!==this.state.currentPanelId){var t,n=s.Config.properties().leftPanels;for(t in n){var i=n[t];if(i.type===this.state.currentPanelId&&"type"in i&&i.type in a.LeftPanelManager.Panels){var r=(new a.LeftPanelManager.Panels[this.state.currentPanelId]).UI(null);e.push(r),o.default.DOM.li({key:"leftpanel-container"+i.type,id:"leftpanel-container-"+i.type},r)}}}var l=o.default.addons.classSet({"filter-enter":this.state.show,"filter-exit":!this.state.show});return o.default.DOM.div({id:"zeg-leftpanelcontainer",className:l},e)}}),t.default=i},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r);i.prototype.UI=o.default.createClass({displayName:"ui/panels/ViewOptions",render:function(){return o.default.DOM.div({id:"zeg-view-options"})}}),t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(388),l=n(9),u=i(l),c=n(3),d=n(2),h="zeg-metadatapanel";r.prototype.UI=a.default.createClass({mixins:[a.default.addons.LinkedStateMixin],displayName:"ui/panels/Metadata",getInitialState:function(){var e,t=c.Config.properties().metadataPanel,n="";if(t.length>1)for(var i=0;i<t.length;i++)e=t[i],!0===e.selectedTab&&(n=e.type);else 1==t.length&&(n=t[0].type);return""===n&&(n="Metadata"),{itemData:{},facets:[],selectedSprite:null,show:!1,isAddingTag:!1,tagName:"",selectedTab:n}},componentDidMount:function(){var e=this;d.Events.addListener("view.picture.selected",function(e){if(void 0!==e.name){var t=u.default.getItemById(e.name,!1),n=u.default.getFacetTypes(),i=!1;i=this.state.selectedSprite!==e||!this.state.show,this.setState({itemData:t,facets:n,selectedSprite:e,show:i})}}.bind(this)),d.Events.addListener("view.picture.deselected",function(e){if(e&&void 0!==e.name){var t=u.default.getItemById(e.name,!1),n=u.default.getFacetTypes();this.setState({itemData:t,facets:n,selectedSprite:e,show:!1})}}.bind(this)),d.Events.addListener("view.reset",function(){this.setState({itemData:{},facets:[],selectedSprite:null,show:!1})}.bind(this)),d.Events.on("rightpanel.show",function(t){t!==h&&e.__onCloseMetadata()}),d.Events.on("view.show",function(t){e.view=t})},componentDidUpdate:function(e,t){var n,i,r=this.state.selectedTab,o=this.state.selectedSprite,a=this.state.show,l=c.Config.properties().metadataPanel;if(t.show&&!this.state.show)d.Events.emitEvent("metadata.close");else if(this.state.show)d.Events.emitEvent("metadata.show",[this,e,t]);else if(!this.state.show&&!t.show)return;this.state.isAddingTag&&t.isAddingTag!==this.state.isAddingTag&&this.refs.addTagInput.getDOMNode().focus();for(var u=0;u<l.length;u++)i=l[u],(n=s.MetadataPanelTypes.type[i.type])&&(r===i.type&&!0===a?"function"==typeof n.start&&n.start(o):("function"==typeof n.isInit&&(n.isInit(o)||"function"==typeof n.init&&n.init(o)),"function"==typeof n.stop&&n.stop(o)));if(void 0!==this.refs.details){var h=this.refs.details.getDOMNode(),p=this.refs.header.getDOMNode(),f=void 0!==this.refs.tabs?this.refs.tabs.getDOMNode():{clientHeight:0};h.style.top=p.clientHeight+f.clientHeight+"px"}this.__targetElement=null},documentMousedown:function(e){this.__targetElement=e.target},__onCloseMetadata:function(){this.setState({show:!1})},nextItem:function(){d.Events.emitEvent("ui.select.sprite",[this.state.selectedSprite,"next"])},previousItem:function(){d.Events.emitEvent("ui.select.sprite",[this.state.selectedSprite,"previous"])},__onKeyPress:function(e){13===e.which&&this.addTag()},__onAddTag:function(){this.refs.addTagInput.getDOMNode().focus(),this.setState({isAddingTag:!0})},addTag:function(){var e=this.state.tagName;this.__targetElement!==this.refs.addTagButton.getDOMNode()&&(e.length>0&&!0===this.state.isAddingTag&&u.default.addTag(e,this.state.selectedSprite.name),this.setState({isAddingTag:!1,tagName:""}))},closeTag:function(e,t){t.stopPropagation(),u.default.removeTag(e,this.state.selectedSprite.name),this.forceUpdate()},_createHyperlink:function(e){var t=e.split("|"),n=t[0],i=t.length>1?t[1]:t[0],r=null;return"[Empty]"!==n&&(r=a.default.DOM.a({key:"link-"+n,href:i,target:"_blank"},n)),r},addTagToFilter:function(e){-1===u.default.activeFilterTags.indexOf(e)&&(u.default.replaceFilter({}),u.default.addTagToFilter(e))},filterMouseDown:function(e){this.mousepos={x:e.pageX,y:e.pageY}},filterByValue:function(e,t,n,i){if(this.mousepos&&this.mousepos.x!==i.pageX&&this.mousepos.y!==i.pageY)return void(this.mousepos=null);this.mousepos=null,"Url"!==t&&(u.default.replaceFilter({}),void 0!==u.default.getOriginFacet(e)&&"Number"===u.default.getOriginFacet(e).type&&(n=+n),u.default.addToFilter(e,n,"equal"))},render:function(){for(var e,t,n,i=this.state.selectedTab,r=c.Config.properties().metadataPanel,o="",l=[],u=[],d=r.length,p=null,f=0;f<r.length;f++)e=r[f],p=s.MetadataPanelTypes.type[e.type],t=e.name.toLowerCase(),e.type,p&&(n=a.default.DOM.div({key:"metadata-panel-"+e.type,id:"zeg-metadata-details-"+t+"wrapper",style:{display:i===e.type?"block":"none"},displayName:"metadata-plugin-panel"},p.reactClass()),l.push(n),r.length>1&&(o="zeg-details-tab-item",o+=i===e.type?" is-selected":"",o+=" tabs-"+d,u.push(p.reactTabClass({onTabClick:this.onTabClick,tabClassName:o,selectedTab:i,tabCount:d,key:"metadata-tab-"+t}))));var m=a.default.addons.classSet,g=m({"metadata-enter":this.state.show,"metadata-exit":!this.state.show});return a.default.DOM.div({id:h,className:g},a.default.DOM.div({id:"zeg-metadata-header-wrapper",ref:"header"},a.default.DOM.div({id:"zeg-metadata-header"},a.default.DOM.div({id:"zeg-metadata-close"},a.default.DOM.i({className:"fa fa-times",onClick:this.__onCloseMetadata})),a.default.DOM.div({id:"zeg-metadata-title",className:"primary-color"},a.default.DOM.span({},null===this.state.itemData.name||"[Empty]"===this.state.itemData.name?this.state.itemData.id:this.state.itemData.name)),a.default.DOM.div({id:"zeg-metadata-toolbar",className:"pull-right"},a.default.DOM.i({className:"zeg-linear-navigation fa fa-chevron-left",title:c.Config.i18nValue("metadata-nav-left-tooltip"),onClick:this.previousItem}),a.default.DOM.i({className:"zeg-linear-navigation fa fa-chevron-right",title:c.Config.i18nValue("metadata-nav-right-tooltip"),onClick:this.nextItem})))),u.length>0?a.default.DOM.div({id:"zeg-metadata-details-tab",className:"zeg-details-tab",ref:"tabs"},u):null,a.default.DOM.div({id:"zeg-metadata-details",ref:"details"},l))},createValueFilter:function(e,t,n,i){return a.default.DOM.a({key:"value-filter-"+i+"-"+n,onMouseDown:this.filterMouseDown,onClick:this.filterByValue.bind(this,e,t,n)},n)},onDataTabClick:function(){this.setState({selectedTab:"Metadata"})},onTabClick:function(e){this.setState({selectedTab:e})}}),t.default=r},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(2);i.prototype.UI=o.default.createClass({displayName:"ui/panels/ContextMenu",getInitialState:function(){return{show:!1,items:[]}},componentDidMount:function(){a.Events.addListener("view.show",this.viewShow)},componentWillUnmount:function(){a.Events.removeListener("view.show",this.viewShow)},viewShow:function(e){var t;t=e.contextMenuItems.length>0,this.setState({show:t,items:e.contextMenuItems})},render:function(){var e=this,t=[];e.state.show&&(t=e.state.items.map(function(e){return o.default.DOM.li({className:"zeg-contextmenu-item primary-background-color"},o.default.DOM.h3({className:"primary-color"},e.title),e.component)}));var n=o.default.addons.classSet,i=n({"contextmenu-enter":e.state.show,"contextmenu-exit":!e.state.show});return o.default.DOM.div({id:"zeg-contextmenupanel",className:i},o.default.DOM.ul(null,t))}}),t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(9),l=i(s),u=n(3),c=n(43),d=n(2),h=n(6),p="zeg-legend";r.prototype.UI=a.default.createClass({displayName:"ui/panel/Legend",__onCloseLegend:function(){this.setState({show:!1}),d.Events.emitEvent("legend.close")},getInitialState:function(){return{show:!1,title:"",bins:[]}},componentDidMount:function(){var e=this;d.Events.on("legend.request",function(t,n){var i=l.default.getOriginFacet(t);e.setState({title:i.displayName,bins:n})}),d.Events.on("legend.hide",function(){e.setState({show:!1})}),d.Events.on("rightpanel.show",function(t){t!==p&&e.__onCloseLegend()}),d.Events.on("legend.show",function(){e.setState({show:!0})})},componentDidUpdate:function(){this.state.show&&d.Events.emitEvent("rightpanel.show",[p])},render:function(){function e(){return this.state.bins.map(function(e,t){var i,r,o,s,d;s=null!==e.startingValue?e.startingValue:u.Config.i18nValue("null-data"),d=null!==e.endingValue?e.endingValue:u.Config.i18nValue("null-data"),o=e.startingValue===e.endingValue?s:s+u.Config.i18nValue("range-label")+d,i=e.color.substring(2),r=c.Colors.isLight(i);var p=n({"zeg-legend-bin-color":!0,"zeg-light-color":r});return a.default.DOM.li({key:"legend-"+t,className:"zeg-legend-bin"},a.default.DOM.div({className:p,style:{backgroundColor:"#"+i}},a.default.DOM.span({},e.elements.length),a.default.DOM.span({}," ("+h.Helpers.decimalAdjust("round",100*e.elements.length/l.default.getFilteredCount(),-1)+"%)")),a.default.DOM.div({className:"zeg-legend-bin-name",title:o},o))}.bind(this))}var t,n=a.default.addons.classSet;t=e.call(this);var i=n({"metadata-enter":this.state.show,"metadata-exit":!this.state.show,"zeg-maxheight":h.Helpers.hasClass(document.getElementById(p),"zeg-maxheight")});return a.default.DOM.div({id:p,className:" "+i},a.default.DOM.div({id:"zeg-legend-wrapper"},a.default.DOM.div({id:"zeg-legend-header"},a.default.DOM.div({id:"zeg-legend-title",className:"primary-color"},this.state.title+u.Config.i18nValue("group-legend-label")),a.default.DOM.div({id:"zeg-legend-toolbar",className:"pull-right"},a.default.DOM.i({className:"fa fa-times",onClick:this.__onCloseLegend},null))),a.default.DOM.div({id:"zeg-legend-content"},a.default.DOM.ul({id:"zeg-legend-bins-list"},t))))}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(9),l=i(s),u=n(3),c=n(43),d=n(2),h=n(6),p="zeg-grouppanel";r.prototype.UI=a.default.createClass({displayName:"ui/panels/Group",getInitialState:function(){return{show:!1,name:"",color:"",sortBy:"",columns:[],total:0}},render:function(){var e,t=this;null!==(e=function(){var e,n,i,r=-1;if(void 0===(e=t.state.columns))return null;for(i=e.length,n=0;n<i;n+=1)e[n].length>r&&(r=e[n].length);return t.state.columns.map(function(e){var n,i,o;return i=null!==e.startingValue?e.startingValue:u.Config.i18nValue("null-data"),o=null!==e.endingValue?e.endingValue:u.Config.i18nValue("null-data"),n=e.startingValue===e.endingValue?a.default.DOM.div({className:"zed-grouppanel-column-name",title:i},i):a.default.DOM.div({className:"zed-grouppanel-column-name",title:i+u.Config.i18nValue("range-label")+o},a.default.DOM.div({className:"zed-grouppanel-column-name-part"},i),a.default.DOM.div({className:"zed-grouppanel-column-name-to"},u.Config.i18nValue("range-label")),a.default.DOM.div({className:"zed-grouppanel-column-name-part"},o)),a.default.DOM.li({key:i,className:"zeg-grouppanel-column"},n,a.default.DOM.div({className:"zed-grouppanel-column-number"},e.length+" ("+h.Helpers.decimalAdjust("round",100*e.length/t.state.total,-1)+"%)"),a.default.DOM.div({className:"zed-grouppanel-column-bar-container"},a.default.DOM.div({className:"zed-grouppanel-column-bar",style:{width:100*e.length/r+"%",backgroundColor:t.state.color}})))})}())&&(a.default.DOM.div({className:"primary-background-color",id:"zeg-grouppanel-sortby"},t.state.sortBy),e=a.default.DOM.ul({id:"zeg-grouppanel-columns-list"},e));var n=a.default.addons.classSet,i=n({"metadata-enter":this.state.show,"metadata-exit":!this.state.show}),r=null!==this.state.name?this.state.name:u.Config.i18nValue("null-data"),o=t.state.color.substring(1),s=c.Colors.isLight(o),d=n({"zeg-legend-bin-color":!0,"zeg-light-color":s});return a.default.DOM.div({key:t.state.name,id:p,className:" "+i},a.default.DOM.div({id:"zeg-grouppanel-wrapper"},a.default.DOM.div({id:"zeg-grouppanel-header"},a.default.DOM.div({className:d,style:{backgroundColor:t.state.color}},a.default.DOM.span({},t.state.total),a.default.DOM.span({}," ("+h.Helpers.decimalAdjust("round",100*t.state.total/l.default.getTotalCount(),-1)+"%)")),a.default.DOM.div({id:"zeg-grouppanel-name",className:"primary-color"},r),a.default.DOM.div({id:"zeg-grouppanel-toolbar",className:"pull-right"},a.default.DOM.i({className:"fa fa-times",onClick:this.__onCloseGroup},null))),a.default.DOM.div({id:"zeg-grouppanel-details"},e)))},componentDidMount:function(){var e=this;d.Events.on("view.group.selected",function(t){e.setState({show:!0,name:t.name,color:t.color,sortBy:t.sortBy,columns:t.columns,total:t.total}),d.Events.emitEvent("rightpanel.show",[p])}),d.Events.on("view.group.deselected",function(){e.__onCloseGroup()}),d.Events.on("view.show",function(t,n){n||e.__onCloseGroup()}),d.Events.on("grouppanel.hide",function(){e.setState({show:!1})}),d.Events.on("rightpanel.show",function(t){t!==p&&e.__onCloseGroup()})},__onCloseGroup:function(){this.setState({show:!1}),d.Events.emitEvent("grouppanel.close")}}),t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(2),l=n(3),u=n(386),c=i(u);r.prototype.UI=a.default.createClass({displayName:"ui/LeftToolbar/LeftToolbar",getInitialState:function(){return{active:{search:!1,filter:!1,views:!1,help:!1,account:!1,config:!1}}},componentDidMount:function(){s.Events.on("search.toggle",function(e){var t=this.state.active;t.search=null!=e?e:!t.search,this.setState({active:t})}.bind(this)),s.Events.on("filter.toggle",function(e){var t=this.state.active;t.filter=null!=e?e:!t.filter,this.setState({active:t})}.bind(this)),s.Events.on("views.toggle",function(e){var t=this.state.active;t.views=null!=e?e:!t.views,this.setState({active:t})}.bind(this)),s.Events.on("selection.toggle",function(e){var t=this.state.active;t.selection=null!=e?e:!t.selection,this.setState({active:t})}.bind(this)),s.Events.addListener("config.updated",function(e){e.title!==this.state.title&&this.setState({config:!this.state.config})}.bind(this))},render:function(){this.filterPanel=(new c.default).UI(null);var e=l.Config.properties(),t=e.isEditable,n=e.tagEndpoint,i=e.allowAddTags;return a.default.DOM.div({id:"zeg-lefttoolbar",className:"zeg-lefttoolbar"},a.default.DOM.div({className:"toolbar-button "+(this.state.active.search?"active":""),onClick:this.toggle.bind(this,"search")},a.default.DOM.i({className:"fa fa-search"},null)),a.default.DOM.div({className:"toolbar-button "+(this.state.active.filter?"active":""),onClick:this.toggle.bind(this,"filter")},a.default.DOM.i({className:"fa fa-filter"},null)),a.default.DOM.div({className:"toolbar-button "+(this.state.active.views?"active":""),onClick:this.toggle.bind(this,"views")},a.default.DOM.i({className:"fa fa-bar-chart"},null)),null!==n&&i?a.default.DOM.div({className:"toolbar-button "+(this.state.active.selection?"active":""),onClick:this.toggle.bind(this,"selection")},a.default.DOM.i({className:"fa fa-mouse-pointer"},null)):null,t?a.default.DOM.div({id:"toolbar-button-help",className:"toolbar-button "+(this.state.active.help?"active":""),onClick:this.toggle.bind(this,"help")},a.default.DOM.i({className:"fa fa-question"},null)):null,a.default.DOM.a({className:"logo",href:"https://www.zegami.com"},a.default.DOM.img({src:l.Config.properties().baseImagePath+"/zegami.svg",alt:"Zegami"})))},toggle:function(e){var t=this.state.active,n=t[e],i=this.toggleAllOff(t);i[e]=!n,this.setState({active:i}),this.toggleAllPanels(i),s.Events.emitEvent("lefttoolbar.toggled",[!n])},toggleAllOff:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=!1);return e},toggleAllPanels:function(e){for(var t in e)e.hasOwnProperty(t)&&s.Events.emitEvent(t+".toggle",[e[t]])}}),t.default=r},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);i.prototype.UI=o.default.createClass({displayName:"ui/panels/Attribution",render:function(){var e=a.Config.properties().attribution;return null!==e?o.default.DOM.div({id:"zeg-attribution",dangerouslySetInnerHTML:{__html:e}}):null}}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(2),a=r.default.createClass({displayName:"ui/panels/Lightbox",getInitialState:function(){return{display:!1}},componentDidMount:function(){o.Events.addListener("lightbox.show",function(){this.setState({display:!0})}.bind(this)),o.Events.addListener("lightbox.hide",function(){this.setState({display:!1})}.bind(this))},render:function(){return r.default.DOM.div({id:"zeg-lightbox-overlay",className:"ui-lightbox-overlay"+(this.state.display?" is-visible":null)})}});t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(22),l=n(2),u=n(19),c=n(170),d=function(e){return e&&e.__esModule?e:{default:e}}(c),h=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"load",value:function(){var e=this;l.Events.emitEvent("loader.loading",[e.url,1]),this.loadPage(e.url)}},{key:"loadPage",value:function(e){var t=this;s.Ajax.get(e,function(n){l.Events.emitEvent("loader.loaded",[e]),t.processData(n),l.Events.emitEvent("loader.ready",[t.facetsArray])})}},{key:"processData",value:function(e){function t(e){for(var t,n=1,i=[],r=this;n<e.length;n++)if(""!==(t=e[n])&&"\r"!==t)for(var o=t.split("\t"),a=0;a<r.facetsArray.length;a++)if(o.length<=r.facetsArray[a].index)r.facetsArray[a].values.push(null);else{var s=o[r.facetsArray[a].index].trim();if(0===r.columns.length&&void 0===i[a]){var l=r.detectFacetType(s);null!==l&&(i[a]=!0,r.facetsArray[a].type=l)}var u=r.convertValueByType(s,r.facetsArray[a].type);r.facetsArray[a].values.push(u)}}var n=this,i={},r=e.split("\n");if(0===r.length)return{facets:[]};!function(e){var t=[],i=0,r=!1;if(t=e.split("\t").map(function(e){return e.trim()}),0===n.facetsArray.length){for(;i<t.length;i++){var o={name:t[i].trim(),displayName:t[i].trim(),type:"String",isId:!1,isName:!1,isDescription:!1,displayInFilter:!0,displayInMeta:!0,useInSearch:!0,values:[],index:i};o.name.toLowerCase()===n.idColumn.toLowerCase()?(o.isId=!0,o.displayInFilter=!1,r=!0):"name"===o.name.toLowerCase()?(o.isName=!0,o.displayInMeta=!1):"description"===o.name.toLowerCase()&&(o.isDescription=!0,o.displayInMeta=!1,o.displayInFilter=!1),n.facetsArray.push(o)}if(!r)throw new Error("The specified identifier column '"+n.idColumn+"'\" is not present in the data source.\nAdd the following value to the loader options: id: '"+n.idColumn+"'")}else for(var i=n.facetsArray.length-1;i>=0;i--){var a=t.indexOf(n.facetsArray[i].name);a>-1?n.facetsArray[i].index=a:n.facetsArray.splice(i,1)}}(r[0]),u.Log.info(i),t.bind(this)(r),function(){n.facetsArray.forEach(function(e){"Url"===e.type&&(e.displayInFilter=!1)})}()}}]),t}(d.default),p=h;t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},u=n(22),c=(n(2),n(6)),d=n(19),h=n(120),p=i(h),f=n(5),m=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(f),n(764)),g=i(m),v=n(389),y=i(v),_=n(391),b=i(_),w=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=i;return a.type="deepzoom",a.data=[],a.atlasDepthPath="depth_files",a.maxOptimizedLevel=4,a.maxLevelSpriteBatch=4,a.SpriteBatches={},a.mortonLayoutCache={},a.textureSetter={},a.textureSetter.composed=new g.default(i),a.textureSetter.atlas=new y.default(i),a.textureSetter.blank=new b.default(i),i}return a(t,e),s(t,[{key:"getDefaultSetter",value:function(){return this.textureSetter.blank.setBlankTexture.bind(this.textureSetter.blank)}},{key:"getSourceName",value:function(e){return e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))}},{key:"initSource",value:function(e){var t,n,i=this;if(t=i.currentSource,n=i.sources[t].url,i.dataFile=n,i.tilesPath=n.slice(0,n.lastIndexOf("/")+1),i.atlasTilesPath=n.slice(0,n.lastIndexOf("."))+"_files/",void 0===i.data[i.currentSource]){var r=i.dataFile.substring(i.dataFile.lastIndexOf("."));".xml"===r&&u.Ajax.getXML(i.dataFile,function(n){i.data[t]=i.dataXmlToJson(n),i.currentData=i.data[t],i.prepareData(e)}),".json"===r&&u.Ajax.getJSON(i.dataFile,function(n){i.data[t]=n,i.currentData=i.data[t],i.prepareData(e)})}else i.currentData=i.data[t],i.ready(e)}},{key:"prepareData",value:function(e){var t=this,n=t.data[t.currentSource];t.overlap=null!=n.overlap?n.overlap:1,t.maxTileSize=n.tilesize,t.tileFormat=n.format,t.maxAtlasLevel=n.maxlevel;for(var i in t.textureSetter){var r=t.textureSetter[i];r.overlap=t.overlap,r.maxTileSize=t.maxTileSize,r.tileFormat=t.tileFormat,r.maxAtlasLevel=t.maxAtlasLevel,r.queryString=t.queryString}t.ready(e)}},{key:"dataXmlToJson",value:function(e){var t,n,i,r,o,a,s,l,u,c,d={},h=[];for(u=e.getElementsByTagName("Collection")[0],s=u.attributes.length,n=0;n<s;n+=1)t=u.attributes.item(n),d[t.nodeName.toLowerCase()]=t.value;for(d.pictures=[],o=u.firstElementChild||u.firstChild||u.children[0]||{},r=o.childNodes,s=r.length,n=0;n<s;n+=1)1===r[n].nodeType&&h.push(r[n]);for(s=h.length,n=0;n<s;n+=1){var p={},f="0";for(l=h[n].attributes.length,a=0;a<l;a+=1){t=h[n].attributes.item(a);var m=t.nodeName.toLowerCase();p[m]=t.value,"id"===m&&(f=t.value),c=h[n].firstElementChild||h[n].firstChild||h[n].children[0]||{},void 0!==c.attributes.getNamedItem?(p.width=c.attributes.getNamedItem("Width").value,p.height=c.attributes.getNamedItem("Height").value,null!==(i=c.attributes.getNamedItem("Depth"))&&(p.depth=i.value)):(p.width=c.attributes.Width.value,p.height=c.attributes.Height.value,void 0!==(i=c.attributes.Depth)&&(p.depth=i.value))}d.pictures[f]=p}return d}},{key:"setTexture",value:function(e,t,n,i){var r,o,a,s,l,u=this,t=null!=t?t:{width:e[0].userData.cellSize.width,height:e[0].userData.cellSize.height};if(void 0===n&&(n=1),u.taskList=u.taskList.filter(function(e){return 0==e.disposable}),o={width:t.width*n,height:t.height*n},r=o.width>o.height?o.width:o.height,a=1+Math.round(Math.log(r)/Math.log(2)),a-=this.viewManager.graphicsSettings.atlasDampingFactor,(a<0||a!==a)&&(a=0),a<0&&(a=0),a<=u.maxOptimizedLevel&&(a=u.maxOptimizedLevel),null==u.referenceLevel?u.referenceLevel=a:a>=u.maxOptimizedLevel&&u.referenceLevel>a&&(u.referenceLevel=a),!(u.referenceLevel>a)){u.viewManager.tileManagerLevel=a;var h=e.length,p=0;for(p;p<h;p++){var f;if(l=e[p],(s=l.picInfo)&&null!=s)if(f={viewScope:u,sprite:l,cellSize:o,zoom:n,currentLevel:a,picture:s,offset:i},a<=u.maxAtlasLevel)u.setTask(function(){this.viewScope.textureSetter.atlas.setAtlasTexture(this.sprite,this.cellSize,this.currentLevel,this.picture)},f);else{var m=Math.pow(2,s.maxLevel-a);s.requestedWidth=c.Helpers.bankersRound(s.width/m),s.requestedHeight=c.Helpers.bankersRound(s.height/m),u.setTask(function(){this.viewScope.textureSetter.composed.setComposedTexture(this.sprite,this.cellSize,this.zoom,this.currentLevel,this.picture,this.offset)},f,!0)}else d.Log.warn('A Picture with the Id "'+l.name+"\" doesn't exist. There should be an Object with this Id in the JSON DeepZoom data file and it misses: "+u.dataFile+".")}u.setTask(function(){this.viewScope.previousLevel=this.currentLevel},{viewScope:u,currentLevel:a})}}},{key:"getSingleTexture",value:function(e){var n=(u.Ajax.getQueryString(),this.data[this.currentSource].pictures),i=e in n?n[e].n:0,r=this.tilesPath+"images/"+i+"_files/8/0_0.jpg?"+this.queryString;return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getSingleTexture",this).call(this,r)}}]),t}(p.default);t.default=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(61),a=n(5),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=n(3),u=n(6),c=n(56),d=n(176),h=n(765),p=function(e){return e&&e.__esModule?e:{default:e}}(h),f=function(){function e(t){i(this,e),this.queryString="",this.maxTileSize=1024,this.tileFormat="",this.name="",this.overlap=0,this.tileManager=t,this.anisotropy=1,this.standardGeometry=new s.PlaneGeometry(1,-1),this.forceBilinear=!0,this.viewManager=o.ViewManager,this.drawingManager=c.DrawingManager,this.loader=new s.FileLoader,null!==l.Config.properties().authToken&&this.loader.setRequestHeader({Authorization:l.Config.properties().authToken}),this.loader.setResponseType("blob"),this.imageRequests={};var n=this.viewManager.perfMan.getStore("setter.composed.store");this.cacheStore=n||this.viewManager.perfMan.createStore("setter.composed.store"),this.cacheStore.policy.automateGC=!0}return r(e,[{key:"calculateComposingTiles",value:function(e){if(void 0===e)throw new Exception("No details provided when calculating composing tiles.");for(var t={},n=e.currentLevel,i=e.depthPath,r=e.path,o=e.numberOfRows,a=e.numberOfColumns,s=[],l=0;l<o;l+=1)for(var u=0;u<a;u+=1){var c="";t.x=0===u?0:u*this.maxTileSize-this.overlap,t.y=0===l?0:l*this.maxTileSize-this.overlap,c=r+"_files/"+n+"/"+u+"_"+l+i+"."+this.tileFormat,null!=this.queryString&&this.queryString.length>0&&(c+="?"+this.queryString),s.push({url:c,x:t.x,y:t.y})}return s}},{key:"constructMesh",value:function(e){var t=this.constructCanvasMaterial(e),n=this.standardGeometry,i=new s.Mesh(n,t);return i.frustumCulled=!1,i}},{key:"constructCanvasMaterial",value:function(e){var t=new s.Texture(e);t.minFilter=s.LinearFilter,t.anisotropy=this.anisotropy;var n=new s.MeshPhongMaterial({color:16777215,map:t,opacity:1},{side:s.DoubleSide});return n.transparent=!1,t.needsUpdate=!0,n.map.needsUpdate=!0,n}},{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},{key:"repositionExistingMesh",value:function(e){e instanceof s.Mesh&&(e.position.z=e.position.z>-.5?-.5:e.position.z)}},{key:"pushMeshToView",value:function(e){this.viewManager.groups.optimisedMeshes.add(e),this.viewManager.projectionNeedsUpdate=!0}},{key:"releasePlane",value:function(e){e&&(e.userData.persistent||(oldCacheObject=self.loadedImgs.getObjectByKeyObject("mesh",e),oldCacheObject&&(oldCacheObject.locked=!1),e.position.z>-.5&&(e.position.z=-.5)))}},{key:"setMeshPositionAndScale",value:function(e,t){e.position.set(t.position.x,t.position.y,t.position.z),e.scale.set(t.scale.x,t.scale.y,t.scale.z)}},{key:"updatePlaneMesh",value:function(e,t){null!=e.mesh&&u.Helpers.disposeMesh(e.mesh),e.mesh=t,null==e.refMesh&&(e.refMesh=e.mesh),e.mesh.position.z=0,e.update(!0)}},{key:"constructPyramidSlices",value:function(e){if(e instanceof Array){var t=[],n=void 0,i=e.length;for(n=0;n<i;n++){var r=e[n].url;if(void 0===this.imageRequests[r]){var o=new p.default;o.x=e[n].x,o.y=e[n].y,o.url=r,o.onloaded(this.drawSliceToCanvas.bind(this)),t.push(o)}}return t}}},{key:"drawSliceToCanvas",value:function(e){e.context.drawImage(e._element,e.x,e.y),e.material.map&&(e.material.map.needsUpdate=!0),e.material.needsUpdate=!0,this.viewManager.projectionNeedsUpdate=!0,e.plane.loadedImg=!0}},{key:"calculatePictureOffsets",value:function(e,t,n,i){if(void 0!==t){var r=e.requestedWidth/n.width,o=e.requestedHeight/n.height;e.offset={},e.offset.x=t.x*r*i,e.offset.y=t.y*o*i,e.offset.width=t.width*r*i,e.offset.height=t.height*o*i}return e}},{key:"constructCameraFrustum",value:function(e){var t=this.viewManager.camera,n=new s.Frustum,i=new s.Matrix4,r=t.clone();return r.zoom*=e,r.position.x-=r.right/r.zoom/5,r.position.y-=r.bottom/r.zoom/5,r.updateProjectionMatrix(),i.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),n.setFromMatrix(i),n}},{key:"getWorldSpacePyramidSlices",value:function(e,t,n){var i=1,r=[],o={};i=t.scale.x/n.width,o={x:t.position.x-t.scale.x/2,y:t.position.y-t.scale.y/2};for(var a=0;a<e.length;a++)r.push({slice:e[a],x:o.x+e[a].x*i,y:o.y+e[a].y*i});return r}},{key:"filterSlicesByScreenSpace",value:function(e,t,n){var i={};i=this.constructCameraFrustum(.8);var r=this.getWorldSpacePyramidSlices(e,t,n),o=this.calculateSliceWorldSpaceDelta(r);r=r.filter(function(e){if(i.containsPoint(new s.Vector3(e.x+o/2,e.y+o/2,-1)))return e});var a=this.viewManager.camera,l={x:a.position.x+a.right/2,y:a.position.y+a.bottom/2};this.sortSlicesByCenterProximity(r,l),e=[];for(var u=0;u<r.length;u++)e.push(r[u].slice);return e}},{key:"sortSlicesByCenterProximity",value:function(e,t){var n=this.drawingManager.point_distance;return e.sort(function(e,i){var r=n(e.x,e.y,t.x,t.y),o=n(i.x,i.y,t.x,t.y);return r>o?1:r<o?-1:0})}},{key:"calculateSliceWorldSpaceDelta",value:function(e){return e=e.filter(function(e){return 0==e.slice.x}),e=e.sort(function(e,t){return e.slice.y>t.slice.y?1:-1}),e.length>=2?e[1].y-e[0].y:0}},{key:"transferExistingComposedMaterial",value:function(e,t){if(e instanceof HTMLCanvasElement&&t instanceof HTMLCanvasElement){var n=t.getContext("2d");n.imageSmoothingEnabled=!!this.forceBilinear,n.drawImage(e,0,0,t.width,t.height)}}},{key:"planeUpdateHandler",value:function(e){this.validateIntegrity(e,d.SetterType.Composed)&&(e.setterMemory[d.SetterType.Composed],e.mesh.position.set(e.position.x,e.position.y,e.position.z),e.mesh.scale.set(e.scale.x,e.scale.y,e.scale.z))}},{key:"planeDetachHandler",value:function(e){this.validateIntegrity(e,d.SetterType.Composed)&&(e.setterMemory[d.SetterType.Composed],e.mesh.parent.remove(e.mesh))}},{key:"planeCopyHandler",value:function(e){if(this.validateIntegrity(e,d.SetterType.Composed))return e.mesh.material.map.image}},{key:"validateIntegrity",value:function(e,t){return!(!e.mesh||e.mesh.userData.setter!==t)}},{key:"copyOntoCanvas",value:function(e,t){var n=e.copy();n&&t.drawImage(n,0,0,t.canvas.width,t.canvas.height)}},{key:"setComposedTexture",value:function(e,t,n,i,r,o){var a,s,l,c=this,h=[],p="";if(i>r.maxLevel&&(i=r.maxLevel,r.requestedWidth=r.width,r.requestedHeight=r.height),!(i<=this.maxAtlasLevel)){var f=this.createCanvas(r.requestedWidth,r.requestedHeight),m=f.getContext("2d");a=Math.ceil(r.requestedHeight/c.maxTileSize),s=Math.ceil(r.requestedWidth/c.maxTileSize),r=this.calculatePictureOffsets(r,o,t,n),void 0!==e.depth&&void 0!==e.depth[c.name]&&e.depth[c.name]>0&&(p="_"+e.depth[c.name]),h=this.calculateComposingTiles({currentLevel:i,depthPath:p,path:this.tileManager.tilesPath+this.getPath(r.source),numberOfRows:a,numberOfColumns:s});var g=void 0;e.mesh&&i==e.mesh.userData.zoomLevel&&e.setterMemory[d.SetterType.Composed]instanceof Array?g=e.setterMemory[d.SetterType.Composed]:e.setterMemory[d.SetterType.Composed]=[],0==e.setterMemory[d.SetterType.Composed].length&&(g=this.constructPyramidSlices(h),e.setterMemory[d.SetterType.Composed]=g),l=this.constructMesh(f),this.setMeshPositionAndScale(l,e),l.userData.zoomLevel=i,g=this.filterSlicesByScreenSpace(g,e,{width:r.requestedWidth,height:r.requestedHeight});for(var v=!1,y=0;y<g.length;y++)0==g[y].isLoaded&&(v=!0,g[y].level=i,g[y].canvas=f,g[y].context=m,g[y].loader=this.loader,g[y].plane=e,g[y].material=l.material,g[y].load());v&&(l.userData.setter=d.SetterType.Composed,null!=e.mesh?e.mesh.userData.setter==d.SetterType.Composed?(this.copyOntoCanvas(e,m),this.pushMeshToView(l),e.updateHandler=this.planeUpdateHandler.bind(this),e.detach(),e.mesh=l,e.detachHandler=this.planeDetachHandler.bind(this),e.update(),e.copyHandler=this.planeCopyHandler.bind(this)):(this.copyOntoCanvas(e,m),e.mesh.position.z=-.5,e.mesh==e.refMesh&&1!=e.mesh.userData.persistent&&u.Helpers.disposeMesh(e.mesh),this.pushMeshToView(l),e.updateHandler=this.planeUpdateHandler.bind(this),e.detach(),e.mesh=l,e.detachHandler=this.planeDetachHandler.bind(this),e.update(),e.copyHandler=this.planeCopyHandler.bind(this)):(l.userData.persistent=!0,this.pushMeshToView(l),e.updateHandler=this.planeUpdateHandler.bind(this),e.detach(),e.mesh=l,e.detachHandler=this.planeDetachHandler.bind(this),e.update(),e.copyHandler=this.planeCopyHandler.bind(this)))}}},{key:"getPath",value:function(e){var t;return t=this.tileManager.dataFile.substring(this.tileManager.dataFile.lastIndexOf(".")),e.slice(0,-1*t.length)}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.x=0,this.y,this.level=0,this.url="",this.canvas={},this.context={},this.request={},this.plane={},this.isLoaded=!1,this.loadedCallback=null,this.callbacks=[],this.loader=null,this._element=null,this._data=null}return r(e,[{key:"load",value:function(){null!=this.loader&&void 0!==this.loader&&this.loader.load(this.url,this._decode.bind(this))}},{key:"onloaded",value:function(e){this.callbacks.push(e)}},{key:"_decode",value:function(e){this._element=document.createElementNS("http://www.w3.org/1999/xhtml","img");var t=this;this._element.onload=function(e){e.currentTarget.onload=null,URL.revokeObjectURL(e.currentTarget.src),t._loaded(e.currentTarget)},this._element.src=URL.createObjectURL(e)}},{key:"_loaded",value:function(e){this.isLoaded=!0,this.data=e;for(var t=0;t<this.callbacks.length;t++)this.callbacks[t](this)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(122),s=function(){function e(t,n,o){i(this,e),this.name="",this.type=a.ShaderType.None,this.data="","string"==typeof t&&(this.name=t),"symbol"===(void 0===n?"undefined":r(n))?this.type=n:"string"==typeof n&&(this.type=a.ShaderType.resolve(n)),"string"==typeof o?this.data=o:console.warn("Attempted to instantiate GLSL shader without data.")}return o(e,[{key:"toString",value:function(){return this.data}}]),e}();t.default=s},function(e,t){e.exports="precision highp float;\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvarying vec4 instUv;\r\nvarying vec2 instSize;\r\nvarying vec2 _texSize;\r\nvarying vec2 insetValue;\r\n\r\nvoid main() {\r\n        vec2 newUv = vUv;\r\n        newUv.x = (vUv.x/instSize.x) + (1.0/instUv.z * instUv.x); \r\n        //The ternary at the end is to handle cases where a texture is full height and thus would be rendered incorrectly.\r\n        newUv.y = ((vUv.y/instUv.w) + (1.0/instSize.y)) + ((1.0 / instUv.w * instUv.y) - ( vUv.y < 1.0/_texSize.y ? 0.0 : vUv.y/instSize.y));\r\n        //This logic allows us to inset the pictures slightly helping combat bilinear filtering artifacts and black lines due to precision.\r\n        //Note the black lines here are unrelated to composed texture lines, which are due to the bilinear filtering on transparent textures.\r\n        newUv.x = vUv.x <= 0.5 ? newUv.x + insetValue.x : newUv.x - insetValue.x;\r\n        newUv.y = vUv.y <= 0.5 ? newUv.y + insetValue.y : newUv.y - insetValue.y;\r\n        gl_FragColor = texture2D(map, newUv);\r\n}"},function(e,t){e.exports="precision highp float;\r\nattribute vec3 iOffset;\r\nattribute vec3 iScale;\r\nattribute vec4 iUvs;\r\nattribute vec2 iSize;\r\nattribute vec2 texSize;\r\nattribute vec2 iInset;\r\nvarying vec2 vUv;\r\nvarying vec4 instUv;\r\nvarying vec2 instSize;\r\nvarying vec2 insetValue;\r\nvarying vec2 _texSize;\r\n\r\nvec3 applyTRS( vec3 position, vec3 translation, vec3 scale ) {\r\nposition *= scale;\r\nreturn position + translation;\r\n}\r\n\r\nvoid main(){\r\nvUv = uv;\r\ninstUv = iUvs;\r\ninstSize = iSize;\r\n_texSize = texSize;\r\ninsetValue = iInset;\r\nvec3 transformed = applyTRS( position.xyz, iOffset, iScale );\r\ngl_Position = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );\r\n}"},function(e,t){e.exports="uniform float delta;\r\nuniform vec3 color;\r\n\r\nvoid main() {\r\n  gl_FragColor = vec4(color,1.0);\r\n}"},function(e,t){e.exports="precision highp float;\r\nattribute vec3 iOffset;\r\nattribute vec3 iScale;\r\n\r\nvec3 applyTRS( vec3 position, vec3 translation, vec3 scale ) {\r\n  position *= scale;\r\n  return position + translation;\r\n}\r\nvoid main(){\r\n  vec3 transformed = applyTRS( position.xyz, iOffset, iScale );\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );\r\n}"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.level=0,this.url="",this.canvas={},this.context={},this.request={},this.isLoaded=!1,this.callbacks=[],this.loader=null,this.mesh=null,this.planes=[],this.indexMap={},this.allocMap={},this.stateMap={},this._counter=0,this._utilization=0,this._element=null,this._data=null}return r(e,[{key:"load",value:function(){null!=this.loader&&void 0!==this.loader&&this.loader.load(this.url,this.decode.bind(this))}},{key:"onloaded",value:function(e){this.callbacks.push(e)}},{key:"decode",value:function(e){this._element=document.createElementNS("http://www.w3.org/1999/xhtml","img");var t=this;this._element.onload=function(e){e.currentTarget.onload=null,URL.revokeObjectURL(e.currentTarget.src),t.loaded(e.currentTarget)},this._element.src=URL.createObjectURL(e)}},{key:"loaded",value:function(e){this.isLoaded=!0,this.data=e;for(var t=0;t<this.callbacks.length;t++)this.callbacks[t](this)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(22),c=n(3),d=n(2),h=n(6),p=n(19),f=n(56),m=n(79),g=n(120),v=i(g),y=n(5),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),b=n(773),w=i(b),M=n(389),x=i(M),S=n(391),E=i(S),T=n(776),C=i(T),L=n(777),D=i(L),A=n(778),P=i(A),k=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.type="Dynamic",i.data=[],i.overlap=1,i.atlasDepthPath="depth_files",i.dataDriven=!0,i._jobSeed=0,i.vertexShader=atob("ICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7DQoNCiAgICAgICAgYXR0cmlidXRlIHZlYzMgaU9mZnNldDsNCiAgICAgICAgYXR0cmlidXRlIHZlYzMgaVNjYWxlOw0KICAgICAgICBhdHRyaWJ1dGUgdmVjNCBpVXZzOw0KICAgICAgICBhdHRyaWJ1dGUgdmVjMiBpU2l6ZTsNCg0KICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2Ow0KICAgICAgICB2YXJ5aW5nIHZlYzQgaW5zdFV2Ow0KICAgICAgICB2YXJ5aW5nIHZlYzIgaW5zdFNpemU7DQoNCiAgICAgICAgdmVjMyBhcHBseVRSUyggdmVjMyBwb3NpdGlvbiwgdmVjMyB0cmFuc2xhdGlvbiwgdmVjMyBzY2FsZSApIHsNCg0KICAgICAgICBwb3NpdGlvbiAqPSBzY2FsZTsNCiAgICAgICAgcmV0dXJuIHBvc2l0aW9uICsgdHJhbnNsYXRpb247DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHZvaWQgbWFpbigpew0KDQogICAgICAgIHZVdiA9IHV2Ow0KICAgICAgICBpbnN0VXYgPSBpVXZzOw0KICAgICAgICBpbnN0U2l6ZSA9IGlTaXplOw0KDQogICAgICAgIHZlYzMgdHJhbnNmb3JtZWQgPSBhcHBseVRSUyggcG9zaXRpb24ueHl6LCBpT2Zmc2V0LCBpU2NhbGUgKTsNCg0KICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7DQoNCiAgICAgICAgfQ=="),i.fragmentShader=atob("ICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7DQoNCiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgbWFwOw0KDQogICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7DQogICAgICAgIHZhcnlpbmcgdmVjNCBpbnN0VXY7DQogICAgICAgIHZhcnlpbmcgdmVjMiBpbnN0U2l6ZTsNCg0KICAgICAgICB2b2lkIG1haW4oKSB7DQoNCiAgICAgICAgICAgIHZlYzIgbmV3VXYgPSB2VXY7DQoNCiAgICAgICAgICAgIG5ld1V2LnggPSAodlV2LngvaW5zdFV2LnopKygxLjAvKGluc3RVdi56KSppbnN0VXYueCk7DQogICAgICAgICAgICBuZXdVdi55ID0gKHZVdi55L2luc3RVdi53KSsoMS4wL2luc3RVdi53Kmluc3RVdi55KTsNCg0KDQoNCiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChtYXAsIG5ld1V2KTsNCiAgICAgICAgfQ=="),i.imageFailedB64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d15fFNlugfw3znZ2jRpuu8L3VcuIKsIOIAso4IyjssVnaui+HHU0XEBUUCEsriMOrjMjOM4XlFGh2F0YMBxQb2C7AWB0oW2dKcLbdN0SdNs5/4RekxpS5M0yelpnu9foTnnfZ+U/nLW9z0MAOy/8cZxLMu+C2ASCCEj3TEJcP+0XbtOM4dvvDHNwrJHAQQJXRUhxGFtYNlJrIVl14PCS4jYBHEWy3oWHDdf6EoIIc5jGGY+C4YJEboQQohLwlihKyCEuI4CTIiIUYAJETEKMCEiRgEmRMQowISIGAWYEBGjABMiYhRgQkSMAkyIiFGACRExCjAhIkYBJkTEKMCEiBgFmBARowATImIUYEJEjAJMiIhRgAkRMQowISImFboAX8HK5fCLjgZnsaC7rg7gOKFLci+GgX9sLBiJBIb6eliNRqEr8gkUYA9jZTIk3HUXIhcuhMTPDwBg1GpR87e/ofGLLwSuzj2iFi5E/B13QBYcDACwGAxo+Pxz1Hz0Eawmk8DVjW7MD4sXj7JNwcghUSqRtWYNArOzB3y/Ye9enH/nHfFujRkGycuXI+r66wd8u72wEEUbNsCi13u5MN9Bx8AeIlWpkP3CC4OGFwCirr8eKQ8/DDCMFytzkyHCCwCB2dnIzcuDTKPxYmG+hQLsAfLgYORu2gR1evqQy0bOm4fURx4RV4gdCG+vgJQU5G7aBEVYmBcK8z0UYDfzi4xE7pYtUCYmOrxOxHXXIf2JJ8CwIvjvYBikPvqoQ+Ht5R8Xh9zNm+EXE+PBwnyTCP5ixEMZH2/7Q42KcnrdsFmzkPbEE2AkEg9U5h4MyyL1N79BxNy5Tq+riIjA2M2bEZCU5IHKfBcF2E1UqanI2bQJ8tBQl9sImzlzxIaYD++cOS63IQsKQk5eHtSZmW6szLdRgN0gMDcXORs2QBYYOOy2wmbMQPqTT46oEDMsi9THHkP47NnDbqv35F7Q+PFuqIxIlmVkrBO6CDELnjwZWc89x1/jdQdlQgKU8fFoPXxY8EtMDMsi7be/Rfi117qtTVYqReiMGeiuqUF3ba3b2vVFFOBhCJsxAxkrVoCVydzetjI+HgGJiWg5fBiwWt3eviMYqRQZK1Yg9Jpr3N+2RILQq6+Goa4O+upqt7fvK2gX2kXKxESkPv64R3d1Q6ZNQ8bKlWCk3r9hjpFKkbFyJUKmTfNcHxIJUh9/HMqEBI/1MdpRgF0Uc/PNHtnyXi5kyhRkrlrllb56sTIZMletQsiUKV7pK+bmmz3ez2hFAXaRIzdpuEvwpEnIWLUKrFzu8b5YuRwZq1YheNIkj/fVS5WW5rW+RhsKsIu8fZN+8MSJyHz2WY+GmJXLkfnsswieONFjfQyEM5u92t9oQgF2ke70aa/3GTRhArJWrwarULi9bVahQNbq1QiaMMHtbQ9FiN/laEEBdtGFTz+FSafzer+aceOQtXYtWDdetmL9/JC1di0048a5rU1HmXQ61H32mdf7HS0owC4yarUo3rgRlu5ur/etyc1F9tq1brn2LPHzQ/batdDk5rqhMudYurtRnJcHk1br9b5HCwrwMHSUlKBw3TpBQhyYk4PsF16ARKl0uQ3Wzw+Za9YgMCfHjZU5xtrTg6K8PHScO+f1vkcTCvAwdRQXo2j9elgMBq/3rc7MRE5eHqQqldPrSpRK5LzwgiBbXqvRiKING9BeUOD1vkcbCrAbtBcWonjTJkHmgVKlpCBn/XqnQixRKpG9bp0ggwo4sxklW7ZAd+aM1/sejSjAbqI7dUqwEAekpCBnwwZI1eohl5UGBCBn/XqoMzK8UFlfnNmM4i1boM3P93rfoxUF2I3aTp5E8ebNgkzkFpCcPOSIqN6RQELcOMFZLCh58UVojx3zet+jGQXYzdpOnMC5V14BZ7F4ve+ApCRkr18/YIgFDa/VitLXXkPr0aNe73u0owB7QOvhw4KGOHfzZsgvTfEKADKNBrkbN0KVmur1enrD27x/v9f79gUUYA9pOXgQpa++Ck6AoYD+cXHIycuDPCQEMo0GORs2QDlmjNfrAMehbOtWNH//vff79hE0L7SHRcydi9RHHxVk1snewfL+cXFe7xsch7I33kDTvn3e79uH0JMZPKxp3z7bTI4CTB0rSHABgONw/p13KLxeQLvQXtD09dcof/ttwafH8QqOQ8Wf/4yGvXuFrsQnUIC9pPHLL1Hxl78IXYbHVW3bhvo9e4Quw2dQgL2ofvduVL73ntBleEz1hx+ibudOocvwKRRgL7vwr3+hZvt2octwu+rt21G7Y4fQZfgcCrAAaj75BLV//7vQZbjNhU8/Re0nnwhdhk+iAAuk+qOPUPuPfwhdxrBd2LULle+/L3QZPosCLKDqbdtQ989/Cl2Gy+p370alD5yYG8kowAKr+uADUV5yafzqK584qz7SUYCFdummh4bPPxe6Eoc1ff01yt96yzeua49wFOCRgONw/k9/QuMXXwhdyZCavvkGZW++SeEdISjAIwXHofwPf8DF774TupJBtfzwA8opvCMKBXgk4TiU/f73I3L0TsvBgzj3u98JMkSSDI4CPMLw42cPHBC6FJ6Q45vJlVGARyDOakXpq6+OiBkshJxhhAyNAjxCcRYLSl97DebOTsFqMHd2ouTllwWZ44s4hgI8QjESCdJ++1uX5nx2F6lKhYynn/bqo02JcyjAIxDDskh74gmvPJ93KEFXXYX0p57y6IPMiesowCMMw7JI++1vETZjhtCl8EKmTaMQj1AU4JGEYZD62GMImzVL6Er6CZ0+HelPPkkhHmEowCMFwyDloYcQ/rOfCV3JoEKvuQYpAsztRQZHAR4JGAbJDz6IyAULhK5kSBFz5ggyQR8ZGAVYaAyD5OXLEfXznwtdicMirrsOKQ8/TCEeASjAAkv81a8Qdf31QpfhtMh585C0bJnQZfg8CrCAEu6+G7G/+IXQZbgsetEijKEQC4oCLJCEpUsR98tfCl3GsMUsXowx99wjdBk+iwIsgPjbb0fcbbcJXYbbxCxZgrjbbxe6DJ9EAfaymJtuQvyddwpdhtsl3Hkn4m69VegyfA4F2IuiFy3CmPvuE7oMj0m46y7E3nKL0GX4FAqwl0TOn+8TZ20T774b0TfcIHQZPoMC7AUR112HlF//2jeumzIMkh54QJSXxsSIAuxhEXPnCnbnUndtLf+MYK+6dHNKxNy53u/bx1CAPShsxgzB7h3urq3F2dWrUfDss9BXVXm9fzAMUh99FOGzZ3u/bx9CAfaQ0OnTkfbEE2BY7/+Ku2trUbB6NYxaLUw6Hc6uWQN9ZaXX6wDDIPU3vxmRo6tGCwqwBwg5frarogIFq1bBpNXyPzPpdCh47jl0lpV5vR5+fPPMmV7v2xdQgN1MyBksuioqULh2LUzt7f3eM3d2onDtWnSWlnq9rt4Qj4QZRkYbCrAbBU2YgMxVqwSZQ6qrvBxn16wZMLy9zF1dKHz+eXScO+fFymwYiQQZK1ciePJkr/c9mlGA3UQzbhwyn30WrFzu9b47y8txdu1amDs6hlyWD3FJiRcq64uRSpH5zDMInjjR632PVhRgNwjMzhYuvGVlKFy71qnpZy16PQrXrUNHcbEHKxsYI5Ui45lnoBk71ut9j0YU4GFSZ2Yia+1aSPz8vN53R1ERzq5Z49Lc0Ra9Hmeffx66ggIPVHZlrFyOrDVrEJib6/W+RxsK8DCoMzORvW4dJP7+Xu+7/exZFK5bB4te73IbVoMBxRs2oP3sWTdW5hhWoUDW6tVQZ2Z6ve/RhALsosDsbORs2CBIeHUFBShcvx4Wg2HYbVkMBhSuXy/Illji74+cDRugzsryet+jBQXYRbG/+IUgx7y6U6dQtH49rG4Iby+rwYCi9euhO3XKbW06ipXLRT0ridAowC7yi431ep9tJ0+iKC8P1p4et7dt7elBUV4e2k6edHvbQ/EX4Hc5WlCAXWRqa/Nqf9r8fBRv2gSr0eixPqxGI4o3bYI2P99jfQzE27/L0YQC7KKmr7/2Wl/a48dRsnmzR8Pby2o0omTzZmiPH/d4X728+bscbSTLMjLWCV2EGHVVVMDS3Y2g8eM9Otqo9ehRlGzZAs5s9lgfl+OsVrQcPIiApCTP7t5yHCr/+lc0/Oc/nutjlKMAD0NHSQnMXV0Ivuoqj7SvPXYM5156yavh5V0KsTIhAcr4eI90UbVtGy58+qlH2vYVFOBh6rx0X7G77yxqOXgQJUKFtxfHofXgQfhFRyNgzBi3Nl2zfTtqd+xwa5u+iALsBu0FBWDlcgRmZ7ulvZYffsC53/0OnMXilvaGheOgPXIEflFRbgtx/a5dqNq2zS1t+ToKsJvoTp2CxN9/2HcWNR84gNJXXx0Z4e3FcdAePQq/yEgEJCUNq6mGvXtR8ec/u6kwQgF2o7ZTpyAPDoYqNdWl9Zv370fpa6+NrPD2uhRiRUSEyyFu+uYblL/9tpsL8210GcmdOA7lf/gDmr//3ulVm7//fuRteS/DWa0o27oVTfv2Ob1uy8GDKH/zTYDjPFCZ76ItsAe0HjkCZXw8lAkJDi3f+NVXKNu6VTR/3K1Hj0IWGAhVWppjyx85gnMvvzyiv5zEirbAHsBZrTj36qsO3QzR+OWXKH/rLdGEFwDAcTj/zjuo37NnyEXbfvwR5155hcLrIRRgD+HMZpS8+CJ0Z84Mukz9nj22Y0IxhbcXx6Hiz39Gw969gy6iO3MGxRs3euUOMl9Fu9AexFksaNm/H6xMBmVSElipFABg1GpR+de/ovbvfxe4wuHT5ufDqNVCnZrKD620GAyo370b5W+8AavJJHCFoxvzw+LFIvz6Fx9WLodfdDQ4sxndFy6Ic6t7JQwD/9hYMBIJDPX1tNX1EqnQBfgKq9EozBMSvIXjhHmMi4+jY2BCRIwCTIiIUYAJETEKMCEiRgEmRMQowISIGAWYEBGjABMiYhRgQkSMAkyIiFGACRExCjAhIkYBJkTEKMCEiBgFmBARowATImIUYEJEjAJMiIhRgAkRMQowISJGASZExCjAhIiYzwdYGR+PmCVLEDR+vNClEOI0n58XOu3JJxGQlATOasXxe++Fqa1N6JIIcZjPb4FlgYEAAIZlIVOrBa6GEOf4fIAJETMKMCEiRgEmHsFIJPCPiwMj9fnTLB5Fv13idhKlErkbNyIgORmG+nqcfuopmDs7hS5rVKItsBvJQ0Ig02gAhnFqPWlAABQREfzzdd2FVSggDw2FTKMBw7rvv5qVy6EIC4NUpRrw/dTf/AYByckAbM9IdgrDQBYcbPs9kiHRFthByQ8+CHloKKo//BD66moAACuTIWzmTEQuWICA5GSwcjkA2wOu2wsK0PD559AePz5ge8rEREQvWoTgSZMgDw7mf27R66ErKEDTvn1oPXLEqecIs3I5Qq+5BqFXXw11ZmafEHBWK7rOn0fbyZNo2LMHRq3Wqc/vHxeH6BtuQPCkSVBERPA/N3d2or2gAE3ffIPWo0cRMmkSQq++GgBgbG1F4QsvDLn1VaWlIXzWLARPngxFZCT/ZcNZLNBXVUGbn4/GL79ET1OTUzX7Ap9/wPek996DPDQUAPDjI49AX1NzxeV0p07h7Nq18I+JQfqKFQhISrpi+y0HD6L09ddh7emx/YBhEH/77Yi7/fYht4rtBQUoefFFmNrbh/wcYTNnYsyyZX2+DAZjNRpR9b//i/p//3vIZRmpFGPuuw/R118/5J5FZ2kpZEFBUISHw6LX48yqVdBXVg66vCIiAknLliFk2rShazaZUP/vf6N62zbnt+qjGG2BnaRMSoJ/bCzGvvQSvwtpam9HZ0kJzJ2dkKpUUGVk8NeXQ6dPByuToWjjRgBA+hNPIGzWLL49Y0sLOktLYenuhiwoCOqsLEj8/AAAgbm5yNmwAaeffvqKT7wfc999iLnppp9+wHHoqqyEvroaVoMBrFwO/7g4BKSkgGFZsHI5kh54ALLAQFRv3z5ou6xMhqznn4dm7FhbsxYLWg4dQvuZMzC1t4NVKKBKTUXYzJmQaTRQpaUBsIWteOPGK4ZXnZmJzGef7bOXoK+qgu7MGZi0WoBloYiIQPBVV0EeGgpWJkPskiVQJSejePNmWLq7B23bl1CAnSRTq5G1ejWkKhWMra2o/eQTNH79NTizmV+GYVlEzJ2LpOXLwcrlCJ48GRGzZ0MWHMyHt7u2FtXbt6Pl4ME+u8msXI6Ym25C/J13gmFZKMeMQfwdd6Dqgw8GrCdq4cI+4W386ivU7dgBQ2Njv2UV4eFI/NWv+BribrsNuoIC6E6fHrDtpOXL+fDqKytRvGULDPX1fZa5+O23qNq2DUnLliFy/nwAgLWnB90XLgz6OwxISkLO+vVgFQoAti13xbvvoqO4uN+yDMsifM4cJN1/PyT+/tCMG4eURx7BuZdfHrR9XyJZlpGxTugihBRz002QKJUAgIa9ewfdXeWXYxhI1WroKytR8Oyz0J05A1itfRfmOHSdPw99VRUfFlVaGkKmTAHDsmg7eRKFzz+PrvPn+/XDWSxoLyyEpasLwRMnArAdL9fv2dPnS6JX+tNPQ6pSgTObUf7mm6j95BOYu7oG/AwWvR4thw5BFhwMVWoqwDDwj45G09df91tWlZKClIceAhgGxtZWnFm5Esbm5gHb5cxmaI8dg190NALGjAErl0MWFITWw4f7LStRKpGTlwdZUBAAoPn771G0cePgx7eXfpdtJ04g/Gc/AyuVQpmQgO4LF6Cvqhp4HR9CZ6FdYGxtRcFzz8HY2nrF5VqPHkXbjz8CAOShoWAkEnSWl6Now4YhdwHr9+xBd10dANtZ6qBLW8KBagGAyvffR9O+fQ7VX/X++zB3dACw7coOdNwcuWABf8xbu2MHTDrdkO1Wvvcev6sfNnMmfxhhL2bxYvhFRQEA2s+eRenrrw/4xXS5rvPnUfnuu/y/4267zemz/aMRBdgF5//4R4evazbv38+/5iwWlG3d6thJGI5Dy4ED/D9VGRkDLla8aRPO/+lPDp2Q6mXp7v7p7DjDQJ2V1W8Zjd3orIG2pAMx6XRoP3vW1qxEgsDc3D7vS/z8EL14MQDbWfHyt95y6oRU0759MDQ0ALCNIgscoG5fQwF2QduJEw4v21Vezr82trRc8cTO5TrtdrEVYWEDLmPu6EDD3r1OXW4C0Odse+/uLI9hoLh0Zt5qNA65p2HP/hhZflnNmvHjIQ0IAABojx7l9zAcxVmtaD106Kf2xo1zav3RiALsYcZhDE+0320d7KYJV1nsjpOll84B9HFp95SRSJzaVWUkEv611WDo8579mOvWo0cdbtNeZ1kZ/7r3rLcvo7PQHnb5H7FT69pdOmJkMofXY1gW/gkJUKelwS86GorwcCjCwyFRKsEqFJCqVGDt27s8oBwHQ2Mj/GNiwEgkUCYmOrzn0HsHFoB+W1j/uDj+dciUKVAPclhwJbKQEP61/PI9Bx9EAfY0J3dtXcYwCL7qKoTPmYPgSZP4a8mu0h4/Dv9Lx6uR8+ej4p13hlwnICnJdnYbgKmtDR1FRX3et7/m68jNG0OR0vhtCvBooEpLQ/JDD0GVktLn55zZDH1NDYytrTC3t8Ok08HU1gazXg9Vaip/3XYg9bt3I2rBArAKBaIWLkRbfj60+fmDLi9RKpH62GN9zlxzl11e673VFIDtUtcwv9wGum7sayjAIqcZNw5Zq1fz4TC1t9vuoz50CJ1lZYOe5WWGOK7taWpCxV/+gpRf/xqMRILM555Dzccfo37XLlguOyzQjBuH5OXL+V3ktpMn0fD55/3aNLW385eQfnz0URhbWpz+vKQvCrCISZRKZKxcyYf34nff4fyf/gSLXj/kuo6M02384gtIFAok3nsvGIkECUuXIu7WW9FZVgaTVgtWLkdAcjJ/LzkAaI8dw7lXXhnwi8M+sP5xcRRgN6AAi1jkvHn8ZZn2ggKUvv66w7ulivBwh5a7sGsX2ouKkHjPPdDk5oKVyxGYnd1vOUNDA2p37LDdTDJIDe0FBfxIpZDJk6E7dcqhGsjgKMAiZn/Gt+GLL5w6pgy6dJumIzpLS1Gcl4fxb7wBRXg42gsLYdJqYdLpYGxthe7MGXSeO9fvmPdy2vx8JN1/P8AwCJ89GzUff+zSQH9WJoPVZHJ6vdGIAixi9md1TU7cbBE6fTqU8fFO9RU5bx6/1a78y1/6XI91lKG+3jZmeOpUSFUqJN5zD8rffNOpNiRKJca9+iq6KipQ8tJL3jvLP0LRjRwiZn+HlNJua3wlyoQEJD/0kNN9+UVH86/Df/Yzl+e6qt6+nT8+jpw3z3ZPs4Mkfn5If+op+EVHI3T69D41+SoKsIi1nTzJv4775S+v/AfNMAi/9lrkbt4MWWCgU7d0AkDrsWP81i560SJMfOcdpDz8MMJmzXJoEoFe+spKVNgNSkhYuhQZK1b0meVjIAFJScjdsoUfoWVoaKAZOkC70KLWcvAguioqEJCUBJlGg3GvvYaGvXvRfvYsPx5YHhQEdXY2wq+9lr/M0/TNN9AeO4aMlSsd6kedng51erptwoJLN0/IQ0MROX8+fy25u7YWbT/+iNZDh9BeWHjF4+GGvXshCwxE/B13AAyD0GuuQcjUqdDm50N3+jR6mppg6emBVKWCf2wsgsaPt504u3Tpy9TejuLNmx0axTTa+XyAObtjqCv90fHvcdyQJ2sGXG+I9gdkv/wA63IWC4o3bkT2Cy/APzYWEn9/xN5yC2JvuWXg5oxG1Hz8MS58+imUQ0wFBNjulkq4804oExOHXNY/Ls42b9aNN8LY0oK6f/4TDXv3DvqZaz7+GF2VlUhevtw21FIqRcjUqQiZOvWK/ehOnULZm2/S1vcSnw+w9uhRRC5cCH1FxYCzWPDL5ecjasECaE+ccGoInNVohO70aWjGjh10grvBdNfXo7uuDn5RUYPeBdVz8SJOPf44Ym66CRHz5sEvMrLfMsaWFjQfOIDG//yHnymjq7wczfv3I2Tq1H5jfRmWRcrDDyPiuuv6tNF65Ag6iothaGyEob4eEn9/BObkIDA3F8ETJ/In1eShoUh64AGEXn01ijdtGnSCgdbDh9F24gQi589H2MyZUKWnDzhPmEWvh/b4cTR+9dWgs4f4Kp+f1G60kYeGwi86GlKlEqaODhgvXkRPS4tTZ2uTH3wQUddfD8A2XLHy/fdx8dtvr/zFxTBQp6cjYu5cRFx3HT8qqeXQIZRs2eJQv727zDKNBoxMBotej56mJtuXjo+fbR4MBZj0oUxIwPitWwGGgUmnw5lnnoHhCvNbDSQwOxvZ69fzI55OPvwwumtrPVGuz6Oz0KSPkKlT+ZNFdTt3Oh1eAGgvLOwzE8nlgyyI+1CASR8yu0tCXU5earLH2d0pZaWzxR5DASZ9mO1OaPWO7XWWVKX6abzvpVkliWdQgEkfWrv5vuLvuAOh06c7tX5AUpJt2thLZ6Rbjx7tN5c0cR+fv4xE+uosLUXz/v0ImzkTrFyOjJUr0VlejtbDh9FVXg5TezvMnZ0wd3RAqlJBptFAqlYjYMwYBE2YgMCcHP4YWl9Tg7I33hD4E41uFGDST9nWrbB0dyNy3jyAYaBKSXHqRBRnsaBp3z5UvvcePQLFw+gyEhmUMjERkfPmQTN+/JCjl6xGIzrLytB24gQufvcdei5e9FKVvo0CTBzCyuVQRERAHhICRiKBRKmEubMT1p4eGFtbbYGlmy28jnahiUOsRiO6a2vphowRhs5CEyJiFGBCRIwCTIiIUYAJETEKMCEiRgEmRMQowISIGAWYEBGjABMiYhRgQkSMAkyIiFGACRExCjAhIkYBJkTEaDihiAUkJyN02jSYOjvR+MUXsPb09FtGHhqKqIULoa+u7jPVq9gEZmcj6KqroD16FB3nzgldzohBAb6ElcvByuUur89ZLF6dPoZVKJCTlwdpQAAAQBYYiOoPP+y3nCo1lX+Ep7mzs88TDcUk9JprEH3jjYi+4QbkP/CASw8GH40owAyDjBUrEHr11fxkbK7SV1Xh9JNPeuXp8TKNhg8vAPjHxAy5TmBurmgD3EuiVCIgJQW6U6eELmVE8PljYFVysm3q1GGGF7DNISVz4lm5w2Fsbv7pGb8cN+jDz+z1TvUqdqPlc7iDz2+BWX9//rWluxudwzi+6qqo8NpkbpzVitMrV0KdmgpjW5tDU90wbviSIiOLzwfYnqGhAWfXrhW6DIdZDQboCgqELoMIyOd3oQkRMwowISJGASZExOgY2MvUWVkImjAB6rQ0yIKDIfH3h6W7G8bmZrQXFaH10CHbE+kd4BcVhfDZs2FoaMDFb791b6EMA1VqKkKmTkVAcjIUoaFg5HKYdToYmprQduIEtMePu3w9VqpSIWTKFARNmABFRARkGg2sZjOMFy+i49w5tBw69NNZdjIoCrCXBE+ciMT/+R8oExMHfD8gKQnBkycj8e670XzgAM7/8Y9DhiNh6VKEzZoFAOgoKXHpYdwD0Ywdi8R77hn48aIxMVBnZSH82mth0etR9+mnuPDppw5f+2b9/BC7ZAlibr4ZEj+/fu8r4+MRdNVViL/jDmjz81H+1lswtrQM9yONWhRgD2NYFmOWLUP0jTf2+TlnNqOnuRmc2Wx7yl9Q0KUVGITNnAlVejoKVq264h+vxO5GDvubOlwvlkHCXXch7pe/7PNjY0sLDPX1sBgMkAcHQzlmDP94lYSlSxE0YQKKN24c8gtHHhyMrLVrEZCczP+Ms1rRXVODnuZmMCwLeWgo/OPiwLAsgidOxPitW1Hy4ovD/2yjFAXYwxLuvrtPeFuPHEH9nj1oP3sWnN2T6xXh4QifMwexv/gFJH5+8IuMRMYzz+DMihVee+ZQysMP255ICAAch4v/93+48Nln6Kqo6LOcRKlE1IIFiLvtNkiUSgRmZyPr+edR8Mwz4CyWAduW174i2AAACABJREFUqlTI3bIFflFRAGzX3Gt37EDT11/DZPdQ8d5lI+bMQeytt0IWGIiMZ54Z1vX50YxOYnmQPDQUMTfdBMC2xS3buhXFmzZBd+pUn/ACQM/Fi6j95BOcWbkSFr0eAKBOT0fYjBleqTXq5z/nw2vt6UHxli0ofe21fuEFwO86n1mxAsbWVr7WhKVLB20/9bHH+PAaGhpw6vHHUbdzZ7/wArZ7ti/s2oUfH3kEHcXFkAYEIGjCBHd8zFGHAuxBEn9/MBIJAODcK6+gad++IdfRV1ai8v33+X9HzJ3rqfJ4sqAgjLn3Xts/OA4lL7+M1sOHh1xPX1ODkpde4vcQohctGvA2x6AJExAyZQoA25a38PnnYWhoGLJ9k06HwhdegL6qyolP41toF9qOxN8fmnHjHF7e3NmJrvLyQd/vrq1F+dtvQxEejpZDhxxu9+K33yLp/vvByuUIzMkBI5EMumvqDrFLloBVKAAAjV99Be2xYw6v21FUhOYffkDYjBlg5XJELliA2r//vW/7dsfU1du3OxTeXha9HqWvvYb/evVVMCxtby5HAbbjFxWFnPXrnVqn9PXXr3gJp/GLL5yuw2o0Ql9dDVVqKli5HNLAQJi0WqfbcQjDIHz2bAC2E0q1O3Y43cTF777jd/WDJkzoE2CZRgNNTg4AWxibvvzS6fa7KirQcvCg1w4nxIS+0obJLWd/B2Bub+dfy1Qqj/QB2EZj9e72dhQXo6epyek22s+e5V+r09PBSH/aLmjGjuVHeulOn4bFYHCpTme22r6EtsB2jFot6nfvdnz51la0HDjgUl+MVAplQgIUERFQhIdDHhwMqUoFVqGAxM8PAfbXYD2462jfj6W7G6HXXONSOxaDARI/PzBSKWQaDX/5S5mQwC/TUVIyvGJJPxRgO6a2NtTt3Omx9v1jYxE+ezY0Y8ciICUFrEzmsb4cZX/SKXjiRARPnDj8NgMD+QBL7do3euowwIdRgL3APy4OSfffP+ilEIteD2NbG8w6HUzt7TB3dEAzbhwU4eEer83thwAc12duLondeOuB5uwiw0MB9rCQadOQ8fTT/HGh1WSy3Ud87Bg6y8qgr6npd00YALLWrPFKgO3vnqrbuRMtP/wwrPaMbW197h6zb384XxY0GcHAKMAepExMRPpTT/Hhbd6/H5V//atD9/Z665KJqa3NrlMGnVe4LOZS+3Y3aigu3cjhCqkHT+SJGZ2F9qC4W2/lj3Mvfvstzv3udw7fmO+tubXsp2gNGj/e7e13lZXxrzW5uS63Y38yjPyEAuxBmrFj+dfVH37o8D3NUrXaa3+w+upq/kslIDkZqpQUt7Zvf8+3OiMD/nFxTrehiIiAOjPTrXWNFhRgD+m9nALYLrH0NDc7vG7UwoX8LZgex3FosLvZZMyyZS7tvkdcdx3SHn+83xBBi8Hw011oDIP4//5vp9tO/NWv3DJr6GhEAfYQzmyG1WgEAEgUCoeP4VRpaYi79VZPltZP/e7dMHd0AAACc3Iw5r77nFpfnZGB5AcfRPjs2YiYP7/f+7U7dvB7H2EzZjh1f3f0okUImznTqXp8CQXYg9qLimwvGKbfGNuBhEyZgux168AqFF598oBFr0fp73/fZ1BC+lNPOfSlE37ttcjJy+OfamG6NDrJnr6qCnX//Cf/75RHHkH0DTdccavKymQYc++9SFq2DAD4UU+kLzoL7UH1u3bxJ4ZiliyBNDAQF/71L3TX1vKDE6QqFTRjxyJywQL+OvGFzz6DPCSEn23DG7THjqHivfeQdN99/KQCwRMnovHLL6E9dgz62lqYdDpI/P2hCA+HOjMTEXPm9Dk2bT5wAM2DXIaq/ugjBCQnI2jCBDAsi6TlyxE2axYa9u5F2+nTMGm1YKRS+EdHI3jyZETdcAMUYWEAgIbPP4dFr0fsLbd45XchJhRgDw6W1+bno27nTv4PL2LuXETMnQvOYoGxtRUSPz9I1eqfSrFYUPePf6D6b3/DmHvucU8RTny++l270NPYiNTHHoM0IAASpRIxN9+MmJtvHrKPC599hqpt2wbtj7NYUJSXh5Rf/5rfhVZnZvJfAFaTqf+daRyHus8+Q/UHHyD+CmONfZnPB7inqQmcxQJGIkF3XZ3b26/64AN0nT+P+KVL+ecXMRJJn5s0OLMZ2hMnUPPxx/zwxOYDBxB1ww22P+pBQmGorwdg++Mf7IkQhsZG2/oM49Bkea1HjuDE8uWIWbIEkfPnQxYYOOiyVqMRLYcOoW7nTofG7PZOatD8/fdIuOsuqNLS+Pf6hJfj0F5UhJqPPuInru9pbPzpM7lp7q/RgPlh8WLvzNcygvlFRkIeFobO0lL+xJPbMQxUKSlQpadDHhICVipFT2srjM3N0J0+PeAxrzw0FDKNxjYrxgAhZqRSqNPT0dPcfMVRRP6xsZCq1bbBBM7scTAM1GlpUKWnQxYUBFlgoO22T50OXefPo7OkxOXRRYBt+GbvLaNStRqmtjbb7+PMmf6jjy7VYunuhr6mxuU+RxsKMCEiRmehCRExCjAhIkYBJkTEKMCEiBgFmBARowATImIUYEJEjAJMiIhRgAkRMQowISJGASZExCjAhIgYBZgQEaMAEyJiLACT0EUQQlxiZAEUC10FIcQlRSyAPwhdBSHEeQzwNsMBzMHFi98F4NxkwIQQ4XDcu9N3717OT8x7YNGin7MMc7sViBWyLkLI4BiGqWU47pPpu3b9BwD+HyzKxwk/UB/gAAAAAElFTkSuQmCC",i.mortonLayoutCache={},i.firstLoadComplete=!1,i.firstSetComplete=!1,i.dirtyLayers={},i.preFetch={},i.allImages=[],i.sizes=[],i.standardExecutor=i.defaultExecutor,i.seed=0,i.drawDebugInformation=!1,i.mapCompleteTexture=!0,i.useVarianceMapping=!0,i.virtualizeSVG=!1,i.webWorkerLoaders=!0,i.denseRenderMode=!1,navigator.userAgent.indexOf("Trident")>=0&&(i.virtualizeSVG=!0,i.webWorkerLoaders=!1),i.textureSize=1024,i.textureStore=m.PerformanceManager.createStore("DynamicTileStore"),i.imageLoaderStore=m.PerformanceManager.createStore("DynImageStore"),i.imageLoaderStore.policy.hardLimit=150,i.imageLoaderStore.policy.softLimit=100,i.vMemLimit=640,i.vMemTarget=384,i.textureStore.policy.hardLimit=i.calculateTexturesPerMB(i.vMemLimit,i.textureSize),i.textureStore.policy.softLimit=i.calculateTexturesPerMB(i.vMemTarget,i.textureSize),i.textureStore.policy.enforceLimits=!1,i.textureStore.policy.automateGC=!1,i.disposalImage=null,i.indexingCache={},i.materialMap={},i.visionMap={},i.rVisionMap={},i.textureFilter=_.NearestFilter,i.deferredRenderChain=[],i.deferredPriority=!0,i.maxWorkload=1e3,i.maxJobTime=1e3/60*.8,i.aspect=2,i.picInfo={width:256,height:256},m.PerformanceManager.initStatistics(),i.coreNode=m.PerformanceManager.createMonitor("dynamictilemanager"),i.paintProbe=i.coreNode.createProbe("DT.paint_tiles","rendering"),i.mapProbe=i.coreNode.createProbe("DT.map_planes","rendering"),i.jobProbe=i.coreNode.createProbe("DT.execute_job","rendering"),i.imageless=!0,i.dataEngine=null,i.imageWorker=null,i.urlResolver=document.createElement("a"),i.customSizeDefinition=!1,null!=e&&null!=e.sizes&&(i.sizes=e.sizes),i.sizes.length>0?(i.validateSizesDefinitions(),i.customSizeDefinition=!0,i.sizeDefinitions=i.sizes):i.sizeDefinitions=[{size:4,name:"small",threshold:0},{size:16,name:"small",threshold:8},{size:64,name:"medium",threshold:32},{size:256,name:"large",threshold:128},{size:512,name:"large",threshold:320},{size:1024,name:"large",threshold:640}],i.textureSetter={},i.textureSetter.blank=new E.default(i),i.textureSetter.atlas=new x.default(i),i.setTextureSize(1024),d.Events.on("core.render",i.processChain.bind(i)),d.Events.on("core.postrender",i.postRenderCallback.bind(i)),i}return a(t,e),l(t,[{key:"getDefaultSetter",value:function(){return this.textureSetter.blank.setBlankTexture.bind(this.textureSetter.blank)}},{key:"buildDataBundleFromDataStore",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].datastoreIndex]=getItemById(e[n].datastoreIndex);return t}},{key:"setTextureSize",value:function(e){this.textureSize=e,this.textureSetter.atlas.maxTileSize=e}},{key:"validateSizesDefinitions",value:function(){for(var e=1/0,t=0;t<this.sizes.length;t++){if(void 0===this.sizes[t].size)throw Error("A size definition was passed without the size value. (eg 64)");if(void 0===this.sizes[t].name)throw Error("A size definition was passed without the size name. (eg. medium)");if(void 0===this.sizes[t].threshold)throw Error("A size definition was passed without the threshold. (eg. 8)");if(this.sizes[t].size&this.sizes[t].size-1!=0)throw Error("Tile manager init failed. Provided sizes must be a power of two. Your images will be stretched to this space but retain their aspect ratio.");if(this.sizes[t].size>this.textureSize)throw Error("Size definitions cannot be larger than the base texture size. Currently set to "+this.textureSize);this.sizes[t].threshold<this.sizes[t].size/4&&this.sizes[t].size>32&&p.Log.warn('The size for "'+this.sizes[t].name+'" has a low threshold of '+this.sizes[t].threshold+". This configuration is not recommended and can result in an unstable Zegami experience."),e=e>this.sizes[t].size?this.sizes[t].size:e}e>=64&&p.Log.warn("The smallest provided size definition is very large. This configuration is not recommended and can result in an unstable Zegami experience with larger collections.")}},{key:"calculateTexturesPerMB",value:function(e,t){return Math.floor(e/(t*t*4/1048576))}},{key:"postRenderCallback",value:function(){f.DrawingManager.deferredUpdates=!1}},{key:"relativePathToAbsolute",value:function(e){return this.urlResolver.href=e,this.urlResolver.href}},{key:"buildImageWorker",value:function(){if(!this.imageWorker&&this.webWorkerLoaders&&(this.imageWorker=h.Helpers.createWorkerFromFunction(this.dynamicTileWebWorker,function(e){return e.replace("dynamicTileWebWorker","")}),this.imageWorker.onmessage=function(e){this.handleWorkerCallback(e.data)}.bind(this),this.imageWorker.postMessage({identity:"setorigin",origin:location.origin}),null!=c.Config.properties().authToken)){var e={identity:"settoken",token:c.Config.properties().authToken};this.imageWorker.postMessage(e)}}},{key:"handleWorkerCallback",value:function(e){switch(e.identity){case"imagerequestcontainer":for(var t,n=this.imageLoaderStore.getObject(e.url),i=0;i<this.deferredRenderChain.length;i++)if(this.deferredRenderChain[i].id===e.jobId){t=this.deferredRenderChain[i];break}n&&(n.data=e,t&&(t.frozen=!1,t._d=!0))}}},{key:"dynamicTileWebWorker",value:function(){var e={};return e.sendData=function(e){_mainContext.postMessage(e)},e.recieveData=function(e){switch(e.data.identity){case"imagerequestcontainer":this.loadImage(e.data);break;case"setorigin":this.origin=e.data.origin;break;case"settoken":this.token=e.data.token}}.bind(e),e.process=function(t){if(2===t.state)return t.data="data:"+t.mimeType+";base64,"+e.base64ArrayBuffer(t.data),void this.sendData(t);t.data="",this.sendData(t)}.bind(e),e.base64ArrayBuffer=function(e){var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;i=new Uint8Array(e),r=i.byteLength,o=r%3,a=r-o;for(var h=0;h<a;h+=3)d=i[h]<<16|i[h+1]<<8|i[h+2],s=(16515072&d)>>18,l=(258048&d)>>12,u=(4032&d)>>6,c=63&d,t+=n[s]+n[l]+n[u]+n[c];return 1===o?(d=i[a],s=(252&d)>>2,l=(3&d)<<4,t+=n[s]+n[l]+"=="):2===o&&(d=i[a]<<8|i[a+1],s=(64512&d)>>10,l=(1008&d)>>4,u=(15&d)<<2,t+=n[s]+n[l]+n[u]+"="),t},e.loadImage=function(t){var n=new XMLHttpRequest,i=!1,r=t.url;n.open("GET",r,!0),n.responseType="arraybuffer",n.callback=e.process,this.origin&&(-1===t.url.indexOf(this.origin)?n.crossOrigin="anonymous":i=!0),this.token&&i&&n.setRequestHeader("Authorization",this.token),n.package=t,n.onload=function(){this.package.state=2,404===this.status&&(this.package.state=1),this.package.data=this.response,this.package.mimeType=this.getResponseHeader("content-type"),void 0!==this.package.mimeType&&null!=this.package.mimeType?-1===this.package.mimeType.indexOf("image/")&&(this.package.mimeType="image/png"):this.package.mimeType="image/png",this.callback(this.package)},n.onerror=function(){this.package.state=1,this.callback(this.package)},n.send()}.bind(e),"undefined"!=typeof _mainContext&&(_mainContext.onmessage=e.recieveData),e}},{key:"loadImage",value:function(e,t){var n=new D.default;if("string"==typeof e){if(n.url=e,t instanceof P.default&&(n.jobId=t.id),this.webWorkerLoaders)this.imageWorker.postMessage(n);else{var i=new Image;i.refUrl=e,t instanceof P.default&&(i.job=t),i.onload=function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),i=this.store.getObject(this.refUrl);t.height=this.height,t.width=this.width,n.drawImage(this,0,0),i.locked=!1,this.job&&(this.job.frozen=!1,this.job._d=!0);try{i.data.data=t.toDataURL(),i.data.state=2}catch(e){i.data.data=this.imageFailedB64,i.data.state=2}},i.onerror=function(e){var t=this.store.getObject(this.src);this.job&&(this.job.frozen=!1),t&&(t.locked=!1,t.data.state=2,t.data.data=this.imageFailedB64)},i.container=n,i.store=this.imageLoaderStore,-1===e.indexOf(location.origin)&&(i.crossOrigin="Anonymous"),i.src=e}return n}}},{key:"stepDownTextureQuality",value:function(){h.Helpers.isMobile()&&(this.setTextureSize(512),this.vMemTarget=40,this.vMemLimit=64,this.maxJobTime=28,this.textureStore.policy.enforceLimits=!0,this.textureStore.policy.hardLimit=Math.floor(this.vMemLimit/(this.textureSize*this.textureSize*4/1048576)),this.textureStore.policy.softLimit=Math.floor(this.vMemTarget/(this.textureSize*this.textureSize*4/1048576)),this.sizeDefinitions.forEach(function(e){e.size/=2,e.size>this.textureSize&&(e.size=this.textureSize)}.bind(this)))}},{key:"setDenseMode",value:function(e){h.Helpers.isMobile()||!0===this.customSizeDefinition||e>32768&&(this.denseRenderMode=!0,this.setTextureSize(2048),this.vMemLimit=1024,this.vMemTarget=768,this.textureStore.policy.hardLimit=this.calculateTexturesPerMB(this.vMemLimit,this.textureSize),this.textureStore.policy.softLimit=this.calculateTexturesPerMB(this.vMemTarget,this.textureSize),this.sizeDefinitions=[{size:4,name:"small",threshold:0},{size:64,name:"medium",threshold:32},{size:256,name:"large",threshold:128},{size:512,name:"large",threshold:320},{size:1024,name:"large",threshold:640}])}},{key:"getVram",value:function(){return Math.round(this.textureStore.objects.length*(4*this.textureSize*this.textureSize)/1048576)+"MB"}},{key:"xsltExecutor",value:function(e){var t=null,n=null,i={},r=void 0,o=void 0;e.execCount++;for(var a=0;a<e.data.values.length;a++)if(r=e.data.values[a].value,void 0!==(void 0===r?"undefined":s(r))&&null!==r){if(r instanceof Array){if(!(r.length>0))continue;i[void 0+"_first"]=r[0],r=r.join(", ")}i[e.data.values[a].name]=r}n=this.dataEngine.row_to_xml(e.size,i),t=this.dataEngine.transformRowToFragment(n),t=this.dataEngine.processImages.bind(this)(t,e);var l=t.state;if(e.frozen=!0,!(t="undefined"!=typeof XSLTProcessor?(new XMLSerializer).serializeToString(t.data):t.data.xml))return void f.DrawingManager.drawRect(e.layer,0,0,e.layer.clipInfo.w,e.layer.clipInfo.h,{fillStyle:"#f00"});if(this.virtualizeSVG){var u=document.createElement("canvas");u.width=this.picInfo.width,u.height=this.picInfo.height,t=t.replace("xmlns:ns1","_"),(0,w.default)(u,t),window.setTimeout(function(){f.DrawingManager.drawImage(e.layer,0,0,e.layer.clipInfo.w,e.layer.clipInfo.h,u),void 0!==e.callback&&e.callback(),this.dirtyLayers[e.layer.clipInfo.w+"_"+e.sprite.datastoreIndex]=!0}.bind(this),250),e.state=1}else{o=new Image;var c,d;c=new Blob([t],{type:"image/svg+xml"}),d=URL.createObjectURL(c),o.src=d,o.issue=l,o.job=e,o.dtm=this,this.allImages.push(o),e.frozen=!0,o.onload=function(e){window.setTimeout(function(){f.DrawingManager.drawImage(this.job.layer,0,0,this.job.layer.clipInfo.w,this.job.layer.clipInfo.h,this),this.dtm.dirtyLayers[this.job.layer.clipInfo.w+"_"+this.job.sprite.datastoreIndex]=!0,void 0!==this.job.callback&&this.job.callback(),URL.revokeObjectURL(this.src),this.onload=null,this.src="",this.dtm.allImages.splice(this.dtm.allImages.indexOf(this.target)),this.job.state=1,this.job.frozen=!1}.bind(this),100)}}return l}},{key:"loadDefaultErrorImage",value:function(e){var t=void 0,n=void 0;t=this.dynamicTileWebWorker(),t._mainContext=this,t.sendData=function(e){2===e.state&&(this.imageFailedB64=e.data)}.bind(this),n=new D.default,n.url=e,t.loadImage(n)}},{key:"cloneExecutor",value:function(e){if(0===e.target.state)return!0;f.DrawingManager.drawImage(e.layer,0,0,e.layer.clipInfo.w,e.layer.clipInfo.h,e.target.layer),this.dl[e.layer.clipInfo.w+"_"+e.sprite.datastoreIndex]=!0,e.state=1}},{key:"createDisposalTexture",value:function(){var e=void 0;e=document.createElement("canvas"),e.width=this.textureSize,e.height=this.textureSize,e.getContext("2d"),this.disposalImage=e}},{key:"processChain",value:function(){var e=[],t=void 0,n=[];if(this.deferredRenderChain.length>0){if(this.jobProbe.start(),this.deferredPriority){n=this.deferredRenderChain.filter(function(e){return!0===e.frozen});for(var i=0;i<this.deferredRenderChain.length;i++)!0===this.deferredRenderChain[i].frozen&&(this.deferredRenderChain.splice(i,1),i--);this.deferredRenderChain.sort(function(e,t){return e.priority-t.priority})}t=performance.now();do{e.push(this.deferredRenderChain.splice(0,1)[0])}while(0!==this.deferredRenderChain.length&&e.length<this.maxWorkload);if(e.length>0){do{var r=e.splice(0,1)[0];if(!r)break;if(this.executeJob(r)&&this.deferredRenderChain.push(r),performance.now()-t>this.maxJobTime)break}while(e.length>0);this.deferredRenderChain=e.concat(this.deferredRenderChain)}n.length>0&&(this.deferredRenderChain=this.deferredRenderChain.concat(n)),this.jobProbe.stop()}}},{key:"executeJob",value:function(e){return e.executor?e.executor(e):this.standardExecutor(e)}},{key:"defaultExecutor",value:function(e){f.DrawingManager.drawText(e.layer,e.layer.clipInfo.w/2,e.layer.clipInfo.h/8,e.sprite.name,{font:e.layer.clipInfo.h/1.3+"px monospace",textAlign:"center",textBaseline:"top"})}},{key:"xpathGet",value:function(e,t,n){var i=t.createNSResolver(t);return t.evaluate(e,t.documentElement,i,n,null)}},{key:"initSource",value:function(e){var t=void 0,n=void 0;t=this.currentSource,n=this.sources[t].url,void 0===this.data[this.currentSource]?(d.Events.emitEvent("tilemanager.loading"),".xslt"===n.substring(n.lastIndexOf("."))&&(this.standardExecutor=this.xsltExecutor,u.Ajax.getXML(n,function(n){this.data[t]=n,this.currentData=this.data[t],this.prepareData(e);try{var i=this.xpathGet('//*[local-name() = "svg"]',n,XPathResult.ORDERED_NODE_ITERATOR_TYPE),r=i.iterateNext();this.picInfo.width=r.getAttribute("width"),this.picInfo.height=r.getAttribute("height")}catch(e){p.Log.error(e)}this.viewManager.cellSize.width=this.picInfo.width,this.viewManager.cellSize.height=this.picInfo.height,null==n?p.Log.error("The dynamic tile manager encountered an error, the source could not be loaded. Please ensure your XSLT is properly formatted XML."):(this.dataEngine=new C.default(n,this),this.stepDownTextureQuality(),this.createDisposalTexture(),this.preFetchLevels(),this.buildImageWorker(),this.ready(e))}.bind(this)))):(this.currentData=this.data[t],this.ready(e))}},{key:"getDynamicPictureInfo",value:function(){return{fileSize:0,width:this.picInfo.width,height:this.picInfo.height,id:0,source:""}}},{key:"prepareData",value:function(e){try{this.maxTileSize=this.data[this.currentSource].tilesize,this.maxTileSizeOverlapped=this.maxTileSize-2*this.overlap,this.tileFormat=this.data[this.currentSource].format,this.maxAtlasLevel=this.data[this.currentSource].maxlevel}catch(e){p.Log.error("The provided data was not valid, failed to initialize Zegs.")}}},{key:"getMortonLayoutPosition",value:function(e){return{row:0,column:0,gridIndex:0}}},{key:"getDynamicTextureGrid",value:function(e,t){var n=0,i=0,r=void 0,o=void 0;return n=Math.floor(this.textureSize*this.textureSize)/(e*e),i=Math.floor(t/n),r=this.textureStore.getObject(e+","+i),r?(r.priority=1e3,r=r.data):(r=this.createTextureObject(e,t),h.Helpers.isMobile(),r.texture.minFilter=this.textureFilter,r.texture.magFilter=this.textureFilter,o=this.textureStore.setObject(r,e+","+i),o||(this.textureStore.purge(),o=this.textureStore.setObject(r,e+","+i)),this.firstLoadComplete||(o.locked=!0),o.priority=1e3),r}},{key:"createTextureObject",value:function(e,t){f.DrawingManager.deferredUpdates=!1;var n=f.DrawingManager.createLayer(this.textureSize,this.textureSize,"dynamic_texture_"+e+"x-n"+t);f.DrawingManager.drawRect(n,0,0,this.textureSize,this.textureSize,{fillStyle:c.Config.properties().colors.blankSprite}),Math.floor(this.textureSize/e);for(var i=0;i<this.sizeDefinitions.length;i++)if(this.sizeDefinitions[i].size===e){this.sizeDefinitions[i].name;break}return n}},{key:"preFetchLevels",value:function(){for(var e={},t=void 0,n=void 0,i=0;i<this.sizeDefinitions.length;i++)if(n=this.dataEngine.row_to_xml(this.sizeDefinitions[i].name,e),t=this.dataEngine.transformRowToFragment(n),this.virtualizeSVG){var r=document.createElement("canvas");r.width=this.picInfo.width,r.height=this.picInfo.height,(0,w.default)(r,t),this.preFetch[this.sizeDefinitions[i].name]=r}else{var o=new Blob([t],{type:"image/svg+xml"}),a=URL.createObjectURL(o);this.preFetch[this.sizeDefinitions[i].name]=new Image,this.preFetch[this.sizeDefinitions[i].name].src=a}}},{key:"getSingleTexture",value:function(e){var t=void 0,n=void 0,i=void 0;try{i=this.viewManager.items.filter(function(t){if(t.name===e)return!0})[0]}catch(t){p.Log.error("Could not display item "+e+" because no sprite exists.");var r=document.createElement("img");return r.src=this.imageFailedB64,r}return t=f.DrawingManager.createLayer(2*this.picInfo.width,2*this.picInfo.height,"stt_"+e.toString()),n=new P.default(i,f.DrawingManager.createGhostLayer(t,{x:0,y:0,w:2*this.picInfo.width,h:2*this.picInfo.height}),this.viewManager.currentView.datastore.getItemById(e),this._jobSeed++),n.size="large",this.deferredRenderChain.push(n),t.canvas}},{key:"createMaterialFromLayer",value:function(e){var t=void 0;return t=f.DrawingManager.getTexture(e),t.premultiplyAlpha=!1,t.format=_.RGBFormat,t.type=_.UnsignedShort565Type,new _.ShaderMaterial({uniforms:{map:{value:t}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:_.FrontSide,transparent:!0})}},{key:"setSlicedTexture",value:function(e,t,n,i,r,o,a){var s=this,l=void 0,u=void 0,c=void 0,d=Math.floor(this.textureSize/i.size),h=void 0,p=!1,m=[];if(void 0!==t&&0!==t.length){this.paintProbe.start();var g={},v=t.filter(function(e){return!0===e.userData.duplicate});t=t.filter(function(e){return!0!==e.userData.duplicate});for(var y=0;y<v.length;y++)-1==t.indexOf(v[y].userData.duplicateParent)&&t.push(v[y].userData.duplicateParent);for(var b,w,M=0;M<t.length;M++){var x;!function(){l=s.indexingCache[t[M].datastoreIndex]-n*(d*d);var r={crop:null,size:null};u=Math.floor(l/d),c=l-u*d,b=c*i.size,w=(d-u-1)*i.size,t[M].picInfo=s.getDynamicPictureInfo(),void 0===h&&(h=s.createMaterialFromLayer(e),s.materialMap[e.name]=h),h=s.materialMap[e.name],s.drawDebugInformation&&f.DrawingManager.drawText(e,b,w+i.size-i.size/8,t[M].name,{textAlign:"left",textBaseline:"top",font:i.size/8+"px monospace"});var v=null,y=void 0,S=void 0,E=void 0,T=!1,C=!0;if(s.dataEngine.varianceMap&&s.useVarianceMapping&&(y=s.dataEngine.varianceMap["key_"+i.name.toLowerCase()],S={},a[t[M].datastoreIndex].values.forEach(function(e){S[e.name]=e.value}),y&&(E=y(S),void 0===g[E]&&null==g[E]||(r.crop=new _.Vector4(g[E]._c,g[E]._r,d,d),r.size=new _.Vector2(1,1),m.push(r),g[E]._linkedClones.push(t[M].datastoreIndex),C=!1))),C&&(T=!0),x=s.visionMap[t[M].datastoreIndex],!T&&s.useVarianceMapping||(v=new P.default(t[M],f.DrawingManager.createGhostLayer(e,{x:b,y:w,w:i.size,h:i.size}),a[t[M].datastoreIndex],s._jobSeed++),v.priority=o[M],v.size=i.name,v._c=c,v._r=u,v._linkedClones=[],v.dtm=s,r.crop=new _.Vector4(c,u,d,d),r.size=new _.Vector2(1,1),m.push(r),g[E]=v,v.callback=function(){this.dtm.visionMap[this._dsi]=this._v;for(var e=0;e<this._linkedClones.length;e++)this.dtm.visionMap[this._linkedClones[e]]=this._v,this.dtm.visionMap[this._linkedClones[e]].variant=!0}.bind(v),v._dsi=t[M].datastoreIndex,v._v={pos:{x:b,y:w,s:i.size},tex:e,variant:!1}),void 0===s.rVisionMap[t[M].datastoreIndex]&&null==s.rVisionMap[t[M].datastoreIndex]&&(s.rVisionMap[t[M].datastoreIndex]=s.visionMap[t[M].datastoreIndex]),T&&!s.dirtyLayers[i.size+"_"+t[M].datastoreIndex]&&(e.victims||(e.victims=[]),e.victims.push(i.size+"_"+t[M].datastoreIndex),v)){if(s.preFetch[i.name]&&!p)try{void 0!==x&&null!=x?f.DrawingManager.drawImage(v.layer,0,0,i.size,i.size,f.DrawingManager.createGhostLayer(x.tex,{x:x.pos.x+.5,y:x.pos.y+.5,w:x.pos.s-1,h:x.pos.s-1})):(x=s.rVisionMap[t[M].datastoreIndex],f.DrawingManager.drawImage(v.layer,0,0,i.size,i.size,f.DrawingManager.createGhostLayer(x.tex,{x:x.pos.x+.5,y:x.pos.y+.5,w:x.pos.s-1,h:x.pos.s-1})))}catch(e){p=!0}else void 0!==(x=s.rVisionMap[t[M].datastoreIndex])&&f.DrawingManager.drawImage(v.layer,0,0,i.size,i.size,f.DrawingManager.createGhostLayer(x.tex,{x:x.pos.x+.5,y:x.pos.y+.5,w:x.pos.s-1,h:x.pos.s-1}));s.deferredRenderChain.push(v)}}()}for(var S=0;S<v.length;S++)t.push(v[S]),m.push(m[t.indexOf(v[S].userData.duplicateParent)]);e.mesh=this.textureSetter.atlas.setManualAtlasTexture(t,h,m),this.paintProbe.stop()}}},{key:"cacheTidy",value:function(){var e={};e=this.textureStore.objects.filter(function(e){return!e.locked}),e&&e.forEach(function(e){e.priority>1&&(e.priority-=1)}),this.deferredRenderChain=[]}},{key:"duplicateReduce",value:function(){return!0}},{key:"setTexture",value:function(e,t,n,i,r){var o=void 0,a=void 0,s=this.sizeDefinitions[0],l=[],u=void 0,c=[],d=void 0;if(this.firstSetComplete||(this.firstSetComplete=!0,this.setDenseMode(this.viewManager.items.length)),void 0===n&&(n=1),this.mapProbe.start(),void 0!==e&&null!=e&&(e.length||void 0===e||null==e)){if(d={width:e[0].scale.x,height:e[0].scale.y},o={width:d.width*n,height:d.height*n},a=o.width>o.height?o.width:o.height,e)for(var h=0;h<e.length;h++)void 0!==this.indexingCache[e[h].datastoreIndex]&&null!=this.indexingCache[e[h].datastoreIndex]||(this.indexingCache[e[h].datastoreIndex]=this.seed,this.seed++),l.push({dynamicTileId:this.indexingCache[e[h].datastoreIndex],sprite:e[h],order:h});for(var p=0,f=0;f<this.sizeDefinitions.length;f++)this.sizeDefinitions[f].threshold>=s.size&&this.sizeDefinitions[f].threshold<a&&(s=this.sizeDefinitions[f],p=f);l.sort(function(e,t){return e.dynamicTileId-t.dynamicTileId}),u=Math.floor(this.textureSize*this.textureSize/(s.size*s.size));for(var m=0,g=0,v=0,y=[],_=[];m<l.length;m++)g=Math.floor(l[m].dynamicTileId/u),g!==v?(c.push({tex:this.getDynamicTextureGrid(s.size,(v-1)*u),sprites:y,index:v,ordering:_}),y=[],_=[],y.push(l[m].sprite),_.push(l[m].order),v=g):(y.push(l[m].sprite),_.push(l[m].order)),m===l.length-1&&c.push({tex:this.getDynamicTextureGrid(s.size,(v-1)*u),sprites:y,index:v,ordering:_});this.cacheTidy(),this.mapProbe.stop();for(var b=0;b<c.length;b++)this.setSlicedTexture(c[b].tex,c[b].sprites,c[b].index,s,p,c[b].ordering,r);this.firstLoadComplete=!0}}}]),t}(v.default);t.default=k},function(e,t,n){var r,o,a;!function(i,s){"use strict";o=[n(774),n(775)],r=s,void 0!==(a="function"==typeof r?r.apply(t,o):r)&&(e.exports=a),i.canvg=s(i.RGBColor,i.stackBlur)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=[0,0,0],n=function(n,i){var r=e.match(n);null!=r&&(t[i]+=r.length,e=e.replace(n," "))};return e=e.replace(/:not\(([^\)]*)\)/g,"     $1 "),e=e.replace(/{[\s\S]*/gm," "),n(s,1),n(l,0),n(u,1),n(c,2),n(d,1),n(h,1),e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),n(p,2),t.join("")}function r(r){var a={opts:r};a.FRAMERATE=30,a.MAX_VIRTUAL_PIXELS=3e4,a.log=function(e){},1==a.opts.log&&"undefined"!=typeof console&&(a.log=function(e){console.log(e)}),a.init=function(e){var t=0;a.UniqueId=function(){return"canvg"+ ++t},a.Definitions={},a.Styles={},a.StylesSpecificity={},a.Animations=[],a.Images=[],a.ctx=e,a.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},a.init(),a.ImagesLoaded=function(){for(var e=0;e<a.Images.length;e++)if(!a.Images[e].loaded)return!1;return!0},a.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},a.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},a.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},a.parseXml=function(e){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t}if(!window.DOMParser){e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}try{var i=new DOMParser;return i.parseFromString(e,"image/svg+xml")}catch(t){return i=new DOMParser,i.parseFromString(e,"text/xml")}},a.Property=function(e,t){this.name=e,this.value=t},a.Property.prototype.getValue=function(){return this.value},a.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},a.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},a.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},a.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},a.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t.value&&""!=t.value&&"string"==typeof this.value){var i=new e(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t.numValue()+")")}return new a.Property(this.name,n)},a.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),a.Definitions[e]},a.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},a.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(a.ctx,e,t);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var i=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&(n.attribute("patternTransform",!0).value=i.value)}return n.createPattern(a.ctx,e)}return null},a.Property.prototype.getDPI=function(e){return 96},a.Property.prototype.getEM=function(e){var t=12,n=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);return n.hasValue()&&(t=n.toPixels(e)),t},a.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},a.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*a.ViewPort.ComputeSize(e);var i=this.numValue();return t&&i<1?i*a.ViewPort.ComputeSize(e):i},a.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},a.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var s={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return a.Property.prototype.toTextBaseline=function(){return this.hasValue()?s[this.value]:null},a.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,r,o){var s=null!=o?this.Parse(o):this.CreateFont("","","","","",a.ctx.font);return{fontFamily:r||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:t||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(t){for(var n={},i=a.trim(a.compressSpaces(t||"")).split(" "),r={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",s=0;s<i.length;s++)r.fontStyle||-1==e.Styles.indexOf(i[s])?r.fontVariant||-1==e.Variants.indexOf(i[s])?r.fontWeight||-1==e.Weights.indexOf(i[s])?r.fontSize?"inherit"!=i[s]&&(o+=i[s]):("inherit"!=i[s]&&(n.fontSize=i[s].split("/")[0]),r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=!0):("inherit"!=i[s]&&(n.fontWeight=i[s]),r.fontStyle=r.fontVariant=r.fontWeight=!0):("inherit"!=i[s]&&(n.fontVariant=i[s]),r.fontStyle=r.fontVariant=!0):("inherit"!=i[s]&&(n.fontStyle=i[s]),r.fontStyle=!0);return""!=o&&(n.fontFamily=o),n}},a.ToNumberArray=function(e){for(var t=a.trim(a.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},a.Point=function(e,t){this.x=e,this.y=t},a.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},a.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},a.CreatePoint=function(e){var t=a.ToNumberArray(e);return new a.Point(t[0],t[1])},a.CreatePath=function(e){for(var t=a.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new a.Point(t[i],t[i+1]));return n},a.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,o){var a=e+2/3*(n-e),s=t+2/3*(i-t),l=a+1/3*(r-e),u=s+1/3*(o-t);this.addBezierCurve(e,t,a,l,s,u,r,o)},this.addBezierCurve=function(e,t,n,r,o,a,s,l){var u=[e,t],c=[n,r],d=[o,a],h=[s,l];for(this.addPoint(u[0],u[1]),this.addPoint(h[0],h[1]),i=0;i<=1;i++){var p=function(e){return Math.pow(1-e,3)*u[i]+3*Math.pow(1-e,2)*e*c[i]+3*(1-e)*Math.pow(e,2)*d[i]+Math.pow(e,3)*h[i]},f=6*u[i]-12*c[i]+6*d[i],m=-3*u[i]+9*c[i]-9*d[i]+3*h[i],g=3*c[i]-3*u[i];if(0!=m){var v=Math.pow(f,2)-4*g*m;if(!(v<0)){var y=(-f+Math.sqrt(v))/(2*m);0<y&&y<1&&(0==i&&this.addX(p(y)),1==i&&this.addY(p(y)));var _=(-f-Math.sqrt(v))/(2*m);0<_&&_<1&&(0==i&&this.addX(p(_)),1==i&&this.addY(p(_)))}}else{if(0==f)continue;var b=-g/f;0<b&&b<1&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},a.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=a.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=a.ToNumberArray(e);this.angle=new a.Property("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=a.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=a.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],i=this.m[4],r=this.m[1],o=this.m[3],a=this.m[5],s=1/(t*(1*o-0*a)-n*(1*r-0*a)+i*(0*r-0*o));e.transform(s*(1*o-0*a),s*(0*a-1*r),s*(0*i-1*n),s*(1*t-0*i),s*(n*a-i*o),s*(i*r-t*a))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new a.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=a.trim(a.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var r=a.trim(n[i].split("(")[0]),o=n[i].split("(")[1].replace(")",""),s=this.Type[r];if(void 0!==s){var l=new s(o);l.type=r,this.transforms.push(l)}}},a.AspectRatio=function(e,t,n,i,r,o,s,l,u,c){t=a.compressSpaces(t),t=t.replace(/^defer\s/,"");var d=t.split(" ")[0]||"xMidYMid",h=t.split(" ")[1]||"meet",p=n/i,f=r/o,m=Math.min(p,f),g=Math.max(p,f);"meet"==h&&(i*=m,o*=m),"slice"==h&&(i*=g,o*=g),u=new a.Property("refX",u),c=new a.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-m*u.toPixels("x"),-m*c.toPixels("y")):(d.match(/^xMid/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&e.translate(n/2-i/2,0),d.match(/YMid$/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&e.translate(0,r/2-o/2),d.match(/^xMax/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&e.translate(n-i,0),d.match(/YMax$/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&e.translate(0,r-o)),"none"==d?e.scale(p,f):"meet"==h?e.scale(m,m):"slice"==h&&e.scale(g,g),e.translate(null==s?0:-s,null==l?0:-l)},a.Element={},a.EmptyProperty=new a.Property("EMPTY",""),a.Element.ElementBase=function(e){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new a.Property(e,""),this.attributes[e]=n),n||a.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return a.EmptyProperty},this.style=function(e,t,n){var i=this.styles[e];if(null!=i)return i;var r=this.attribute(e);if(null!=r&&r.hasValue())return this.styles[e]=r,r;if(1!=n){var o=this.parent;if(null!=o){var s=o.style(e);if(null!=s&&s.hasValue())return s}}return 1==t&&(i=new a.Property(e,""),this.styles[e]=i),i||a.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;t&&(n=a.CreateElement(e)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var t in a.Styles)if("@"!=t[0]&&o(e,t)){var n=a.Styles[t],i=a.StylesSpecificity[t];if(null!=n)for(var r in n){var s=this.stylesSpecificity[r];void 0===s&&(s="000"),i>s&&(this.styles[r]=n[r],this.stylesSpecificity[r]=i)}}};var t=new RegExp("^[A-Z-]+$");if(null!=e&&1==e.nodeType){for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n],r=function(e){return t.test(e)?e.toLowerCase():e}(i.nodeName);this.attributes[r]=new a.Property(r,i.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var s=this.attribute("style").value.split(";"),n=0;n<s.length;n++)if(""!=a.trim(s[n])){var l=s[n].split(":"),u=a.trim(l[0]),c=a.trim(l[1]);this.styles[u]=new a.Property(u,c)}this.attribute("id").hasValue()&&null==a.Definitions[this.attribute("id").value]&&(a.Definitions[this.attribute("id").value]=this);for(var n=0;n<e.childNodes.length;n++){var d=e.childNodes[n];if(1==d.nodeType&&this.addChild(d,!0),this.captureTextNodes&&(3==d.nodeType||4==d.nodeType)){var h=d.value||d.text||d.textContent||"";""!=a.compressSpaces(h)&&this.addChild(new a.Element.tspan(d),!1)}}}},a.Element.RenderedElementBase=function(e){this.base=a.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var t=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=t&&(e.fillStyle=t)}else if(this.style("fill").hasValue()){var n=this.style("fill");"currentColor"==n.value&&(n.value=this.style("color").value),"inherit"!=n.value&&(e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value)}if(this.style("fill-opacity").hasValue()){var n=new a.Property("fill",e.fillStyle);n=n.addOpacity(this.style("fill-opacity")),e.fillStyle=n.value}if(this.style("stroke").isUrlDefinition()){var t=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=t&&(e.strokeStyle=t)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),"inherit"!=i.value&&(e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("stroke-opacity").hasValue()){var i=new a.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity")),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var r=this.style("stroke-width").toPixels();e.lineWidth=0==r?.001:r}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var o=a.ToNumberArray(this.style("stroke-dasharray").value);void 0!==e.setLineDash?e.setLineDash(o):void 0!==e.webkitLineDash?e.webkitLineDash=o:void 0===e.mozDash||1==o.length&&0==o[0]||(e.mozDash=o);var s=this.style("stroke-dashoffset").numValueOrDefault(1);void 0!==e.lineDashOffset?e.lineDashOffset=s:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=s:void 0!==e.mozDashOffset&&(e.mozDashOffset=s)}if(void 0!==e.font&&(e.font=a.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()&&new a.Transform(this.style("transform",!1,!0).value).apply(e),this.style("clip-path",!1,!0).hasValue()){var l=this.style("clip-path",!1,!0).getDefinition();null!=l&&l.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},a.Element.RenderedElementBase.prototype=new a.Element.ElementBase,a.Element.PathElementBase=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new a.BoundingBox},this.renderChildren=function(e){this.path(e),a.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()){var n=this.style("marker-start").getDefinition();n.render(e,t[0][0],t[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);if(this.style("marker-end").isUrlDefinition()){var n=this.style("marker-end").getDefinition();n.render(e,t[t.length-1][0],t[t.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},a.Element.PathElementBase.prototype=new a.Element.RenderedElementBase,a.Element.svg=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),a.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=a.ViewPort.width(),n=a.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){t=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var i=0,r=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),r=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(i,r),e.lineTo(t,r),e.lineTo(t,n),e.lineTo(i,n),e.closePath(),e.clip())}if(a.ViewPort.SetCurrent(t,n),this.attribute("viewBox").hasValue()){var o=a.ToNumberArray(this.attribute("viewBox").value),s=o[0],l=o[1];t=o[2],n=o[3],a.AspectRatio(e,this.attribute("preserveAspectRatio").value,a.ViewPort.width(),t,a.ViewPort.height(),n,s,l,this.attribute("refX").value,this.attribute("refY").value),a.ViewPort.RemoveCurrent(),a.ViewPort.SetCurrent(o[2],o[3])}}},a.Element.svg.prototype=new a.Element.RenderedElementBase,a.Element.rect=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=s),o=Math.min(o,i/2),s=Math.min(s,r/2),null!=e&&(e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+o,n),e.closePath()),new a.BoundingBox(t,n,t+i,n+r)}},a.Element.rect.prototype=new a.Element.PathElementBase,a.Element.circle=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new a.BoundingBox(t-i,n-i,t+i,n+i)}},a.Element.circle.prototype=new a.Element.PathElementBase,a.Element.ellipse=function(e){this.base=a.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(r,o-i),e.bezierCurveTo(r+t*n,o-i,r+n,o-t*i,r+n,o),e.bezierCurveTo(r+n,o+t*i,r+t*n,o+i,r,o+i),e.bezierCurveTo(r-t*n,o+i,r-n,o+t*i,r-n,o),e.bezierCurveTo(r-n,o-t*i,r-t*n,o-i,r,o-i),e.closePath()),new a.BoundingBox(r-n,o-i,r+n,o+i)}},a.Element.ellipse.prototype=new a.Element.PathElementBase,a.Element.line=function(e){this.base=a.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new a.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new a.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new a.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},a.Element.line.prototype=new a.Element.PathElementBase,a.Element.polyline=function(e){this.base=a.Element.PathElementBase,this.base(e),this.points=a.CreatePath(this.attribute("points").value),this.path=function(e){var t=new a.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.length>0&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},a.Element.polyline.prototype=new a.Element.PathElementBase,a.Element.polygon=function(e){this.base=a.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},a.Element.polygon.prototype=new a.Element.polyline,a.Element.path=function(e){this.base=a.Element.PathElementBase,this.base(e);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var n=0;n<2;n++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2");for(var n=0;n<2;n++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=a.compressSpaces(t),t=a.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new a.Point(0,0),this.control=new a.Point(0,0),this.current=new a.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new a.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new a.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var n=new a.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),n.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){var i=t.getAsCurrentPoint();t.addMarker(i,t.start),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var r=t.current,i=t.getAsCurrentPoint();t.addMarker(i,r),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var o=new a.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){var o=new a.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(o,t.current),t.current=o,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var s=t.current,l=t.getPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,l),n.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){var s=t.current,l=t.getReflectedControlPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,l),n.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){var s=t.current,u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,u),n.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){var s=t.current,u=t.getReflectedControlPoint();t.control=u;var c=t.getAsCurrentPoint();t.addMarker(c,u,u),n.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var s=t.current,d=t.getScalar(),h=t.getScalar(),p=t.getScalar()*(Math.PI/180),f=t.getScalar(),m=t.getScalar(),c=t.getAsCurrentPoint(),g=new a.Point(Math.cos(p)*(s.x-c.x)/2+Math.sin(p)*(s.y-c.y)/2,-Math.sin(p)*(s.x-c.x)/2+Math.cos(p)*(s.y-c.y)/2),v=Math.pow(g.x,2)/Math.pow(d,2)+Math.pow(g.y,2)/Math.pow(h,2);v>1&&(d*=Math.sqrt(v),h*=Math.sqrt(v));var y=(f==m?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(h,2)-Math.pow(d,2)*Math.pow(g.y,2)-Math.pow(h,2)*Math.pow(g.x,2))/(Math.pow(d,2)*Math.pow(g.y,2)+Math.pow(h,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var _=new a.Point(y*d*g.y/h,y*-h*g.x/d),b=new a.Point((s.x+c.x)/2+Math.cos(p)*_.x-Math.sin(p)*_.y,(s.y+c.y)/2+Math.sin(p)*_.x+Math.cos(p)*_.y),w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},M=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(M(e,t))},S=x([1,0],[(g.x-_.x)/d,(g.y-_.y)/h]),E=[(g.x-_.x)/d,(g.y-_.y)/h],T=[(-g.x-_.x)/d,(-g.y-_.y)/h],C=x(E,T);M(E,T)<=-1&&(C=Math.PI),M(E,T)>=1&&(C=0);var L=1-m?1:-1,D=S+L*(C/2),A=new a.Point(b.x+d*Math.cos(D),b.y+h*Math.sin(D));if(t.addMarkerAngle(A,D-L*Math.PI/2),t.addMarkerAngle(c,D-L*Math.PI),n.addPoint(c.x,c.y),null!=e){var M=d>h?d:h,P=d>h?1:d/h,k=d>h?h/d:1;e.translate(b.x,b.y),e.rotate(p),e.scale(P,k),e.arc(0,0,M,S,S+C,1-m),e.scale(1/P,1/k),e.rotate(-p),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},a.Element.path.prototype=new a.Element.PathElementBase,a.Element.pattern=function(e){this.base=a.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new a.Element.svg;r.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new a.Property("width",n+"px"),r.attributes.height=new a.Property("height",i+"px"),r.attributes.transform=new a.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=i;var s=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var u=-1;u<=1;u++)s.save(),r.attributes.x=new a.Property("x",l*o.width),r.attributes.y=new a.Property("y",u*o.height),r.render(s),s.restore();return e.createPattern(o,"repeat")}},a.Element.pattern.prototype=new a.Element.ElementBase,a.Element.marker=function(e){this.base=a.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new a.Element.svg;i.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new a.Property("refX",this.attribute("refX").value),i.attributes.refY=new a.Property("refY",this.attribute("refY").value),i.attributes.width=new a.Property("width",this.attribute("markerWidth").value),i.attributes.height=new a.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new a.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new a.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},a.Element.marker.prototype=new a.Element.ElementBase,a.Element.defs=function(e){this.base=a.Element.ElementBase,this.base(e),this.render=function(e){}},a.Element.defs.prototype=new a.Element.ElementBase,a.Element.GradientBase=function(e){this.base=a.Element.ElementBase,this.base(e),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,t,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var r=function(e){return n.hasValue()?new a.Property("color",e).addOpacity(n).value:e},o=this.getGradient(e,t);if(null==o)return r(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)o.addColorStop(i.stops[s].offset,r(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=a.ViewPort.viewPorts[0],u=new a.Element.rect;u.attributes.x=new a.Property("x",-a.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new a.Property("y",-a.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new a.Property("width",a.MAX_VIRTUAL_PIXELS),u.attributes.height=new a.Property("height",a.MAX_VIRTUAL_PIXELS);var c=new a.Element.g;c.attributes.transform=new a.Property("transform",this.attribute("gradientTransform").value),c.children=[u];var d=new a.Element.svg;d.attributes.x=new a.Property("x",0),d.attributes.y=new a.Property("y",0),d.attributes.width=new a.Property("width",l.width),d.attributes.height=new a.Property("height",l.height),d.children=[c];var h=document.createElement("canvas");h.width=l.width,h.height=l.height;var p=h.getContext("2d");return p.fillStyle=o,d.render(p),p.createPattern(h,"no-repeat")}return o}},a.Element.GradientBase.prototype=new a.Element.ElementBase,a.Element.linearGradient=function(e){this.base=a.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==o&&r==a?null:e.createLinearGradient(i,r,o,a)}},a.Element.linearGradient.prototype=new a.Element.GradientBase,a.Element.radialGradient=function(e){this.base=a.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=i,a=r;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(o,a,0,i,r,s)}},a.Element.radialGradient.prototype=new a.Element.GradientBase,a.Element.stop=function(e){this.base=a.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var t=this.style("stop-color",!0);""===t.value&&(t.value="#000"),this.style("stop-opacity").hasValue()&&(t=t.addOpacity(this.style("stop-opacity"))),this.color=t.value},a.Element.stop.prototype=new a.Element.ElementBase,a.Element.AnimateBase=function(e){this.base=a.Element.ElementBase,this.base(e),a.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var t=e.progress*(this.values.value.length-1),n=Math.floor(t),i=Math.ceil(t);e.from=new a.Property("from",parseFloat(this.values.value[n])),e.to=new a.Property("to",parseFloat(this.values.value[i])),e.progress=(t-n)/(i-n)}else e.from=this.from,e.to=this.to;return e}},a.Element.AnimateBase.prototype=new a.Element.ElementBase,a.Element.animate=function(e){this.base=a.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},a.Element.animate.prototype=new a.Element.AnimateBase,a.Element.animateColor=function(t){this.base=a.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),n=new e(t.from.value),i=new e(t.to.value);if(n.ok&&i.ok){var r=n.r+(i.r-n.r)*t.progress,o=n.g+(i.g-n.g)*t.progress,a=n.b+(i.b-n.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(o,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},a.Element.animateColor.prototype=new a.Element.AnimateBase,a.Element.animateTransform=function(e){this.base=a.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=a.ToNumberArray(e.from.value),n=a.ToNumberArray(e.to.value),i="",r=0;r<t.length;r++)i+=t[r]+(n[r]-t[r])*e.progress+" ";return i}},a.Element.animateTransform.prototype=new a.Element.animate,a.Element.font=function(e){this.base=a.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(a.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},a.Element.font.prototype=new a.Element.ElementBase,a.Element.fontface=function(e){this.base=a.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},a.Element.fontface.prototype=new a.Element.ElementBase,a.Element.missingglyph=function(e){this.base=a.Element.path,this.base(e),this.horizAdvX=0},a.Element.missingglyph.prototype=new a.Element.path,a.Element.glyph=function(e){this.base=a.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},a.Element.glyph.prototype=new a.Element.path,a.Element.text=function(e){this.captureTextNodes=!0,this.base=a.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null==t&&(t=this.style("alignment-baseline").toTextBaseline()),null!=t&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);return new a.BoundingBox(e,t-n,e+Math.floor(2*n/3)*this.children[0].getText().length,t)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var r=0,o=n;o<t.children.length;o++){var a=t.children[o];if(o>n&&a.attribute("x").hasValue())break;r+=a.measureTextRecursive(e)}return-1*("end"==i?r:r/2)}return 0},this.renderChild=function(e,t,n,i){var r=n.children[i];r.attribute("x").hasValue()?(r.x=r.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,i),r.attribute("dx").hasValue()&&(r.x+=r.attribute("dx").toPixels("x"))):(r.attribute("dx").hasValue()&&(t.x+=r.attribute("dx").toPixels("x")),r.x=t.x),t.x=r.x+r.measureText(e),r.attribute("y").hasValue()?(r.y=r.attribute("y").toPixels("y"),r.attribute("dy").hasValue()&&(r.y+=r.attribute("dy").toPixels("y"))):(r.attribute("dy").hasValue()&&(t.y+=r.attribute("dy").toPixels("y")),r.y=t.y),t.y=r.y,r.render(e);for(var i=0;i<r.children.length;i++)t.renderChild(e,t,r,i)}},a.Element.text.prototype=new a.Element.RenderedElementBase,a.Element.TextElementBase=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i=t[n],r=null;if(e.isArabic){var o="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(o="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(o="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(o="initial"),void 0!==e.glyphs[i]&&null==(r=e.glyphs[i][o])&&"glyph"==e.glyphs[i].type&&(r=e.glyphs[i])}else r=e.glyphs[i];return null==r&&(r=e.missingGlyph),r},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(a.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(a.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(a.Font.Parse(a.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=a.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var l=this.getGlyph(t,r,s),u=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=n*(l.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),i=0,r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=a.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++)i+=(this.getGlyph(t,r,s).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(i+=o[s]);return i}var l=a.compressSpaces(this.getText());if(!e.measureText)return 10*l.length;e.save(),this.setContext(e);var u=e.measureText(l).width;return e.restore(),u}},a.Element.TextElementBase.prototype=new a.Element.RenderedElementBase,a.Element.tspan=function(e){this.captureTextNodes=!0,this.base=a.Element.TextElementBase,this.base(e),this.text=a.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},a.Element.tspan.prototype=new a.Element.TextElementBase,a.Element.tref=function(e){this.base=a.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},a.Element.tref.prototype=new a.Element.TextElementBase,a.Element.a=function(e){this.base=a.Element.TextElementBase,this.base(e),this.hasText=e.childNodes.length>0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var t=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);a.Mouse.checkBoundingBox(this,new a.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))}else if(this.children.length>0){var n=new a.Element.g;n.children=this.children,n.parent=this,n.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){a.ctx.canvas.style.cursor="pointer"}},a.Element.a.prototype=new a.Element.TextElementBase,a.Element.image=function(e){this.base=a.Element.RenderedElementBase,this.base(e);var t=this.getHrefAttribute().value;if(""!=t){var n=t.match(/\.svg$/);if(a.Images.push(this),this.loaded=!1,n)this.img=a.ajax(t),this.loaded=!0;else{this.img=document.createElement("img"),1==a.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){a.log('ERROR: image "'+t+'" not found'),i.loaded=!0},this.img.src=t}this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=r&&0!=o&&(e.save(),n?e.drawSvg(this.img,t,i,r,o):(e.translate(t,i),a.AspectRatio(e,this.attribute("preserveAspectRatio").value,r,this.img.width,o,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new a.BoundingBox(e,t,e+n,t+i)}}},a.Element.image.prototype=new a.Element.RenderedElementBase,a.Element.g=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new a.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},a.Element.g.prototype=new a.Element.RenderedElementBase,a.Element.symbol=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.render=function(e){}},a.Element.symbol.prototype=new a.Element.RenderedElementBase,a.Element.style=function(e){this.base=a.Element.ElementBase,this.base(e);for(var t="",i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].data;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),t=a.compressSpaces(t);for(var r=t.split("}"),i=0;i<r.length;i++)if(""!=a.trim(r[i]))for(var o=r[i].split("{"),s=o[0].split(","),l=o[1].split(";"),u=0;u<s.length;u++){var c=a.trim(s[u]);if(""!=c){for(var d=a.Styles[c]||{},h=0;h<l.length;h++){var p=l[h].indexOf(":"),f=l[h].substr(0,p),m=l[h].substr(p+1,l[h].length-p);null!=f&&null!=m&&(d[a.trim(f)]=new a.Property(a.trim(f),a.trim(m)))}if(a.Styles[c]=d,a.StylesSpecificity[c]=n(c),"@font-face"==c)for(var g=d["font-family"].value.replace(/"/g,""),v=d.src.value.split(","),y=0;y<v.length;y++)if(v[y].indexOf('format("svg")')>0)for(var _=v[y].indexOf("url"),b=v[y].indexOf(")",_),w=v[y].substr(_+5,b-_-6),M=a.parseXml(a.ajax(w)),x=M.getElementsByTagName("font"),S=0;S<x.length;S++){var E=a.CreateElement(x[S]);a.Definitions[g]=E}}}},a.Element.style.prototype=new a.Element.ElementBase,a.Element.use=function(e){this.base=a.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var t=this.getHrefAttribute().getDefinition();this.path=function(e){null!=t&&t.path(e)},this.getBoundingBox=function(){if(null!=t)return t.getBoundingBox()},this.renderChildren=function(e){if(null!=t){var n=t;"symbol"==t.type&&(n=new a.Element.svg,n.type="svg",n.attributes.viewBox=new a.Property("viewBox",t.attribute("viewBox").value),n.attributes.preserveAspectRatio=new a.Property("preserveAspectRatio",t.attribute("preserveAspectRatio").value),n.attributes.overflow=new a.Property("overflow",t.attribute("overflow").value),n.children=t.children),"svg"==n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new a.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new a.Property("height",this.attribute("height").value)));var i=n.parent;n.parent=null,n.render(e),n.parent=i}}},a.Element.use.prototype=new a.Element.RenderedElementBase,a.Element.mask=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==r&&0==o){for(var s=new a.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var n=Math.floor(s.x1),i=Math.floor(s.y1),r=Math.floor(s.width()),o=Math.floor(s.height())}var u=t.attribute("mask").value;t.attribute("mask").value="";var c=document.createElement("canvas");c.width=n+r,c.height=i+o;var d=c.getContext("2d");this.renderChildren(d);var h=document.createElement("canvas");h.width=n+r,h.height=i+o;var p=h.getContext("2d");t.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=d.createPattern(c,"no-repeat"),p.fillRect(0,0,n+r,i+o),e.fillStyle=p.createPattern(h,"no-repeat"),e.fillRect(0,0,n+r,i+o),t.attribute("mask").value=u},this.render=function(e){}},a.Element.mask.prototype=new a.Element.ElementBase,a.Element.clipPath=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var n=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var i=0;i<this.children.length;i++){var r=this.children[i];if(void 0!==r.path){var o=null;r.style("transform",!1,!0).hasValue()&&(o=new a.Transform(r.style("transform",!1,!0).value),o.apply(e)),r.path(e),CanvasRenderingContext2D.prototype.closePath=n,o&&o.unapply(e)}}n.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=n},this.render=function(e){}},a.Element.clipPath.prototype=new a.Element.ElementBase,a.Element.filter=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=Math.floor(n.x1),r=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=t.style("filter").value;t.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var d=this.children[c].extraFilterDistance||0;l=Math.max(l,d),u=Math.max(u,d)}var h=document.createElement("canvas");h.width=o+2*l,h.height=a+2*u;var p=h.getContext("2d");p.translate(-i+l,-r+u),t.render(p);for(var c=0;c<this.children.length;c++)"function"==typeof this.children[c].apply&&this.children[c].apply(p,0,0,o+2*l,a+2*u);e.drawImage(h,0,0,o+2*l,a+2*u,i-l,r-u,o+2*l,a+2*u),t.style("filter",!0).value=s},this.render=function(e){}},a.Element.filter.prototype=new a.Element.ElementBase,a.Element.feMorphology=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},a.Element.feMorphology.prototype=new a.Element.ElementBase,a.Element.feComposite=function(e){this.base=a.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},a.Element.feComposite.prototype=new a.Element.ElementBase,a.Element.feColorMatrix=function(e){function t(e,t,n,i,r,o){return e[n*i*4+4*t+o]}function n(e,t,n,i,r,o,a){e[n*i*4+4*t+o]=a}function i(e,t){var n=r[e];return n*(n<0?t-255:t)}this.base=a.Element.ElementBase,this.base(e);var r=a.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var o=r[0];r=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var s=r[0]*Math.PI/180,l=function(e,t,n){return e+Math.cos(s)*t+Math.sin(s)*n};r=[l(.213,.787,-.213),l(.715,-.715,-.715),l(.072,-.072,.928),0,0,l(.213,-.213,.143),l(.715,.285,.14),l(.072,-.072,-.283),0,0,l(.213,-.213,-.787),l(.715,-.715,.715),l(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(e,r,o,a,s){for(var l=e.getImageData(0,0,a,s),o=0;o<s;o++)for(var r=0;r<a;r++){var u=t(l.data,r,o,a,s,0),c=t(l.data,r,o,a,s,1),d=t(l.data,r,o,a,s,2),h=t(l.data,r,o,a,s,3);n(l.data,r,o,a,s,0,i(0,u)+i(1,c)+i(2,d)+i(3,h)+i(4,1)),n(l.data,r,o,a,s,1,i(5,u)+i(6,c)+i(7,d)+i(8,h)+i(9,1)),n(l.data,r,o,a,s,2,i(10,u)+i(11,c)+i(12,d)+i(13,h)+i(14,1)),n(l.data,r,o,a,s,3,i(15,u)+i(16,c)+i(17,d)+i(18,h)+i(19,1))}e.clearRect(0,0,a,s),e.putImageData(l,0,0)}},a.Element.feColorMatrix.prototype=new a.Element.ElementBase,a.Element.feGaussianBlur=function(e){this.base=a.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,i,r,o){if(void 0===t.canvasRGBA)return void a.log("ERROR: StackBlur.js must be included for blur to work");e.canvas.id=a.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),t.canvasRGBA(e.canvas.id,n,i,r,o,this.blurRadius),document.body.removeChild(e.canvas)}},a.Element.feGaussianBlur.prototype=new a.Element.ElementBase,a.Element.title=function(e){},a.Element.title.prototype=new a.Element.ElementBase,a.Element.desc=function(e){},a.Element.desc.prototype=new a.Element.ElementBase,a.Element.MISSING=function(e){a.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},a.Element.MISSING.prototype=new a.Element.ElementBase,a.CreateElement=function(e){var t=e.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var n=null;return n=void 0!==a.Element[t]?new a.Element[t](e):new a.Element.MISSING(e),n.type=e.nodeName,n},a.load=function(e,t){a.loadXml(e,a.ajax(t))},a.loadXml=function(e,t){a.loadXmlDoc(e,a.parseXml(t))},a.loadXmlDoc=function(e,t){a.init(e);var n=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=a.opts.ignoreMouse&&(e.canvas.onclick=function(e){var t=n(new a.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));a.Mouse.onclick(t.x,t.y)},e.canvas.onmousemove=function(e){var t=n(new a.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));a.Mouse.onmousemove(t.x,t.y)});var i=a.CreateElement(t.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var r=!0,o=function(){a.ViewPort.Clear(),e.canvas.parentNode&&a.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=a.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var n=e.canvas.clientWidth||e.canvas.width,o=e.canvas.clientHeight||e.canvas.height;if(1==a.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(n=i.style("width").toPixels("x"),o=i.style("height").toPixels("y")),a.ViewPort.SetCurrent(n,o),null!=a.opts.offsetX&&(i.attribute("x",!0).value=a.opts.offsetX),null!=a.opts.offsetY&&(i.attribute("y",!0).value=a.opts.offsetY),null!=a.opts.scaleWidth||null!=a.opts.scaleHeight){var s=null,l=null,u=a.ToNumberArray(i.attribute("viewBox").value);null!=a.opts.scaleWidth&&(i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/a.opts.scaleWidth:isNaN(u[2])||(s=u[2]/a.opts.scaleWidth)),null!=a.opts.scaleHeight&&(i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/a.opts.scaleHeight:isNaN(u[3])||(l=u[3]/a.opts.scaleHeight)),null==s&&(s=l),null==l&&(l=s),i.attribute("width",!0).value=a.opts.scaleWidth,i.attribute("height",!0).value=a.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/s+","+1/l+")"}1!=a.opts.ignoreClear&&e.clearRect(0,0,n,o),i.render(e),r&&(r=!1,"function"==typeof a.opts.renderCallback&&a.opts.renderCallback(t))},s=!0;a.ImagesLoaded()&&(s=!1,o()),a.intervalID=setInterval(function(){var e=!1;if(s&&a.ImagesLoaded()&&(s=!1,e=!0),1!=a.opts.ignoreMouse&&(e|=a.Mouse.hasEvents()),1!=a.opts.ignoreAnimation)for(var t=0;t<a.Animations.length;t++)e|=a.Animations[t].update(1e3/a.FRAMERATE);"function"==typeof a.opts.forceRedraw&&1==a.opts.forceRedraw()&&(e=!0),e&&(o(),a.Mouse.runEvents())},1e3/a.FRAMERATE)},a.stop=function(){a.intervalID&&clearInterval(a.intervalID)},a.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){a.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},a}var o,a=function(e,t,n){if(null!=e||null!=t||null!=n){"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=r(n||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=i);var o=e.getContext("2d");void 0!==t.documentElement?i.loadXmlDoc(o,t):"<"==t.substr(0,1)?i.loadXml(o,t):i.load(o,t)}else for(var s=document.querySelectorAll("svg"),l=0;l<s.length;l++){var u=s[l],c=document.createElement("canvas");c.width=u.clientWidth,c.height=u.clientHeight,u.parentNode.insertBefore(c,u),u.parentNode.removeChild(u);var d=document.createElement("div");d.appendChild(u),a(c,d.innerHTML)}};void 0!==Element.prototype.matches?o=function(e,t){return e.matches(t)}:void 0!==Element.prototype.webkitMatchesSelector?o=function(e,t){return e.webkitMatchesSelector(t)}:void 0!==Element.prototype.mozMatchesSelector?o=function(e,t){return e.mozMatchesSelector(t)}:void 0!==Element.prototype.msMatchesSelector?o=function(e,t){return e.msMatchesSelector(t)}:void 0!==Element.prototype.oMatchesSelector?o=function(e,t){return e.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(o=function(e,t){return $(e).is(t)}),void 0===o&&(o=Sizzle.matchesSelector));var s=/(\[[^\]]+\])/g,l=/(#[^\s\+>~\.\[:]+)/g,u=/(\.[^\s\+>~\.\[:]+)/g,c=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,d=/(:[\w-]+\([^\)]*\))/gi,h=/(:[^\s\+>~\.\[:]+)/g,p=/([^\s\+>~\.\[:]+)/g;return"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r,o){var s={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r};for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l]);a(this.canvas,e,s)}),a})},function(e,t){e.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,o=n[i].process,a=r.exec(e);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,i=0;i<n.length;i++)for(var r=n[i].example,o=0;o<r.length;o++)e[e.length]=r[o];for(var a in t)e[e.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var i=0;i<e.length;i++)try{var l=document.createElement("li"),u=new RGBColor(e[i]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+e[i]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(d),s.appendChild(l)}catch(e){}return s}}},function(e,t){function n(e,t,n,a){if(!(isNaN(a)||a<1)){a|=0;var s,l,u,c,d,h,p,f,m,g,v,y,_,b,w,M,x,S,E,T,C,L,D,A,P=a+a+1,k=t-1,O=n-1,I=a+1,R=I*(I+1)/2,N=new i,B=N;for(u=1;u<P;u++)if(B=B.next=new i,u==I)var j=B;B.next=N;var F=null,Y=null;p=h=0;var z=r[a],U=o[a];for(l=0;l<n;l++){for(M=x=S=E=f=m=g=v=0,y=I*(T=e[h]),_=I*(C=e[h+1]),b=I*(L=e[h+2]),w=I*(D=e[h+3]),f+=R*T,m+=R*C,g+=R*L,v+=R*D,B=N,u=0;u<I;u++)B.r=T,B.g=C,B.b=L,B.a=D,B=B.next;for(u=1;u<I;u++)c=h+((k<u?k:u)<<2),f+=(B.r=T=e[c])*(A=I-u),m+=(B.g=C=e[c+1])*A,g+=(B.b=L=e[c+2])*A,v+=(B.a=D=e[c+3])*A,M+=T,x+=C,S+=L,E+=D,B=B.next;for(F=N,Y=j,s=0;s<t;s++)e[h+3]=D=v*z>>U,0!=D?(D=255/D,e[h]=(f*z>>U)*D,e[h+1]=(m*z>>U)*D,e[h+2]=(g*z>>U)*D):e[h]=e[h+1]=e[h+2]=0,f-=y,m-=_,g-=b,v-=w,y-=F.r,_-=F.g,b-=F.b,w-=F.a,c=p+((c=s+a+1)<k?c:k)<<2,M+=F.r=e[c],x+=F.g=e[c+1],S+=F.b=e[c+2],E+=F.a=e[c+3],f+=M,m+=x,g+=S,v+=E,F=F.next,y+=T=Y.r,_+=C=Y.g,b+=L=Y.b,w+=D=Y.a,M-=T,x-=C,S-=L,E-=D,Y=Y.next,h+=4;p+=t}for(s=0;s<t;s++){for(x=S=E=M=m=g=v=f=0,h=s<<2,y=I*(T=e[h]),_=I*(C=e[h+1]),b=I*(L=e[h+2]),w=I*(D=e[h+3]),f+=R*T,m+=R*C,g+=R*L,v+=R*D,B=N,u=0;u<I;u++)B.r=T,B.g=C,B.b=L,B.a=D,B=B.next;for(d=t,u=1;u<=a;u++)h=d+s<<2,f+=(B.r=T=e[h])*(A=I-u),m+=(B.g=C=e[h+1])*A,g+=(B.b=L=e[h+2])*A,v+=(B.a=D=e[h+3])*A,M+=T,x+=C,S+=L,E+=D,B=B.next,u<O&&(d+=t);for(h=s,F=N,Y=j,l=0;l<n;l++)c=h<<2,e[c+3]=D=v*z>>U,D>0?(D=255/D,e[c]=(f*z>>U)*D,e[c+1]=(m*z>>U)*D,e[c+2]=(g*z>>U)*D):e[c]=e[c+1]=e[c+2]=0,f-=y,m-=_,g-=b,v-=w,y-=F.r,_-=F.g,b-=F.b,w-=F.a,c=s+((c=l+I)<O?c:O)*t<<2,f+=M+=F.r=e[c],m+=x+=F.g=e[c+1],g+=S+=F.b=e[c+2],v+=E+=F.a=e[c+3],F=F.next,y+=T=Y.r,_+=C=Y.g,b+=L=Y.b,w+=D=Y.a,M-=T,x-=C,S-=L,E-=D,Y=Y.next,h+=t}}}function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(6),a=n(19),s=n(5),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=function(){function e(t,n){if(i(this,e),this.tilemanager=n,this.showErrorImage=!0,this.delaySvgOnloadMs=50,this.processor=null,o.Helpers.isMobile()&&(this.delaySvgOnloadMs=200),window.ActiveXObject||"ActiveXObject"in window){var r=new ActiveXObject("Msxml2.XSLTemplate.6.0"),a=new ActiveXObject("Msxml2.FreeThreadedDOMDocument.6.0");a.async=!1,a.loadXML((new XMLSerializer).serializeToString(t)),r.stylesheet=a,this.processor=r.createProcessor()}else this.processor=new XSLTProcessor,this.processor.importStylesheet(t),this._document=document.implementation.createDocument("","",null);this.varianceMap=this.constructVarietyMap(t)}return r(e,[{key:"xpath_to_js",value:function(e){var t=e.replace(new RegExp("/row/value\\[@colname=([^\\]]+?)\\]","g"),"row[$1]").replace(/concat/g,'"".concat').replace(/^(.*)$/g,"return $1;");return new Function("row",t)}},{key:"processImages",value:function(e,t){var n=void 0,i=[],r=e,o=0,a=[];if(n=r,"undefined"!=typeof XSLTProcessor){if(n.childNodes.length>0){var s=function(e){return{xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"}[e]||null},l=void 0,u=void 0,c=!1;void 0===n.firstElementChild?(l=document.evaluate("//image",n.firstChild,s,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null),c=!0):l=this.dataEngine._document.evaluate("//svg:image[@xlink:href]",n.firstElementChild,s,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null);do{if(null!=(u=l.iterateNext())){if(c&&(void 0===u.attributes["xlink:href"]||null==u.attributes["xlink:href"]))continue;i.push({node:u,href:u.attributes["xlink:href"].nodeValue})}}while(null!=u)}}else{n.setProperty("SelectionLanguage","XPath"),n.setProperty("SelectionNamespaces","xmlns:xsl='http://www.w3.org/1999/XSL/Transform' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svg='http://www.w3.org/2000/svg'");var d;if(d=n.selectNodes("//svg:image[@xlink:href]"),d.length>0)for(var h=0;h<d.length;h++)for(var p=0;p<d[h].attributes.length;p++)"xlink:href"===d[h].attributes[p].nodeName&&i.push({node:d[h],href:d[h].attributes[p].nodeValue})}this.imageLoaderStore.objects.length>=this.imageLoaderStore.policy.hardLimit&&this.imageLoaderStore.purge();for(var f=0;f<i.length;f++){var m=i[f].href;0!==m.indexOf("/")&&0!==m.indexOf("http")&&(m=this.relativePathToAbsolute(m)),0!==m.indexOf("http")&&(m=(location.origin?location.origin:"")+m);var g=this.imageLoaderStore.getObject(m);if(g)0!==g.data.state?1===g.data.state&&this.dataEngine.showErrorImage?i[f].new=this.imageFailedB64:i[f].new=g.data.data:(o++,i[f].new=""),a.push(g);else if(this.imageLoaderStore.getLockedCount()>this.imageLoaderStore.policy.softLimit)i[f].new="",o++;else{var v=this.loadImage(m,t);g=this.imageLoaderStore.setObject(v,m),void 0!==g&&null!=g&&(g.locked=!0),i[f].new="",o++}}for(var y=0;y<i.length;y++)i[y].new===this.imageFailedB64&&!1===this.dataEngine.showErrorImage&&(i[y].new=""),""!==i[y].new?i[y].node.setAttribute("xlink:href",i[y].new):i[y].node.parentNode.removeChild(i[y].node);if(0!==o)for(var _=0;_<a.length;_++)a[_].locked=!0;else for(var b=0;b<a.length;b++)a[b].locked=!1;return{data:n,state:0!==o}}},{key:"constructVarietyMap",value:function(e){var t={},n={};try{t=e.childNodes[0];for(var i=0;i<t.childNodes.length;i++)if("string"==typeof t.childNodes[i].tagName&&t.childNodes[i].tagName.endsWith(":variable")){var r=t.childNodes[i].getAttribute("name"),o=t.childNodes[i].getAttribute("select");if(null!=r&&null!=o){var s=!1;if("hideErrorImage"===r&&(this.showErrorImage=!1,s=!0),"textureFiltering"===r){do{o=o.replace("'","")}while(o.indexOf("'")>=0);switch(o){case"blend":case"linear":case"bilinear":this.tilemanager.textureFilter=l.LinearFilter;break;default:this.tilemanager.textureFilter=l.NearestFilter}this.showErrorImage=!1,s=!0}if("defaultErrorImage"===r){do{o=o.replace("'","")}while(o.indexOf("'")>=0);this.tilemanager.loadDefaultErrorImage(o),s=!0}n[r]||s||"_"===r.substring(0,1)||0!==r.indexOf("key_")||(n[r]=this.xpath_to_js(o))}}return n}catch(e){return a.Log.error(e.toString()),null}}},{key:"transformRowToFragment",value:function(e){if("undefined"!=typeof XSLTProcessor){var t=void 0,n="Could not determine reason for failure.";try{t=this.processor.transformToFragment(e,this._document)}catch(e){n=e.toString()}return t||void a.Log.error("Failed to perform transformation on row data, the output will be blank. "+n)}return this.processor.input=e,this.processor.output=new ActiveXObject("Msxml2.FreeThreadedDOMDocument.6.0"),this.processor.transform(),this.processor.output}},{key:"row_to_xml",value:function(e,t){var n,i=document.implementation.createDocument(null,"row",null);i.documentElement.setAttribute("size",e);for(n in t)if(t.hasOwnProperty(n)){var r=i.createElement("value");r.setAttribute("colname",n),r.textContent=t[n],i.documentElement.appendChild(r)}return i}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){i(this,e),this.url="",this.state=0,this.data={},this.jobId=-1,this.identity="imagerequestcontainer",this.mimeType="image/png"};t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,r,o){i(this,e),this.state=0,this.frozen=!1,this.sprite=t,this.layer=n,this.id=o,this.executor=this.defaultExecutor,this.data=r||{},this.execCount=0}return r(e,[{key:"getDrawingRegion",value:function(){return this.layer}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),l=n(43),u=n(3),c=n(89),d=function(e){return e&&e.__esModule?e:{default:e}}(c),h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o;return a.groupsMargin=0,a.minCellShowDimension=40,a.groupsBorder=.1,o}return o(t,e),a(t,[{key:"show",value:function(e){function t(e,t){var n={};if(t===g.selectedGroup){g.selectedGroup=null,g.selectedSubGroup=null,s.Events.emitEvent("view.group.deselected");for(var i=0;i<g.viewManager.groups.groupBy.children.length;i++)g.viewManager.groups.groupBy.children[i].position.z=-1.05,g.viewManager.groups.groupBy.children[i].material.opacity=1,g.viewManager.groups.groupBy.children[i].material=g.viewManager.groups.groupBy.children[i].userData.referenceMaterial}else{var r=e;r.sprites=r.elements,n.color="#"+e.color.toString().substr(2),r.isRange?n.name=r.startingValue+u.Config.i18nValue("range-label")+r.endingValue:n.name=r.startingValue,n.sortBy=g.datastore.getSortColumn().name,n.total=r.sprites.length,g.selectedGroup=t,s.Events.emitEvent("view.group.selected",[n]),g.viewManager.currentView.toggleGroupVisibility(g.selectedGroup)}}var n,i,r,o,a,c,d,h,p,f,m,g=this,v={},y=parseFloat(g.getViewConfigObject("Grid").options.tileSpacing)/100;if(isNaN(y)&&(y=.1),g.initView(e),c=g.viewManager.groupBy,""!==c&&(m=!0),p=g.initMeshes(e),m){n=g.getBinnedData(p,c),n.bins.forEach(function(e,t,n){e.index=t,e.color=l.Colors.getSequentialColorByIndex(t,n.length)}),s.Events.emitEvent("legend.request",[c,n.bins]),i=g.createBinsByMap(p,n.relations,n.bins.length),g.manageDuplicateMeshes(i),p=[];for(var _=0;_<i.length;_+=1)for(var b=i[_],w=0;w<b.meshes.length;w+=1)p.push(b.meshes[w]);for(var M=0;M<g.viewManager.items.length;M++){var x=g.viewManager.items[M];-1===p.indexOf(x)&&g.setMeshNotSelectedProperties(x)}}else g.purgeDuplicates(),g.sortMeshes(p,g.datastore.getSortColumn().name);if(g.viewManager.coreNode.getProbe("compute position").start(),g.viewManager.calculateOptimalCellSize(),a=g.getGrid(p.length,g.viewManager.stageViewport.fullWidth-g.viewManager.stageViewport.left-5,g.viewManager.stageViewport.fullHeight-g.viewManager.stageViewport.top-g.viewManager.toolbar.clientHeight,g.viewManager.cellSize.width,g.viewManager.cellSize.height),r=a.height,o=a.width,m?(d=g.groupsBorder,h=g.groupsMargin):(h=0,d=0),v.width=o*(1-y-h-d),v.height=r*(1-y-h-d),g.setPictureSize(v),g.setMeshesPosition(p,function(e){var t={};return f=p[e],e<p.length-1?f.userData.nextMeshId=p[e+1].name:delete f.userData.nextMeshId,e>0?f.userData.previousMeshId=p[e-1].name:delete f.userData.previousMeshId,t.x=a.width*(e%a.columns)+.5*a.width,t.y=a.height*Math.floor(e/a.columns)+.5*a.height,t}),g.viewManager.coreNode.getProbe("compute position").stop(),g.groupClickHandler=t,m)g.bakeGroupObjects(n.bins);else do{g.viewManager.groups.groupBy.remove(g.viewManager.groups.groupBy.children[0])}while(g.viewManager.groups.groupBy.children.length>0);s.Events.emitEvent("view.shown")}}]),t}(d.default);t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(6),l=n(2),u=n(43),c=n(3),d=n(89),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.contextMenuItems=[],o.horizontalMarginPx=5,o.horizontalPaddingPx=3,o.infoBarHeight=70,o.infoBarPaddingTop=4,o.columnDivisorWidth=2,o.fontSize=14,o.fontSizeMobile=12,o.padding=parseFloat(o.getViewConfigObject("Graph").options.tileSpacing)/100,o.fontFamily='"Trebuchet MS", Helvetica, sans-serif',o.allSubGroups=[],o.binnedData,o.cellHeightSubGroupsWithBor,o.cellHeightWithPadding,o.columnInnerWidth,o.cellSize={},o.cellWidthSubGroupsWithBor,o.cellWidthWithPadding,o.column,o.columnBackground,o.columnButton,o.columnDivisor,o.columnElementsCount,o.columnHeight,o.columnName,o.columnNameHeight,o.columnPaddingWidth,o.columns=[],o.columnSpritesMap,o.columnWidth,o.columnX,o.currentColumns,o.drawLayer,o.drawMesh,o.endingName,o.filteredCount,o.firstRowElements,o.grid,o.groupingFacet,o.groupingFacetType,o.maxCount=0,o.numberOfColumns=0,o.numberOfSubgroups,o.selectedMeshes,o.mesh,o.spriteFound,o.startingName,o.subGroupContainers={},o.subGroupFacet,o.subGroupIndex,o.subGroupTextures={},o.subGroups,o.subGroupsBorder,o.subGroupsMargin,o.usingSubGroups=!1,o.whiteTexture,o.hoverGroup,o.pixelPadding=20,o.backgroundColor="#EDEDED",o}return o(t,e),a(t,[{key:"viewDisposal",value:function(){this.drawMesh.visible=!1}},{key:"mouseEventMove",value:function(){if(arguments.length>0&&1==this.viewManager.camera.zoom){var e=arguments[0];this.renderUI(e)}}},{key:"mouseEventClick",value:function(){if(arguments.length>0&&1==this.viewManager.camera.zoom){var e=arguments[0];this.clickUI(e)}}},{key:"renderEvents",value:function(){this.viewManager.currentView==this&&null!=this.drawLayer&&(1==this.viewManager.camera.zoom?this.drawLayer.mesh.visible=!0:this.drawLayer.mesh.visible=!1)}},{key:"columnButtonClick",value:function(e){this.datastore.removeCategoryFromFilter(this.groupingFacet.name,!0),this.groupingFacetType=this.datastore.getOriginFacet(this.groupingFacet.name).type,"null"!==e.startingValue&&"Number"===this.groupingFacetType||"null"!==e.startingValue&&"Date"===this.groupingFacetType?this.datastore.addToFilter(this.groupingFacet.name,[e.startingGroupingValue,e.endingGroupingValue],"range",!0):("null"===e.startingValue&&(e.facetValuesUnique=null),this.datastore.addToFilter(this.groupingFacet.name,e.facetValuesUnique,"equal"))}},{key:"columnButtonOver",value:function(){this.columnBackround.alpha=1,this.viewManager.animationLoop()}},{key:"columnButtonOut",value:function(){this.columnBackround.alpha=0,this.viewManager.animationLoop()}},{key:"clickUI",value:function(e){var t=e||window.event;this.viewManager.currentView==this&&(this.hoverGroup&&this.columnButtonClick(this.hoverGroup),t.preventDefault(),t.stopPropagation(),this.renderUI(t))}},{key:"renderUI",value:function(e){var t=e||window.event,n=this.viewManager,i=n.drawingManager;if(e){i.clearLayer(this.drawLayer);var r;r=this.getLocalPosition3D(t),r.x+=this.viewManager.stageViewport.left,r.y+=this.viewManager.stageViewport.top,this.columnHeight=this.viewManager.stageViewport.height-this.viewManager.stageViewport.top-this.viewManager.toolbar.clientHeight-this.pixelPadding,this.hoverGroup=null,i.drawRect(this.drawLayer,0,0,window.innerWidth,window.innerHeight,{fillStyle:this.backgroundColor});for(var o=0;o<this.currentColumns.length;o+=1){var a=this.currentColumns[o],l=this.columnWidth,u=this.columnWidth*o+this.horizontalPaddingPx+this.horizontalMarginPx,d=a.meshes.length;this.firstRowElements=d%this.grid.columns,r.x>u+this.viewManager.stageViewport.left-this.horizontalPaddingPx-this.horizontalMarginPx&&r.x<u+l+this.viewManager.stageViewport.left-this.horizontalPaddingPx-this.horizontalMarginPx&&r.y>this.viewManager.stageViewport.top+this.columnHeight-this.pixelPadding&&r.y<this.viewManager.stageViewport.top+this.viewManager.stageViewport.height&&(i.drawRect(this.drawLayer,u+this.viewManager.stageViewport.left-this.horizontalMarginPx,this.viewManager.stageViewport.top,l-2*this.horizontalMarginPx,this.viewManager.stageViewport.height,{fillStyle:c.Config.properties().colors.primary}),this.hoverGroup=a);var h=d/this.filteredCount*100,p=h<1&&0!==h?"<1":Math.round(h),f=d+" ("+p+"%)";i.drawText(this.drawLayer,this.viewManager.stageViewport.left+l*o+this.horizontalMarginPx+this.horizontalPaddingPx,this.viewManager.stageViewport.top+this.columnHeight+this.infoBarPaddingTop+this.viewManager.header.clientHeight-this.pixelPadding,f,{font:this.fontSize+"px "+this.fontFamily,fillStyle:c.Config.properties().colors.deselected,textAlign:"left",textBaseline:"top"});var m=null!==a.startingValue?a.startingValue.toString():c.Config.i18nValue("null-data"),g=null!==a.endingValue?a.endingValue.toString():c.Config.i18nValue("null-data");a.isRange?a.name=m+c.Config.i18nValue("range-label")+g:a.name=m,i.drawMultiText(this.drawLayer,this.viewManager.stageViewport.left+l*o+l/2,this.viewManager.stageViewport.top+this.columnHeight+this.viewManager.toolbar.clientHeight-this.pixelPadding+20,a.name,l,50,{font:this.fontSize+"px "+this.fontFamily,fillStyle:c.Config.properties().colors.primaryDark,textAlign:"center",textBaseline:"top"}),s.Helpers.isMobile()||i.drawLine(this.drawLayer,this.viewManager.stageViewport.left+l*o-this.columnDivisorWidth/2,this.viewManager.stageViewport.top,this.viewManager.stageViewport.left+l*o-this.columnDivisorWidth/2,this.viewManager.stageViewport.top+this.viewManager.stageViewport.height,{strokeStyle:c.Config.properties().colors.deselected,lineWidth:this.columnDivisorWidth})}}}},{key:"groupClickHandler",value:function(e,t){var n={};if(t===this.selectedGroup){this.selectedGroup=null,this.selectedSubGroup=null,l.Events.emitEvent("view.group.deselected");for(var i=0;i<this.viewManager.groups.groupBy.children.length;i++)this.viewManager.groups.groupBy.children[i].position.z=-1.05,this.viewManager.groups.groupBy.children[i].material.opacity=1,this.viewManager.groups.groupBy.children[i].material=this.viewManager.groups.groupBy.children[i].userData.referenceMaterial}else{var r=e;r.sprites=r.elements,n.color="#"+e.color.toString().substr(2),r.isRange?n.name=r.startingValue+c.Config.i18nValue("range-label")+r.endingValue:n.name=r.startingValue,n.sortBy=this.datastore.getSortColumn().name,n.total=r.sprites.length,this.selectedGroup=t,n.columns=[];for(var o=this.columns.length,i=0;i<o;i+=1)n.columns.push({name:this.columns[i].name,startingValue:this.columns[i].startingValue,endingValue:this.columns[i].endingValue,length:void 0!==this.columns[i].subGroupsByIndex[t]?this.columns[i].subGroupsByIndex[t].meshes.length:0});l.Events.emitEvent("view.group.selected",[n]),this.toggleGroupVisibility(this.selectedGroup)}}},{key:"show",value:function(e){var t=0,n=this.viewManager,i=n.drawingManager;if(isNaN(this.padding)&&(this.padding=.1),l.Events.on("view.hide",this.viewDisposal.bind(this)),this.currentColumns||(l.Events.on("scene.mousemove",this.mouseEventMove.bind(this)),l.Events.on("scene.mousedown",this.mouseEventClick.bind(this)),l.Events.on("scene.touchstart",this.mouseEventMove.bind(this)),l.Events.on("scene.touchend",this.mouseEventClick.bind(this)),l.Events.on("core.render",this.renderEvents.bind(this))),"children"in n.groups.groupBy)do{n.groups.groupBy.remove(n.groups.groupBy.children[0])}while(n.groups.groupBy.children.length>0);var r,o,a;if(this.initView(e),this.clickUI=this.clickUI.bind(this),n.layers.graph||(n.layers.graph=i.createLayer(2048,1024,"internal.view.graph"),this.drawLayer=n.layers.graph,this.drawMesh=n.createMeshFromLayer(this.drawLayer),this.drawMesh.position.z=-3,i.setProjectionSize(this.drawLayer,window.innerWidth,n.stageViewport.fullHeight),n.groups.selection.add(this.drawMesh)),this.drawLayer.texture.minFilter=1006,this.drawLayer.texture.maxFilter=1003,this.positionMeshToView(this.drawMesh,!0),i.setProjectionSize(this.drawLayer,window.innerWidth,n.stageViewport.fullHeight),i.clearLayer("internal.view.graph"),this.drawMesh.visible=!0,s.Helpers.isMobile()&&(this.fontSize=this.fontSizeMobile),this.groupingFacet=this.datastore.getSortColumn(),this.groupingFacetType=this.datastore.getOriginFacet(this.groupingFacet.name).type,this.filteredCount=this.datastore.getFilteredCount(),this.subGroupFacet=n.groupBy,""!==this.subGroupFacet&&this.groupingFacet.name!=this.subGroupFacet?(this.usingSubGroups=!0,this.subGroupsBorder=this.groupsBorder,this.subGroupsMargin=this.groupsMargin):this.usingSubGroups=!1,n.coreNode.getProbe("compute position").start(),this.selectedMeshes=this.initMeshes(e),this.binnedData=this.getBinnedData(this.selectedMeshes,this.groupingFacet.name),this.columns=this.binnedData.bins,this.maxCount=this.binnedData.maxCount,this.currentColumns=this.columns,this.usingSubGroups){t=this.columns.length;for(var o=0;o<t;o+=1)this.sortMeshes(this.columns[o].meshes,this.groupingFacet.name,this.subGroupFacet);this.binnedData=this.getBinnedData(this.selectedMeshes,this.subGroupFacet,!1),t=this.binnedData.bins.length;for(var o=0;o<t;o+=1)this.binnedData.bins[o].color=u.Colors.getColorByIndex(o);l.Events.emitEvent("legend.request",[this.subGroupFacet,this.binnedData.bins])}if(this.numberOfColumns=this.columns.length,this.usingSubGroups){this.maxCount=0,this.columnSpritesMap={};for(var o=0;o<this.numberOfColumns;o+=1){this.column=this.columns[o],this.column.subGroups=[],this.column.subGroupsByIndex={},t=this.column.meshes.length;var c=0;for(a=0;a<t;a+=1){var d=this.column.meshes[a],h=this.binnedData.relations[d.name];if(void 0!==h)for(r=0;r<h.length;r+=1){var p=h[r];void 0===this.column.subGroupsByIndex[p]&&(this.column.subGroups.push({index:p,meshes:[]}),this.column.subGroupsByIndex[p]=this.column.subGroups[c],c+=1),this.column.subGroupsByIndex[p].meshes.push(d)}}for(this.column.meshes=[],n.coreNode.getProbe("compute position").stop(),this.manageDuplicateMeshes(this.column.subGroups,this.columnSpritesMap,{discardOldDuplicates:!1}),n.coreNode.getProbe("compute position").start(),t=this.column.subGroups.length,a=0;a<t;a+=1){var f=this.column.subGroups[a];for(this.sortMeshes(f.meshes,this.groupingFacet.name,this.subGroupFacet),this.column.subGroupsMap={},r=0;r<f.meshes.length;r+=1)this.column.meshes.push(f.meshes[r])}this.column.meshes.length>this.maxCount&&(this.maxCount=this.column.meshes.length)}}else this.manageDuplicateMeshes(this.columns);this.columnWidth=n.stageViewport.width/this.numberOfColumns,this.columnWidth=this.columnWidth,this.columnPaddingWidth=this.columnWidth-2*this.horizontalPaddingPx,this.columnInnerWidth=this.columnPaddingWidth-2*this.horizontalMarginPx,this.columnHeight=n.stageViewport.height-this.infoBarHeight,this.grid=this.getGrid(this.maxCount,this.columnInnerWidth,this.columnHeight-2*this.pixelPadding,n.cellSize.width,n.cellSize.height),this.cellHeightWithPadding=this.grid.height,this.cellWidthWithPadding=this.grid.width,this.usingSubGroups?(this.cellWidthSubGroupsWithBor=this.cellWidthWithPadding*(1-this.subGroupsMargin),this.cellHeightSubGroupsWithBor=this.cellHeightWithPadding*(1-this.subGroupsMargin)):(this.subGroupsMargin=0,this.subGroupsBorder=0),this.cellSize.width=this.cellWidthWithPadding*(1-this.padding-this.subGroupsMargin-this.subGroupsBorder),this.cellSize.height=this.cellHeightWithPadding*(1-this.padding-this.subGroupsMargin-this.subGroupsBorder),this.setPictureSize(this.cellSize);for(var m,g,v,y=this.columns,_=this.cellHeightWithPadding,b=this.cellWidthWithPadding,w=this.columnHeight-this.pixelPadding,M=this.grid,x=this.numberOfColumns,S=(this.usingSubGroups,[]),o=0;o<this.numberOfColumns;o+=1)m=this.columns[o],g=this.columnWidth*o+this.horizontalPaddingPx+this.horizontalMarginPx,t=m.meshes.length,v=t%this.grid.columns,this.setMeshesPosition(m.meshes,function(e){var n={},i=m.meshes[e];if(S.push(i),e<m.meshes.length-1)i.userData.nextMeshId=m.meshes[e+1].name;else if(o<x-1){for(var r=o+1,a=!1;r<x;){if(y[r].meshes.length>0){i.userData.nextMeshId=y[r].meshes[0].name,a=!0;break}r+=1}a||delete i.userData.nextMeshId}else delete i.userData.nextMeshId;if(e>0)i.userData.previousMeshId=m.meshes[e-1].name;else if(o>0){for(r=o-1,a=!1;r<x;){if(y[r].meshes.length>0){i.userData.previousMeshId=y[r].meshes[y[r].meshes.length-1].name,a=!0;break}r-=1}a||delete i.userData.previousMeshId}else delete i.userData.previousMeshId;return e<v?(n.x=g+b/2+b*e,n.y=w-_/2-_*Math.floor((t-e)/M.columns)-20):(n.x=g+b/2+b*((e-v)%M.columns),n.y=w-_/2-_*Math.floor((t-e-1)/M.columns)-20),n}),this.usingSubGroups&&(this.subGroups=m.subGroups);for(var E=0;E<this.viewManager.items.length;E++){var T=this.viewManager.items[E];-1===S.indexOf(T)&&this.setMeshNotSelectedProperties(T)}this.renderUI({}),this.binnedData.bins&&this.usingSubGroups&&this.bakeGroupObjects(this.binnedData.bins,!0),n.coreNode.getProbe("compute position").stop(),l.Events.emitEvent("view.shown")}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(782),u=i(l),c=n(783),d=(i(c),n(2)),h=n(3),p=n(19),f=n(89),m=i(f),g=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a={en:{map:"map"},it:{map:"carta"},fr:{map:"carte"},de:{map:"karte"},es:{map:"carte"},ca:{map:"mapa"},bg:{map:""}};h.Config.i18nUpdate(a);var s=i;return s.maxZoom="maxZoom"in n?n.maxZoom:17,s.showItemPopup=!("showItemPopup"in n)||n.showItemPopup,s.mapContainer=document.createElement("div"),s.mapContainer.id="zeg-mapview-container",s.mapContainer.style.width="100%",s.mapContainer.style.height=s.viewManager.stageViewport.fullHeight+"px",s.viewManager.mainPanel.appendChild(s.mapContainer),s.mapDiv=document.createElement("div"),s.mapDiv.id="zeg-mapview-map",s.mapDiv.style.width="100%",s.mapDiv.style.height="100%",s.mapContainer.appendChild(s.mapDiv),s.popup=u.default.popup(),s.noData=null,d.Events.on("ui.resize",i.handleResize.bind(i)),d.Events.on("view.scale.change",function(e){if(void 0!==s.map){var t=.01*s.logToZoom(e);s.map.setZoom(18*t)}}),i}return a(t,e),s(t,[{key:"show",value:function(e){var t=this,n=(t.react,-1),i=[],r=h.Config.properties(),o=u.default.latLngBounds([[-90,-180],[90,180]]),a=[];o=o.pad(.1);var s=t.getFirstGeoFacet();if(null===s)return p.Log.error("No Geographic data type found in data file."),void this.showNoData();if((n=t.datastore.searchFacetIndex(s.name))<0)return p.Log.error("No Geographic data type found in data file."),void this.showNoData();t.viewManager.animating=!1,void 0===t.map&&(t.map=u.default.map(t.mapDiv,{zoomControl:!1,trackResize:!0,maxZoom:t.maxZoom,maxBounds:o,minZoom:1.5}),u.default.Icon.Default.imagePath=r.baseImagePath+"/map/",t.map.on("zoomend",function(e){var n=e.target._zoom/18*100;d.Events.emit("view.scale.updated",[t.zoomToLog(n)])}),t.tileLayer=u.default.tileLayer("//server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}).addTo(t.map),this.show(e)),null!=t.markers?t.markers.clearLayers():t.markers=new u.default.MarkerClusterGroup({spiderfyOnMaxZoom:!0,removeOutsideVisibleBounds:!1}),t.showMap();for(var l=0;l<e.values.length;l+=1){var c=e.values[l];if(c.count>0){var f=t.datastore.getItemById(c.value,!0),m=t.viewManager.getMesh(c.value);if(null!=m&&a.push(m),null!==f.values[n].value){var g=f.values[n].value.split(",");if(g.length<=1)continue;var v=[parseFloat(g[0]),parseFloat(g[1])],y=u.default.marker(v);y.id=c.value,y.on("click",function(e){t.popupClick(e.target)}),y.on("popupclose",function(e){d.Events.emitEvent("view.reset")}),i.push(v),t.markers.addLayer(y)}}}for(var m,_=0;_<a.length;_++)m=a[_],_<a.length-1?m.userData.nextMeshId=a[_+1].name:delete m.userData.nextMeshId,_>0?m.userData.previousMeshId=a[_-1].name:delete m.userData.previousMeshId;i.length>0?(t.map.fitBounds(i,{padding:[this.viewManager.filterPanel.clientWidth,0]}),t.map.addLayer(t.markers)):t.map.fitBounds(o)}},{key:"showNoData",value:function(){null===this.noData&&(this.noData=document.createElement("h1"),this.noData.id="zeg-mapview-nodata",this.noData.style.position="absolute",this.noData.style.textAlign="center",this.noData.style.width="100%",this.noData.style.top="50%",this.noData.textContent="This collection contains no geographic coordinates",this.mapDiv.appendChild(this.noData)),this.showMap()}},{key:"addEvents",value:function(){}},{key:"detach",value:function(){this.hideMap()}},{key:"hideMap",value:function(){this.mapContainer.style.display="none"}},{key:"showMap",value:function(){this.mapContainer.style.display="block"}},{key:"handleResize",value:function(){window.setTimeout(function(){this.mapContainer.style.height=this.viewManager.stageViewport.fullHeight+"px"}.bind(this),50)}},{key:"getFirstGeoFacet",value:function(){for(var e=this.datastore.getFacetTypes(),t=0;t<e.length;t++)if("Geo"===e[t].type)return e[t];return null}},{key:"zoomToLog",value:function(e){var t=Math.log(1),n=Math.log(2e3),i=(n-t)/100;return Math.exp(t+i*(e-0))}},{key:"logToZoom",value:function(e){var t=Math.log(1),n=Math.log(2e3),i=(n-t)/100;return(Math.log(e)-t)/i+0}},{key:"getPopupImage",value:function(e){var t=this.tileManager.getSingleTexture(e);return t.style.maxWidth="350px",t.style.width="100%",t}},{key:"popupClick",value:function(e,t){d.Events.emitEvent("view.reset");var n,i=this.markers.getVisibleParent(e);this.showItemPopup&&(i!==e?(n=this.getPopupImage(e.id),i.on("click",function(e){e.target._popup=null}),i.bindPopup(n,{minWidth:"350",minHeight:"1"}).openPopup()):(void 0===i._popup&&(n=this.getPopupImage(e.id),i.bindPopup(n,{minWidth:"350",minHeight:"1"}).openPopup()),!i.isPopupOpen()&&t&&!0===t&&i.openPopup())),this.selectItem(e.id)}},{key:"getMarker",value:function(e){for(var t,n=this.markers.getLayers(),i=0;i<n.length;i++)if(t=n[i],t.id==e)return t}},{key:"selectMesh",value:function(e,t){var n=this.getMarker(e.name);this.popupClick(n,!0)}},{key:"selectItem",value:function(e){var t=this.viewManager.getMesh(e);null!==t&&d.Events.emitEvent("view.picture.selected",[t])}}]),t}(m.default);t.default=g},function(e,t,n){/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e,n){!function(e){"use strict";function t(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(t in r)e[t]=r[t]}return e}function n(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}function i(e){return e._leaflet_id=e._leaflet_id||++ft,e._leaflet_id}function r(e,t,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(a,t),i=!0)}}function o(e,t,n){var i=t[1],r=t[0],o=i-r;return e===i&&n?e:((e-r)%o+o)%o+r}function a(){return!1}function s(e,t){var n=Math.pow(10,t||5);return Math.round(e*n)/n}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return l(e).split(/\s+/)}function c(e,t){e.hasOwnProperty("options")||(e.options=e.options?pt(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function d(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}function h(e,t){return e.replace(mt,function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i})}function p(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function f(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function m(e){var t=+new Date,n=Math.max(0,16-(t-yt));return yt=t+n,window.setTimeout(e,n)}function g(e,t,i){if(!i||_t!==m)return _t.call(window,n(e,t));e.call(t)}function v(e){e&&bt.call(window,e)}function y(){}function _(e){if(L&&L.Mixin){e=gt(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}function w(e,t,n){return e instanceof b?e:gt(e)?new b(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new b(e.x,e.y):new b(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function x(e,t){return!e||e instanceof M?e:new M(e,t)}function S(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function E(e,t){return e instanceof S?e:new S(e,t)}function T(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function C(e,t,n){return e instanceof T?e:gt(e)&&"object"!=typeof e[0]?3===e.length?new T(e[0],e[1],e[2]):2===e.length?new T(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new T(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new T(e,t,n)}function D(e,t,n,i){if(gt(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function A(e,t,n,i){return new D(e,t,n,i)}function P(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e,t){var n,i,r,o,a,s,l="";for(n=0,r=e.length;n<r;n++){for(a=e[n],i=0,o=a.length;i<o;i++)s=a[i],l+=(i?"L":"M")+s.x+" "+s.y;l+=t?ln?"z":"x":""}return l||"M0 0"}function O(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function I(e,t,n,i){return"touchstart"===t?N(e,n,i):"touchmove"===t?z(e,n,i):"touchend"===t&&U(e,n,i),this}function R(e,t,n){var i=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(dn,i,!1):"touchmove"===t?e.removeEventListener(hn,i,!1):"touchend"===t&&(e.removeEventListener(pn,i,!1),e.removeEventListener(fn,i,!1)),this}function N(e,t,i){var r=n(function(e){if("mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(mn.indexOf(e.target.tagName)<0))return;J(e)}Y(e,t)});e["_leaflet_touchstart"+i]=r,e.addEventListener(dn,r,!1),vn||(document.documentElement.addEventListener(dn,B,!0),document.documentElement.addEventListener(hn,j,!0),document.documentElement.addEventListener(pn,F,!0),document.documentElement.addEventListener(fn,F,!0),vn=!0)}function B(e){gn[e.pointerId]=e,yn++}function j(e){gn[e.pointerId]&&(gn[e.pointerId]=e)}function F(e){delete gn[e.pointerId],yn--}function Y(e,t){e.touches=[];for(var n in gn)e.touches.push(gn[n]);e.changedTouches=[e],t(e)}function z(e,t,n){var i=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Y(e,t)};e["_leaflet_touchmove"+n]=i,e.addEventListener(hn,i,!1)}function U(e,t,n){var i=function(e){Y(e,t)};e["_leaflet_touchend"+n]=i,e.addEventListener(pn,i,!1),e.addEventListener(fn,i,!1)}function H(e,t,n){function i(e){var t;if(tn){if(!Nt||"mouse"===e.pointerType)return;t=yn}else t=e.touches.length;if(!(t>1)){var n=Date.now(),i=n-(o||n);a=e.touches?e.touches[0]:e,s=i>0&&i<=l,o=n}}function r(e){if(s&&!a.cancelBubble){if(tn){if(!Nt||"mouse"===e.pointerType)return;var n,i,r={};for(i in a)n=a[i],r[i]=n&&n.bind?n.bind(a):n;a=r}a.type="dblclick",t(a),o=null}}var o,a,s=!1,l=250;return e[wn+_n+n]=i,e[wn+bn+n]=r,e[wn+"dblclick"+n]=t,e.addEventListener(_n,i,!1),e.addEventListener(bn,r,!1),e.addEventListener("dblclick",t,!1),this}function V(e,t){var n=e[wn+_n+t],i=e[wn+bn+t],r=e[wn+"dblclick"+t];return e.removeEventListener(_n,n,!1),e.removeEventListener(bn,i,!1),Nt||e.removeEventListener("dblclick",r,!1),this}function G(e,t,n,i){if("object"==typeof t)for(var r in t)X(e,r,t[r],n);else{t=u(t);for(var o=0,a=t.length;o<a;o++)X(e,t[o],n,i)}return this}function W(e,t,n,i){if("object"==typeof t)for(var r in t)q(e,r,t[r],n);else if(t){t=u(t);for(var o=0,a=t.length;o<a;o++)q(e,t[o],n,i)}else{for(var s in e[Mn])q(e,s,e[Mn][s]);delete e[Mn]}return this}function X(e,t,n,r){var o=t+i(n)+(r?"_"+i(r):"");if(e[Mn]&&e[Mn][o])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;tn&&0===t.indexOf("touch")?I(e,t,a,o):!nn||"dblclick"!==t||!H||tn&&zt?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,re(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1)):("click"===t&&jt&&(a=function(e){oe(e,s)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):H(e,a,o),e[Mn]=e[Mn]||{},e[Mn][o]=a}function q(e,t,n,r){var o=t+i(n)+(r?"_"+i(r):""),a=e[Mn]&&e[Mn][o];if(!a)return this;tn&&0===t.indexOf("touch")?R(e,t,o):nn&&"dblclick"===t&&V?V(e,o):"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,a,!1):"detachEvent"in e&&e.detachEvent("on"+t,a),e[Mn][o]=null}function Q(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,ie(e),this}function Z(e){return X(e,"mousewheel",Q),this}function K(e){return G(e,"mousedown touchstart dblclick",Q),X(e,"click",ne),this}function J(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function $(e){return J(e),Q(e),this}function ee(e,t){if(!t)return new b(e.clientX,e.clientY);var n=t.getBoundingClientRect();return new b(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)}function te(e){return Nt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/xn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function ne(e){Sn[e.type]=!0}function ie(e){var t=Sn[e.type];return Sn[e.type]=!1,t}function re(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}function oe(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,i=Ct&&n-Ct;if(i&&i>100&&i<500||e.target._simulatedClick&&!e._simulated)return void $(e);Ct=n,t(e)}function ae(e){return"string"==typeof e?document.getElementById(e):e}function se(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function le(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function ue(e){var t=e.parentNode;t&&t.removeChild(e)}function ce(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function de(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function he(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function pe(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ve(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function fe(e,t){if(void 0!==e.classList)for(var n=u(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!pe(e,t)){var o=ve(e);ge(e,(o?o+" ":"")+t)}}function me(e,t){void 0!==e.classList?e.classList.remove(t):ge(e,l((" "+ve(e)+" ").replace(" "+t+" "," ")))}function ge(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ve(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function ye(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&_e(e,t)}function _e(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function be(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function we(e,t,n){var i=t||new b(0,0);e.style[Tn]=(Xt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Me(e,t){e._leaflet_pos=t,Zt?we(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function xe(e){return e._leaflet_pos||new b(0,0)}function Se(){G(window,"dragstart",J)}function Ee(){W(window,"dragstart",J)}function Te(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ce(),An=e,Pn=e.style.outline,e.style.outline="none",G(window,"keydown",Ce))}function Ce(){An&&(An.style.outline=Pn,An=void 0,Pn=void 0,W(window,"keydown",Ce))}function Le(e,t){return new In(e,t)}function De(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Ie(e,n),e=ke(e,n)}function Ae(e,t,n){return Math.sqrt(Fe(e,t,n,!0))}function Pe(e,t,n){return Fe(e,t,n)}function ke(e,t){var n=e.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,Oe(e,r,t,0,n-1);var o,a=[];for(o=0;o<n;o++)r[o]&&a.push(e[o]);return a}function Oe(e,t,n,i,r){var o,a,s,l=0;for(a=i+1;a<=r-1;a++)(s=Fe(e[a],e[i],e[r],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,Oe(e,t,n,i,o),Oe(e,t,n,o,r))}function Ie(e,t){for(var n=[e[0]],i=1,r=0,o=e.length;i<o;i++)je(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<o-1&&n.push(e[o-1]),n}function Re(e,t,n,i,r){var o,a,s,l=i?Gn:Be(e,n),u=Be(t,n);for(Gn=u;;){if(!(l|u))return[e,t];if(l&u)return!1;o=l||u,a=Ne(e,t,o,n,r),s=Be(a,n),o===l?(e=a,l=s):(t=a,u=s)}}function Ne(e,t,n,i,r){var o,a,s=t.x-e.x,l=t.y-e.y,u=i.min,c=i.max;return 8&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):4&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):2&n?(o=c.x,a=e.y+l*(c.x-e.x)/s):1&n&&(o=u.x,a=e.y+l*(u.x-e.x)/s),new b(o,a,r)}function Be(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function je(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function Fe(e,t,n,i){var r,o=t.x,a=t.y,s=n.x-o,l=n.y-a,u=s*s+l*l;return u>0&&(r=((e.x-o)*s+(e.y-a)*l)/u,r>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=l*r)),s=e.x-o,l=e.y-a,i?s*s+l*l:new b(o,a)}function Ye(e){return!gt(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function ze(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(e)}function Ue(e,t,n){var i,r,o,a,s,l,u,c,d,h=[1,4,2,8];for(r=0,u=e.length;r<u;r++)e[r]._code=Be(e[r],t);for(a=0;a<4;a++){for(c=h[a],i=[],r=0,u=e.length,o=u-1;r<u;o=r++)s=e[r],l=e[o],s._code&c?l._code&c||(d=Ne(l,s,c,t,n),d._code=Be(d,t),i.push(d)):(l._code&c&&(d=Ne(l,s,c,t,n),d._code=Be(d,t),i.push(d)),i.push(s));e=i}return e}function He(e){return new di(e)}function Ve(e,t){return new fi(e,t)}function Ge(e,t){return new gi(e,t)}function We(e,t,n){return new vi(e,t,n)}function Xe(e,t){return new yi(e,t)}function qe(e,t){return new _i(e,t)}function Qe(e,t){var n,i,r,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Ze;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),u?u(e,n):new fi(n);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=c(s[r]),l.push(u?u(e,n):new fi(n));return new ui(l);case"LineString":case"MultiLineString":return i=Ke(s,"LineString"===a.type?0:1,c),new yi(i,t);case"Polygon":case"MultiPolygon":return i=Ke(s,"Polygon"===a.type?1:2,c),new _i(i,t);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var d=Qe({geometry:a.geometries[r],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new ui(l);default:throw new Error("Invalid GeoJSON object.")}}function Ze(e){return new T(e[1],e[0],e[2])}function Ke(e,t,n){for(var i,r=[],o=0,a=e.length;o<a;o++)i=t?Ke(e[o],t-1,n):(n||Ze)(e[o]),r.push(i);return r}function Je(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[s(e.lng,t),s(e.lat,t),s(e.alt,t)]:[s(e.lng,t),s(e.lat,t)]}function $e(e,t,n,i){for(var r=[],o=0,a=e.length;o<a;o++)r.push(t?$e(e[o],t-1,n,i):Je(e[o],i));return!t&&n&&r.push(r[0]),r}function et(e,n){return e.feature?t({},e.feature,{geometry:n}):tt(n)}function tt(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function nt(e,t){return new bi(e,t)}function it(e,t,n){return new Ei(e,t,n)}function rt(e){return new Pi(e)}function ot(e){return new ki(e)}function at(e,t){return new Oi(e,t)}function st(e,t){return new Ii(e,t)}function lt(e){return sn?new Ni(e):null}function ut(e){return ln||un?new Yi(e):null}function ct(e,t){return new zi(e,t)}function dt(){return window.L=Qi,this}var ht=Object.freeze;Object.freeze=function(e){return e};var pt=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),ft=0,mt=/\{ *([\w_\-]+) *\}/g,gt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},vt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",yt=0,_t=window.requestAnimationFrame||f("RequestAnimationFrame")||m,bt=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},wt=(Object.freeze||Object)({freeze:ht,extend:t,create:pt,bind:n,lastId:ft,stamp:i,throttle:r,wrapNum:o,falseFn:a,formatNum:s,trim:l,splitWords:u,setOptions:c,getParamString:d,template:h,isArray:gt,indexOf:p,emptyImageUrl:vt,requestFn:_t,cancelFn:bt,requestAnimFrame:g,cancelAnimFrame:v});y.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=pt(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return e.statics&&(t(n,e.statics),delete e.statics),e.includes&&(_(e.includes),t.apply(null,[r].concat(e.includes)),delete e.includes),r.options&&(e.options=t(pt(r.options),e.options)),t(r,e),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},n},y.include=function(e){return t(this.prototype,e),this},y.mergeOptions=function(e){return t(this.prototype.options,e),this},y.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Mt={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else{e=u(e);for(var r=0,o=e.length;r<o;r++)this._on(e[r],t,n)}return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=u(e);for(var r=0,o=e.length;r<o;r++)this._off(e[r],t,n)}else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var r={fn:t,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===t&&o[a].ctx===n)return;o.push(r)},_off:function(e,t,n){var i,r,o;if(this._events&&(i=this._events[e])){if(!t){for(r=0,o=i.length;r<o;r++)i[r].fn=a;return void delete this._events[e]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===t)return s.fn=a,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(r,1)}}},fire:function(e,n,i){if(!this.listens(e,i))return this;var r=t({},n,{type:e,target:this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a];l.fn.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,i){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var o=n(function(){this.off(e,t,i).off(e,o,i)},this);return this.on(e,t,i).on(e,o,i)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[i(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[i(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target},e),!0)}};Mt.addEventListener=Mt.on,Mt.removeEventListener=Mt.clearAllEventListeners=Mt.off,Mt.addOneTimeEventListener=Mt.once,Mt.fireEvent=Mt.fire,Mt.hasEventListeners=Mt.listens;var xt=y.extend(Mt);b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(w(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(w(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new b(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new b(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(e){e=w(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=w(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=w(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},M.prototype={extend:function(e){return e=w(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"==typeof e[0]||e instanceof b?w(e):x(e),e instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=x(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>=t.x&&i.x<=n.x,a=r.y>=t.y&&i.y<=n.y;return o&&a},overlaps:function(e){e=x(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>t.x&&i.x<n.x,a=r.y>t.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},S.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof T)t=e,n=e;else{if(!(e instanceof S))return e?this.extend(C(e)||E(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new T(t.lat,t.lng),this._northEast=new T(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new S(new T(t.lat-i,t.lng-r),new T(n.lat+i,n.lng+r))},getCenter:function(){return new T((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new T(this.getNorth(),this.getWest())},getSouthEast:function(){return new T(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof T||"lat"in e?C(e):E(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof S?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=E(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&i.lat<=n.lat,a=r.lng>=t.lng&&i.lng<=n.lng;return o&&a},overlaps:function(e){e=E(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&i.lat<n.lat,a=r.lng>t.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=E(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},T.prototype={equals:function(e,t){return!!e&&(e=C(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+s(this.lat,e)+", "+s(this.lng,e)+")"},distanceTo:function(e){return Et.distance(this,C(e))},wrap:function(){return Et.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return E([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new T(this.lat,this.lng,this.alt)}};var St={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new T(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new S(new T(o.lat-i,o.lng-r),new T(a.lat-i,a.lng-r))}},Et=t({},St,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((t.lng-e.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),Tt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new b(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new T((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new M([-e,-e],[e,e])}()};D.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new b((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Ct,Lt,Dt,At,Pt=t({},Et,{code:"EPSG:3857",projection:Tt,transformation:function(){var e=.5/(Math.PI*Tt.R);return A(e,.5,-e,.5)}()}),kt=t({},Pt,{code:"EPSG:900913"}),Ot=document.documentElement.style,It="ActiveXObject"in window,Rt=It&&!document.addEventListener,Nt="msLaunchUri"in navigator&&!("documentMode"in document),Bt=O("webkit"),jt=O("android"),Ft=O("android 2")||O("android 3"),Yt=!!window.opera,zt=O("chrome"),Ut=O("gecko")&&!Bt&&!Yt&&!It,Ht=!zt&&O("safari"),Vt=O("phantom"),Gt="OTransition"in Ot,Wt=0===navigator.platform.indexOf("Win"),Xt=It&&"transition"in Ot,qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ft,Qt="MozPerspective"in Ot,Zt=!window.L_DISABLE_3D&&(Xt||qt||Qt)&&!Gt&&!Vt,Kt="undefined"!=typeof orientation||O("mobile"),Jt=Kt&&Bt,$t=Kt&&qt,en=!window.PointerEvent&&window.MSPointerEvent,tn=!(!window.PointerEvent&&!en),nn=!window.L_NO_TOUCH&&(tn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),rn=Kt&&Yt,on=Kt&&Ut,an=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sn=function(){return!!document.createElement("canvas").getContext}(),ln=!(!document.createElementNS||!P("svg").createSVGRect),un=!ln&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),cn=(Object.freeze||Object)({ie:It,ielt9:Rt,edge:Nt,webkit:Bt,android:jt,android23:Ft,opera:Yt,chrome:zt,gecko:Ut,safari:Ht,phantom:Vt,opera12:Gt,win:Wt,ie3d:Xt,webkit3d:qt,gecko3d:Qt,any3d:Zt,mobile:Kt,mobileWebkit:Jt,mobileWebkit3d:$t,msPointer:en,pointer:tn,touch:nn,mobileOpera:rn,mobileGecko:on,retina:an,canvas:sn,svg:ln,vml:un}),dn=en?"MSPointerDown":"pointerdown",hn=en?"MSPointerMove":"pointermove",pn=en?"MSPointerUp":"pointerup",fn=en?"MSPointerCancel":"pointercancel",mn=["INPUT","SELECT","OPTION"],gn={},vn=!1,yn=0,_n=en?"MSPointerDown":tn?"pointerdown":"touchstart",bn=en?"MSPointerUp":tn?"pointerup":"touchend",wn="_leaflet_",Mn="_leaflet_events",xn=Wt&&zt?2*window.devicePixelRatio:Ut?window.devicePixelRatio:1,Sn={},En=(Object.freeze||Object)({on:G,off:W,stopPropagation:Q,disableScrollPropagation:Z,disableClickPropagation:K,preventDefault:J,stop:$,getMousePosition:ee,getWheelDelta:te,fakeStop:ne,skipped:ie,isExternalTarget:re,addListener:G,removeListener:W}),Tn=be(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Cn=be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ln="webkitTransition"===Cn||"OTransition"===Cn?Cn+"End":"transitionend";if("onselectstart"in document)Lt=function(){G(window,"selectstart",J)},Dt=function(){W(window,"selectstart",J)};else{var Dn=be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Lt=function(){if(Dn){var e=document.documentElement.style;At=e[Dn],e[Dn]="none"}},Dt=function(){Dn&&(document.documentElement.style[Dn]=At,At=void 0)}}var An,Pn,kn=(Object.freeze||Object)({TRANSFORM:Tn,TRANSITION:Cn,TRANSITION_END:Ln,get:ae,getStyle:se,create:le,remove:ue,empty:ce,toFront:de,toBack:he,hasClass:pe,addClass:fe,removeClass:me,setClass:ge,getClass:ve,setOpacity:ye,testProp:be,setTransform:we,setPosition:Me,getPosition:xe,disableTextSelection:Lt,enableTextSelection:Dt,disableImageDrag:Se,enableImageDrag:Ee,preventOutline:Te,restoreOutline:Ce}),On=xt.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=xe(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Me(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),In=xt.extend({options:{crs:Pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=c(this,t),this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(C(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Cn&&Zt&&!rn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,Ln,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(C(e),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=t({animate:i.animate},i.zoom),i.pan=t({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Zt?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Zt?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),o=e instanceof b?e:this.latLngToContainerPoint(e),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():E(e);var n=w(t.paddingTopLeft||t.padding||[0,0]),i=w(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),r),s=this.project(e.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(e=E(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=w(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new On,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){function i(e){var t=e?-1:1,n=e?v:m,i=v*v-m*m+t*b*b*y*y,r=2*n*b*y,o=i/r,a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function r(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function a(e){return r(e)/o(e)}function s(e){return m*(o(w)/o(w+_*e))}function l(e){return m*(o(w)*a(w+_*e)-r(w))/b}function u(e){return 1-Math.pow(1-e,1.5)}function c(){var n=(Date.now()-M)/S,i=u(n)*x;n<=1?(this._flyToFrame=g(c,this),this._move(this.unproject(d.add(h.subtract(d).multiplyBy(l(i)/y)),f),this.getScaleZoom(m/s(i),f),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Zt)return this.setView(e,t,n);this._stop();var d=this.project(this.getCenter()),h=this.project(e),p=this.getSize(),f=this._zoom;e=C(e),t=void 0===t?f:t;var m=Math.max(p.x,p.y),v=m*this.getZoomScale(f,t),y=h.distanceTo(d)||1,_=1.42,b=_*_,w=i(0),M=Date.now(),x=(i(1)-w)/_,S=n.duration?1e3*n.duration:1e3*x*.8;return this._moveStart(!0),c.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=E(e),e.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){return this.options.minZoom=e,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(e):this},setMaxZoom:function(e){return this.options.maxZoom=e,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,E(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,e):navigator.geolocation.getCurrentPosition(i,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,i=new T(t,n),r=i.toBounds(e.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:e.timestamp};for(var l in e.coords)"number"==typeof e.coords[l]&&(s[l]=e.coords[l]);this.fire("locationfound",s)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ue(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),i=le("div",n,t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new S(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=E(e),n=w(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),u=x(this.project(s,i),this.project(a,i)).getSize(),c=Zt?this.options.zoomSnap:1,d=l.x/u.x,h=l.y/u.y,p=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(p,i),c&&(i=Math.round(i/(c/100))*(c/100),i=t?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(C(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(w(e),t)},layerPointToLatLng:function(e){var t=w(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(C(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(C(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(E(e))},distance:function(e,t){return this.options.crs.distance(C(e),C(t))},containerPointToLayerPoint:function(e){return w(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return w(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(w(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(e)))},mouseEventToContainerPoint:function(e){return ee(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ae(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");G(t,"scroll",this._onScroll,this),this._containerId=i(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Zt,fe(e,"leaflet-container"+(nn?" leaflet-touch":"")+(an?" leaflet-retina":"")+(Rt?" leaflet-oldie":"")+(Ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=se(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(e.markerPane,"leaflet-zoom-hide"),fe(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){Me(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e){return e&&this.fire("zoomstart"),this.fire("movestart")},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Me(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[i(this._container)]=this;var t=e?W:G;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Zt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],o="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[i(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(o&&!re(a,e))break;if(r.push(n),o)break}if(a===this._container)break;a=a.parentNode}return r.length||s||o||!re(a,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!ie(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Te(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var r=t({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!e._stopped&&(i=(i||[]).concat(this._findEventTargets(e,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&J(e);var a={originalEvent:e};if("keypress"!==e.type){var s=o.options&&"icon"in o.options;a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(n,a,!0),a.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return xe(this._mapPane)||new b(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return x([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),o=new M(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,t);return a.round().equals([0,0])?e:this.unproject(i.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=x(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),o=i.max.subtract(e.max);return new b(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Zt?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._floor();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=Tn,n=this._proxy.style[t];we(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();we(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(g(function(){this._moveStart(!0)._animateZoom(e,t,!0)},this),0))},_animateZoom:function(e,t,i,r){i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),Rn=y.extend({options:{position:"topright"},initialize:function(e){c(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return fe(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Nn=function(e){return new Rn(e)};In.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,r){var o=n+e+" "+n+r;t[e+r]=le("div",o,i)}var t=this._controlCorners={},n="leaflet-",i=this._controlContainer=le("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ue(this._controlCorners[e]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bn=Rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Rn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(i(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(fe(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):me(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=le("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),K(t),Z(t);var i=this._form=le("form",e+"-list");n&&(this._map.on("click",this.collapse,this),jt||G(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=le("a",e+"-toggle",t);r.href="#",r.title="Layers",nn?(G(r,"click",$),G(r,"click",this.expand,this)):G(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=le("div",e+"-base",i),this._separator=le("div",e+"-separator",i),this._overlaysList=le("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&i(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(i(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(t),t.layerId=i(e.layer),G(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(t),a.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),jn=function(e,t,n){return new Bn(e,t,n)},Fn=Rn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=le("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var o=le("a",n,i);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),K(o),G(o,"click",$),G(o,"click",r,this),G(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";me(this._zoomInButton,t),me(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&fe(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&fe(this._zoomInButton,t)}});In.mergeOptions({zoomControl:!0}),In.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fn,this.addControl(this.zoomControl))});var Yn=function(e){return new Fn(e)},zn=Rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=le("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=le("div",t,n)),e.imperial&&(this._iScale=le("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),Un=function(e){return new zn(e)},Hn=Rn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){c(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=le("div","leaflet-control-attribution"),K(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});In.mergeOptions({attributionControl:!0}),In.addInitHook(function(){this.options.attributionControl&&(new Hn).addTo(this)});var Vn=function(e){return new Hn(e)};Rn.Layers=Bn,Rn.Zoom=Fn,Rn.Scale=zn,Rn.Attribution=Hn,Nn.layers=jn,Nn.zoom=Yn,Nn.scale=Un,Nn.attribution=Vn;var Gn,Wn=y.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Xn={Events:Mt},qn=nn?"touchstart mousedown":"mousedown",Qn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Zn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Kn=xt.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){c(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(G(this._dragStartTarget,qn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kn._dragging===this&&this.finishDrag(),W(this._dragStartTarget,qn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!pe(this._element,"leaflet-zoom-anim")&&!(Kn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(Kn._dragging=this,this._preventOutline&&Te(this._element),Se(),Lt(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new b(t.clientX,t.clientY),G(document,Zn[e.type],this._onMove,this),G(document,Qn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new b(t.clientX,t.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(J(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=xe(this._element).subtract(i),fe(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,v(this._animRequest),this._lastEvent=e,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Me(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in Zn)W(document,Zn[e],this._onMove,this),W(document,Qn[e],this._onUp,this);Ee(),Dt(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Kn._dragging=!1}}),Jn=(Object.freeze||Object)({simplify:De,pointToSegmentDistance:Ae,closestPointOnSegment:Pe,clipSegment:Re,_getEdgeIntersection:Ne,_getBitCode:Be,_sqClosestPointOnSegment:Fe,isFlat:Ye,_flat:ze}),$n=(Object.freeze||Object)({clipPolygon:Ue}),ei={project:function(e){return new b(e.lng,e.lat)},unproject:function(e){return new T(e.y,e.x)},bounds:new M([-180,-90],[180,90])},ti={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new b(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),u=Math.PI/2-2*Math.atan(a*t)-s,s+=u;return new T(s*n,e.x*n/i)}},ni=(Object.freeze||Object)({LonLat:ei,Mercator:ti,SphericalMercator:Tt}),ii=t({},Et,{code:"EPSG:3395",projection:ti,transformation:function(){var e=.5/(Math.PI*ti.R);return A(e,.5,-e,.5)}()}),ri=t({},Et,{code:"EPSG:4326",projection:ei,transformation:A(1/180,1,-1/180,.5)}),oi=t({},St,{projection:ei,transformation:A(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});St.Earth=Et,St.EPSG3395=ii,St.EPSG3857=Pt,St.EPSG900913=kt,St.EPSG4326=ri,St.Simple=oi;var ai=xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[i(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[i(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});In.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=i(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=i(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&i(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?gt(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[i(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=i(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var si=ai.extend({initialize:function(e){this._layers={};var t,n;if(e)for(t=0,n=e.length;t<n;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){for(var e in this._layers)this.removeLayer(this._layers[e]);return this},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,i);return this},onAdd:function(e){for(var t in this._layers)e.addLayer(this._layers[t])},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t])},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return i(e)}}),li=function(e){return new si(e)},ui=si.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),si.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),si.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new S;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),ci=function(e){return new ui(e)},di=y.extend({initialize:function(e){c(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=w(i),o=w("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return an&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),hi=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return hi.imagePath||(hi.imagePath=this._detectIconPath()),(this.options.imagePath||hi.imagePath)+di.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=le("div","leaflet-default-icon-path",document.body),t=se(e,"background-image")||se(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),pi=Wn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Kn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=this._marker,n=t._shadow,i=xe(t._icon),r=t._map.layerPointToLatLng(i);n&&Me(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),fi=ai.extend({options:{icon:new hi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){c(this,t),this._latlng=C(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=C(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),e.alt&&(n.alt=e.alt)),fe(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(fe(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(e){Me(this._icon,e),this._shadow&&Me(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pi)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pi(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;ye(this._icon,e),this._shadow&&ye(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),mi=ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return c(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(nn?10:0)}}),gi=mi.extend({options:{fill:!0,radius:10},initialize:function(e,t){c(this,t),this._latlng=C(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=C(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return mi.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),vi=gi.extend({initialize:function(e,n,i){if("number"==typeof n&&(n=t({},i,{radius:n})),c(this,n),this._latlng=C(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new S(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:mi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Et.distance){var r=Math.PI/180,o=this._mRadius/Et.R/r,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(u*r))/(Math.cos(t*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(l.x-n.project([u,e-c]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}}),yi=mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){c(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,o=Fe,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){t=l[u-1],n=l[u];var d=o(e,t,n,!0);d<i&&(i=d,r=o(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,i=0;e<l-1;e++)if(r=s[e],o=s[e+1],n=r.distanceTo(o),(i+=n)>t)return a=(i-t)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=C(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new S,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Ye(e),i=0,r=e.length;i<r;i++)n?(t[i]=C(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new b(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var i,r,o=e[0]instanceof T,a=e.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);var t,n,i,r,o,a,s,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(s=this._rings[t],n=0,o=s.length;n<o-1;n++)(a=Re(s[n],s[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=De(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],i=0,a=s.length,r=a-1;i<a;r=i++)if((t||0!==i)&&Ae(e,s[r],s[i])<=l)return!0;return!1}});yi._flat=ze;var _i=yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(o=a=s=0,e=0,t=c-1;e<c;t=e++)n=u[e],i=u[t],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return l=0===o?u[0]:[a/o,s/o],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=yi.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof T&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){yi.prototype._setLatLngs.call(this,e),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new b(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=Ue(this._rings[r],e,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,o,a,s,l,u=!1;if(!this._pxBounds.contains(e))return!1;for(r=0,s=this._parts.length;r<s;r++)for(t=this._parts[r],o=0,l=t.length,a=l-1;o<l;a=o++)n=t[o],i=t[a],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||yi.prototype._containsPoint.call(this,e,!0)}}),bi=ui.extend({initialize:function(e,t){c(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=gt(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)i=r[t],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=Qe(e,o);return a?(a.feature=tt(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),wi={toGeoJSON:function(e){return et(this,{type:"Point",coordinates:Je(this.getLatLng(),e)})}};fi.include(wi),vi.include(wi),gi.include(wi),yi.include({toGeoJSON:function(e){var t=!Ye(this._latlngs),n=$e(this._latlngs,t?1:0,!1,e);return et(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),_i.include({toGeoJSON:function(e){var t=!Ye(this._latlngs),n=t&&!Ye(this._latlngs[0]),i=$e(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),et(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),si.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),et(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var o=tt(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?et(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Mi=nt,xi=ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=E(t),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&he(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=E(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._image=le("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));e.onselectstart=a,e.onmousemove=a,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e.src=this._url,e.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;we(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Me(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Si=function(e,t,n){return new xi(e,t,n)},Ei=xi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:le("video");if(t.class=t.class||"",t.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),t.onselectstart=a,t.onmousemove=a,t.onloadeddata=n(this.fire,this,"load"),!e){gt(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var r=le("source");r.src=this._url[i],t.appendChild(r)}}}}),Ti=ai.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){c(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ye(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(n(ue,void 0,this._container),200)):ue(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=C(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&he(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=w(this.options.offset),n=this._getAnchor();this._zoomAnimated?Me(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ci=Ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Ti.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mi||this._source.on("preclick",Q))},onRemove:function(e){Ti.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mi||this._source.off("preclick",Q))},getEvents:function(){var e=Ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=le("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",e+"-content-wrapper",t);if(this._contentNode=le("div",e+"-content",n),K(n),Z(this._contentNode),G(n,"contextmenu",Q),this._tipContainer=le("div",e+"-tip-container",t),this._tip=le("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=le("a",e+"-close-button",t);i.href="#close",i.innerHTML="&#215;",G(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight;r&&i>r?(t.height=r+"px",fe(e,"leaflet-popup-scrolled")):me(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Me(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(se(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new b(this._containerLeft,-n-this._containerBottom);r._add(xe(this._container));var o=e.layerPointToContainerPoint(r),a=w(this.options.autoPanPadding),s=w(this.options.autoPanPaddingTopLeft||a),l=w(this.options.autoPanPaddingBottomRight||a),u=e.getSize(),c=0,d=0;o.x+i+l.x>u.x&&(c=o.x+i-u.x+l.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+l.y>u.y&&(d=o.y+n-u.y+l.y),o.y-d-s.y<0&&(d=o.y-s.y),(c||d)&&e.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(e){this._close(),$(e)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(e,t){return new Ci(e,t)};In.mergeOptions({closePopupOnClick:!0}),In.include({openPopup:function(e,t,n){return e instanceof Ci||(e=new Ci(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),ai.include({bindPopup:function(e,t){return e instanceof Ci?(c(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Ci(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof ai||(t=e,e=this),e instanceof ui)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(this._popup&&this._map){if($(e),t instanceof mi)return void this.openPopup(e.layer||e.target,e.latlng);this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Di=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Ti.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Ti.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Ti.prototype.getEvents.call(this);return nn&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,i=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=w(this.options.offset),u=this._getAnchor();"top"===o?e=e.add(w(-a/2+l.x,-s+l.y+u.y,!0)):"bottom"===o?e=e.subtract(w(a/2-l.x,-l.y,!0)):"center"===o?e=e.subtract(w(a/2+l.x,s/2-u.y+l.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",e=e.add(w(l.x+u.x,u.y-s/2+l.y,!0))):(o="left",e=e.subtract(w(a+u.x-l.x,s/2-u.y-l.y,!0))),me(n,"leaflet-tooltip-right"),me(n,"leaflet-tooltip-left"),me(n,"leaflet-tooltip-top"),me(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+o),Me(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ye(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ai=function(e,t){return new Di(e,t)};In.include({openTooltip:function(e,t,n){return e instanceof Di||(e=new Di(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),ai.include({bindTooltip:function(e,t){return e instanceof Di?(c(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Di(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),nn&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof ai||(t=e,e=this),e instanceof ui)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Pi=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=w(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});di.Default=hi;var ki=ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){c(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ue(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof b?e:new b(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,o=n.length;r<o;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt){ye(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);ye(r.el,o),o<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(v(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ue(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||(i=this._levels[e]={},i.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ue(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new b(+r,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var a=new b(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Zt?we(e.el,r,i):Me(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*i);return new M(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,l=new M(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new b(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(e,n);for(var d=r.min.y;d<=r.max.y;d++)for(var h=r.min.x;h<=r.max.x;h++){var p=new b(h,d);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||a.push(p))}if(a.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],f);this._level.el.appendChild(f)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return E(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToBounds:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n),o=t.unproject(i,e.z),a=t.unproject(r,e.z),s=new S(o,a);return this.options.noWrap||t.wrapLatLngBounds(s),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new b(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ue(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){fe(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=a,e.onmousemove=a,Rt&&this.options.opacity<1&&ye(e,this.options.opacity),jt&&!Ft&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var i=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&g(n(this._tileReady,this,e,null,o)),Me(o,i),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var r=this._tileCoordsToKey(e);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(ye(i.el,0),v(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(fe(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new b(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),Oi=ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,t=c(this,t),t.detectRetina&&an&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),jt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return G(i,"load",n(this._tileOnLoad,this,t,i)),G(i,"error",n(this._tileOnError,this,t,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(e),i},getTileUrl:function(e){var n={r:an?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i),n["-y"]=i}return h(this._url,t(n,this.options))},_tileOnLoad:function(e,t){Rt?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.src!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(e=t-e),e+i},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=a,t.onerror=a,t.complete||(t.src=vt,ue(t)))}}),Ii=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n),i.width=i.height=n.tileSize*(n.detectRetina&&an?2:1),this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Oi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToBounds(e),n=this._crs.project(t.getNorthWest()),i=this._crs.project(t.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===ri?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),o=Oi.prototype.getTileUrl.call(this,e);return o+d(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});Oi.WMS=Ii,at.wms=st;var Ri=ai.extend({options:{padding:.1},initialize:function(e){c(this,e),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=xe(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),a=this._map.project(e,t),s=a.subtract(o),l=r.multiplyBy(-n).add(i).add(r).subtract(s);Zt?we(this._container,l,n):Me(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ni=Ri.extend({getEvents:function(){var e=Ri.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");G(e,"mousemove",r(this._onMouseMove,32,this),this),G(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx,ue(this._container),W(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Ri.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=an?2:1;Me(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",an&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[i(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[L.stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,n=e.options.dashArray.split(","),i=[];for(t=0;t<n.length;t++)i.push(Number(n[t]));e.options._dashArray=i}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,l.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=e._radius,r=(e._radiusY||i)/i;this._drawnLayers[e._leaflet_id]=e,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)t=r.layer,t.options.interactive&&t._containsPoint(i)&&!this._map._draggableMoved(t)&&(n=t);n&&(ne(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(me(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(fe(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}),Bi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ji={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Bi("shape");fe(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Bi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ue(t),e.removeInteractiveTarget(t),delete this._layers[i(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Bi("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=gt(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Bi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){de(e._container)},_bringToBack:function(e){he(e._container)}},Fi=un?Bi:P,Yi=Ri.extend({getEvents:function(){var e=Ri.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),W(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ri.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Me(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Fi("path");e.options.className&&fe(t,e.options.className),e.options.interactive&&fe(t,"leaflet-interactive"),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ue(e._path),e.removeInteractiveTarget(e._path),delete this._layers[i(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,k(e._parts,t))},_updateCircle:function(e){var t=e._point,n=e._radius,i=e._radiusY||n,r="a"+n+","+i+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){de(e._path)},_bringToBack:function(e){he(e._path)}});un&&Yi.include(ji),In.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&lt()||ut()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=Yi&&ut({pane:e})||Ni&&lt({pane:e}),this._paneRenderers[e]=t),t}});var zi=_i.extend({initialize:function(e,t){_i.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=E(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Yi.create=Fi,Yi.pointsToPath=k,bi.geometryToLayer=Qe,bi.coordsToLatLng=Ze,bi.coordsToLatLngs=Ke,bi.latLngToCoords=Je,bi.latLngsToCoords=$e,bi.getFeature=et,bi.asFeature=tt,In.mergeOptions({boxZoom:!0});var Ui=Wn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Lt(),Se(),this._startPoint=this._map.mouseEventToContainerPoint(e),G(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();Me(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ue(this._box),me(this._container,"leaflet-crosshair")),Dt(),Ee(),W(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new S(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});In.addInitHook("addHandler","boxZoom",Ui),In.mergeOptions({doubleClickZoom:!0});var Hi=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});In.addInitHook("addHandler","doubleClickZoom",Hi),In.mergeOptions({dragging:!0,inertia:!Ft,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vi=Wn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Kn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=E(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",e).fire("drag",e)},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,o=(i+t+n)%e-t-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),d=u/(n.inertiaDeceleration*a),h=c.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),g(function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});In.addInitHook("addHandler","dragging",Vi),In.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gi=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),G(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;t=this._panKeys[n],e.shiftKey&&(t=w(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup)return;i.closePopup()}$(e)}}});In.addInitHook("addHandler","keyboard",Gi),In.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wi=Wn.extend({addHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=te(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),$(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});In.addInitHook("addHandler","scrollWheelZoom",Wi),In.mergeOptions({tap:!0,tapTolerance:15});var Xi=Wn.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(J(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],i=t.target;this._startPos=this._newPos=new b(t.clientX,t.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&fe(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),G(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),W(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&me(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new b(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});nn&&!tn&&In.addInitHook("addHandler","tap",Xi),In.mergeOptions({touchZoom:nn&&!Ft,bounceAtZoomLimits:!0});var qi=Wn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend",this._onTouchEnd,this),J(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0),v(this._animRequest);var s=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(s,this,!0),J(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,v(this._animRequest),W(document,"touchmove",this._onTouchMove),W(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});In.addInitHook("addHandler","touchZoom",qi),In.BoxZoom=Ui,In.DoubleClickZoom=Hi,In.Drag=Vi,In.Keyboard=Gi,In.ScrollWheelZoom=Wi,In.Tap=Xi,In.TouchZoom=qi;var Qi=window.L;window.L=e,Object.freeze=ht,e.version="1.2.0",e.noConflict=dt,e.Control=Rn,e.control=Nn,e.Browser=cn,e.Evented=xt,e.Mixin=Xn,e.Util=wt,e.Class=y,e.Handler=Wn,e.extend=t,e.bind=n,e.stamp=i,e.setOptions=c,e.DomEvent=En,e.DomUtil=kn,e.PosAnimation=On,e.Draggable=Kn,e.LineUtil=Jn,e.PolyUtil=$n,e.Point=b,e.point=w,e.Bounds=M,e.bounds=x,e.Transformation=D,e.transformation=A,e.Projection=ni,e.LatLng=T,e.latLng=C,e.LatLngBounds=S,e.latLngBounds=E,e.CRS=St,e.GeoJSON=bi,e.geoJSON=nt,e.geoJson=Mi,e.Layer=ai,e.LayerGroup=si,e.layerGroup=li,e.FeatureGroup=ui,e.featureGroup=ci,e.ImageOverlay=xi,e.imageOverlay=Si,e.VideoOverlay=Ei,e.videoOverlay=it,e.DivOverlay=Ti,e.Popup=Ci,e.popup=Li,e.Tooltip=Di,e.tooltip=Ai,e.Icon=di,e.icon=He,e.DivIcon=Pi,e.divIcon=rt,e.Marker=fi,e.marker=Ve,e.TileLayer=Oi,e.tileLayer=at,e.GridLayer=ki,e.gridLayer=ot,e.SVG=Yi,e.svg=ut,e.Renderer=Ri,e.Canvas=Ni,e.canvas=lt,e.Path=mi,e.CircleMarker=gi,e.circleMarker=Ge,e.Circle=vi,e.circle=We,e.Polyline=yi,e.polyline=Xe,e.Polygon=_i,e.polygon=qe,e.Rectangle=zi,e.rectangle=ct,e.Map=In,e.map=Le}(t)}()},function(e,t){!function(e,t,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,i=this._featureGroup,r=this._nonPointGroup,o=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,u=0,c=!0;if(this._map){var d=(new Date).getTime(),h=L.bind(function(){for(var p=(new Date).getTime();l>u&&!(o&&0==u%200&&(new Date).getTime()-p>a);u++)if((n=e[u])instanceof L.LayerGroup)c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var f=n.__parent.getAllChildMarkers(),m=f[0]===n?f[1]:f[0];i.removeLayer(m)}}else r.addLayer(n),t||this.fire("layeradd",{layer:n});s&&s(u,l,(new Date).getTime()-d),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)},this);h()}else for(var p=this._needsClustering;l>u;u++)n=e[u],n instanceof L.LayerGroup?(c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||p.push(n):r.addLayer(n);return this},removeLayers:function(e){var t,n,i=e.length,r=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(t=0;i>t;t++)n=e[t],n instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=i;for(t=0;l>t;t++)n=s[t],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(t=0;i>t;t++)n=e[t],n instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),r.hasLayer(n)&&(r.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,i,r,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),i=o.length-1;i>=0;i--){for(n=!0,r=a.length-1;r>=0;r--)if(a[r].layer===o[i]){n=!1;break}n&&e.call(t,o[i])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(n){L.stamp(n)===e&&(t=n)}),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(n=this._needsRemoving,t=n.length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var n=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;n>t;t++)i=this._needsRemoving[t],i.newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(t=0,n=this._needsRemoving.length;n>t;t++)i=this._needsRemoving[t],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,i=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());t>=r&&i[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){e.target.__dragStart&&this._moveChild(e.target,e.target.__dragStart,e.target._latlng),delete e.target.__dragStart},_removeLayer:function(e,t,n){var i=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,u=e.__parent,c=u._markers;for(this._arraySplice(c,e);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)t&&u._childCount<=1?(l=u._markers[0]===e?u._markers[1]:u._markers[0],i[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),r[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(o.removeLayer(u),n||o.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(t||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,n=t;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var r=e;r>=t;r--)this._gridClusters[r]=new L.DistanceGrid(i(r)),this._gridUnclustered[r]=new L.DistanceGrid(i(r));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,i,r=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=r[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=o[t].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,t,s,e);r[t].addObject(u,this._map.project(u._cLatLng,t)),s.__parent=u,e.__parent=u;var c=u;for(i=t-1;i>l._zoom;i--)c=new this._markerCluster(this,i,c),r[i].addObject(c,this._map.project(s.getLatLng(),i));return l._addChild(c),void this._removeFromGridUnclustered(s,t)}o[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==n&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,i=e.getLayers(),r=0;for(t=t||[];r<i.length;r++)n=i[r],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,i=this._getExpandedVisibleBounds(),r=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,o,function(o){var a,s=o._latlng,l=o._markers;for(i.contains(s)||(s=null),o._isSingleParent()&&e+1===t?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,i)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,t,i)),n=l.length-1;n>=0;n--)a=l[n],i.contains(a._latlng)||r.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),this._topClusterLevel._recursively(i,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,e,o,function(e){r.removeLayer(e),e.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,i=this._featureGroup;i.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){i.removeLayer(e),e.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var i=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(i,r,t+1,n);var o=this;this._forceLayout(),e._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(i,n,r,function(e){e._recursivelyRemoveChildrenFromMap(i,r,t+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({initialize:function(e,t,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var n=this._markers.length-1;n>=0;n--)e.push(this._markers[n]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),i=this._group._map,r=i.getBoundsZoom(this._bounds),o=this._zoom+1,a=i.getZoom();n.length>0&&r>o;){o++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}r>o?this._group._map.setView(this._latlng,o):a>=r?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,i,r=this._markers,o=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<r.length;e++)n=r[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<o.length;e++)t=o[e],t._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,i=t._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,function(e){var n,i,r=e._markers;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(t),i.clusterHide())},function(e){var n,i,r=e._childClusters;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(t),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,i){this._recursively(e,i,t,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),n),r._isSingleParent()&&n-1===i?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t,n)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,function(i){if(t!==i._zoom)for(var r=i._markers.length-1;r>=0;r--){var o=i._markers[r];n.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),i._group._featureGroup.addLayer(o))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,i){var r,o;this._recursively(e,t-1,n-1,function(e){for(o=e._markers.length-1;o>=0;o--)r=e._markers[o],i&&i.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(e){for(o=e._childClusters.length-1;o>=0;o--)r=e._childClusters[o],i&&i.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(e,t,n,i,r){var o,a,s=this._childClusters,l=this._zoom;if(l>=t&&(i&&i(this),r&&l===n&&r(this)),t>l||n>l)for(o=s.length-1;o>=0;o--)a=s[o],e.intersects(a._bounds)&&a._recursively(e,t,n,i,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var e=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,e}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),i=this._getCoord(t.y),r=this._grid,o=r[i]=r[i]||{},a=o[n]=o[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,i,r=this._getCoord(t.x),o=this._getCoord(t.y),a=this._grid,s=a[o]=a[o]||{},l=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,i=l.length;i>n;n++)if(l[n]===e)return l.splice(n,1),1===i&&delete s[r],!0},eachObject:function(e,t){var n,i,r,o,a,s,l=this._grid;for(n in l){a=l[n];for(i in a)for(s=a[i],r=0,o=s.length;o>r;r++)e.call(t,s[r])&&(r--,o--)}},getNearObject:function(e){var t,n,i,r,o,a,s,l,u=this._getCoord(e.x),c=this._getCoord(e.y),d=this._objectPoint,h=this._sqCellSize,p=null;for(t=c-1;c+1>=t;t++)if(r=this._grid[t])for(n=u-1;u+1>=n;n++)if(o=r[n])for(i=0,a=o.length;a>i;i++)s=o[i],l=this._sqDist(d[L.Util.stamp(s)],e),(h>l||h>=l&&null===p)&&(h=l,p=s);return p},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,i,r,o=0,a=null,s=[];for(n=t.length-1;n>=0;n--)i=t[n],(r=this.getDistant(i,e))>0&&(s.push(i),r>o&&(o=r,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],i=this.findMostDistantPointFromBaseLine(e,t);return i.maxPoint?(n=n.concat(this.buildConvexHull([e[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,e[1]],i.newPoints))):[e[0]]},getConvexHull:function(e){var t,n=!1,i=!1,r=!1,o=!1,a=null,s=null,l=null,u=null,c=null,d=null;for(t=e.length-1;t>=0;t--){var h=e[t];(!1===n||h.lat>n)&&(a=h,n=h.lat),(!1===i||h.lat<i)&&(s=h,i=h.lat),(!1===r||h.lng>r)&&(l=h,r=h.lng),(!1===o||h.lng<o)&&(u=h,o=h.lng)}return i!==n?(d=s,c=a):(d=u,c=l),[].concat(this.buildConvexHull([d,c],e),this.buildConvexHull([c,d],e))}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),i=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),i.push(e);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),n=this._group,i=n._map,r=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,r):(r.y+=10,e=this._generatePointsCircle(t.length,r)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),o=r/this._2PI,a=this._2PI/e,s=[];for(s.length=e,n=e-1;n>=0;n--)i=this._circleStartAngle+n*a,s[n]=new L.Point(t.x+o*Math.cos(i),t.y+o*Math.sin(i))._round();return s},_generatePointsSpiral:function(e,t){var n,i=this._group.options.spiderfyDistanceMultiplier,r=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,n=e-1;n>=0;n--)s+=o/r+5e-4*n,l[n]=new L.Point(t.x+r*Math.cos(s),t.y+r*Math.sin(s))._round(),r+=a/s;return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,i=n._map,r=n._featureGroup,o=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),t=o.length-1;t>=0;t--)e=o[t],r.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(i.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,i,r,o,a=this._group,s=a._map,l=a._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)o=s.layerPointToLatLng(t[n]),i=e[n],r=new L.Polyline([this._latlng,o],u),s.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(o),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var i,r,o,a,s,l,u=this,c=this._group,d=c._map,h=c._featureGroup,p=this._latlng,f=d.latLngToLayerPoint(p),m=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),v=g.opacity;for(v===n&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=v,c._ignoreMove=!0,i=0;i<e.length;i++)r=e[i],l=d.layerPointToLatLng(t[i]),o=new L.Polyline([p,l],g),d.addLayer(o),r._spiderLeg=o,m&&(a=o._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),h.addLayer(r),r._setPos&&r._setPos(f);for(c._forceLayout(),c._animationStart(),i=e.length-1;i>=0;i--)l=d.layerPointToLatLng(t[i]),r=e[i],r._preSpiderfyLatlng=r._latlng,r.setLatLng(l),r.clusterShow&&r.clusterShow(),m&&(o=r._spiderLeg,a=o._path,a.style.strokeDashoffset=0,o.setStyle({opacity:v}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})},200)},_animationUnspiderfy:function(e){var t,n,i,r,o,a,s=this,l=this._group,u=l._map,c=l._featureGroup,d=e?u._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):u.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=h.length-1;n>=0;n--)t=h[n],t._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&c.removeLayer(t),p&&(i=t._spiderLeg,r=i._path,o=r.getTotalLength()+.1,r.style.strokeDashoffset=o,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var e=0;for(n=h.length-1;n>=0;n--)t=h[n],t._spiderLeg&&e++;for(n=h.length-1;n>=0;n--)t=h[n],t._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&c.removeLayer(t),u.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),l=n(6),u=(n(3),n(89)),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=n(378),h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o;if(a.displayProperty="displayInMeta","displayProperty"in n)switch(n.displayProperty){case"isFilterVisible":a.displayProperty="displayInFilter";break;case"isSearchable":a.displayProperty="useInSearch";break;default:a.displayProperty="displayInMeta"}return a.prevGroupExpand=[],s.Events.on("filter.change",function(){a.prevGroupExpand=[]}),s.Events.on("filter.toggle",function(){window.setTimeout(function(){a.updateTablePosition()}.bind(a),100)}),a.tableContainer=document.createElement("div"),a.tableContainer.id="zeg-tableview-container",a.viewManager.mainPanel.appendChild(a.tableContainer),a.hideTable(),a.table=null,o}return o(t,e),a(t,[{key:"show",value:function(e){var t,n,i,r,o,a,u,c,d,h,p,f,m,g,v,y=this,_=[],b=[];for(y.react,s.Events.emitEvent("view.reset"),r=y.datastore.getFacetTypes(),b=this.getColumns(),a=y.datastore.getPrimaryKeyColumn().name,u=y.datastore.getFacetIndex(a),e=e.values,p=e.length,d=0;d<p;d+=1)if(t=e[d],t.count>0){for(m=[],c=y.datastore.getItemById(t.value,!1),f=b.length-1,h=0;h<f;h+=1)i=b[h].data,n=y.datastore.getFacetIndex(i),v=c.values[n].value,null===v&&(v=""),"Date"===r[n].type&&(v=l.Helpers.parseDate(parseInt(v))),m.push(v);o=c.values[u].value,g=y.datastore.getTagsForId(o),m.push(g.join(", ")),_.push(m)}y.showTable(),y.tableContainer.style.left=y.getTableLeft()+"px",null===y.table?y.table=new Handsontable(y.tableContainer,{data:_,rowHeaders:!1,columns:this.getColumns.bind(this),colHeaders:y.getColumnHeaders.bind(y,b),columnSorting:!1,stretchH:"all",scrollV:"auto",minSpareRows:1,beforeOnCellMouseDown:this.cellClick.bind(y),manualColumnResize:!0,readOnly:!0,renderAllRows:!1,height:y.getTableHeight(),width:y.getTableWidth()}):y.table.updateSettings({data:_,height:y.getTableHeight(),width:y.getTableWidth()}),y.table.render()}},{key:"updateTablePosition",value:function(){this.tableContainer.style.left=this.getTableLeft()+"px",null!==this.table&&this.table.updateSettings({height:this.getTableHeight(),width:this.getTableWidth()})}},{key:"getColumns",value:function(){for(var e=[],t=this.datastore.getFacetTypes(),n=0;n<t.length;n++)if(!0===t[n][this.displayProperty]){var i={type:"text",data:t[n].name,displayName:t[n].displayName,readOnly:!0};"Number"===t[n].type&&(i.type="numeric",i.format="#[.][00000000000000]"),e.push(i)}return e.push({type:"text",data:"tags",displayName:"tags",readOnly:!0}),e}},{key:"getColumnHeaders",value:function(e,t){var n="asc"===this.datastore.getSortOrder()?"chevron-up":"chevron-down",i=this.datastore.getSortColumn().name===e[t].data?'<i class="fa fa-'+n+'" />':"";return"<span>"+e[t].displayName+"</span>"+i}},{key:"cellClick",value:function(e,t,n){if(-1===t.row){var i=this.datastore.getFacetTypes(),r=i[0].name,o=this.datastore.getSortColumn(),a=this.datastore.getSortOrder(),l="asc";if(t.col<i.length)r=i[t.col].name;else if(t.col===i.length)return;o.name===r&&(l="asc"===a?"desc":"asc"),s.Events.emitEvent("sort.change",[r,!0,l])}}},{key:"getTableHeight",value:function(){return this.viewManager.viewPanel.clientHeight-this.viewManager.toolbar.clientHeight}},{key:"getTableWidth",value:function(){return this.viewManager.viewPanel.clientWidth-this.getTableLeft()}},{key:"getTableLeft",value:function(){return d.LEFT_TOOLBAR_WIDTH+(this.viewManager.panelState?d.LEFT_PANEL_WIDTH:0)}},{key:"addEvents",value:function(){}},{key:"detach",value:function(){this.hideTable()}},{key:"hideTable",value:function(){this.tableContainer.style.display="none"}},{key:"showTable",value:function(){this.tableContainer.style.display="block"}}]),t}(c.default);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MapDataTypeView=void 0;var o=n(3),a=n(2),s=n(6),l=n(121),u=i(l),c=n(4),d=i(c),h=n(88),p=i(h),f=n(9),m=i(f),g=function e(){r(this,e);var t=[],n={},i={width:0,height:0},l=function(e){var t,n,i,r,o=s.Helpers.getTouch(e),a=/^(touch)/;return s.Helpers.isTouchSupported&&a.test(e.type)?t=e.touches[0].target.getBoundingClientRect():(n=e.target||e.srcElement,t=n.getBoundingClientRect()),i=o.pos.x-t.left,r=o.pos.y-t.top,{x:i,y:r}},c=function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)},h=function(e,t){return t.length>0?m.default.addToFilter(e,t,"scatter"):m.default.removeCategoryFromFilter(e)},f=function(e,t){for(var n=!1,i=-1,r=e.length,o=r-1;++i<r;o=i)(e[i].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[i].y)&&t.x<(e[o].x-e[i].x)*(t.y-e[i].y)/(e[o].y-e[i].y)+e[i].x&&(n=!n);return n},g=function(e,t){var n=0,i=0;return n=t.x-e.x,n*=n,i=t.y-e.y,i*=i,Math.sqrt(n+i)},v=d.default.createClass({mixins:[p.default],displayName:"plugins/dataTypeViews/MapDataTypeView",resultPoints:[],getInitialState:function(){return{}},render:function(){var e=null,t=null,n=m.default.isCategoryInFilter(this.props.facetCategory);return this.props.showContent?e=this._getView():n&&(t=this._getBreadcrumb()),d.default.DOM.div({className:"full-width-height zeg-map-wrapper"},d.default.DOM.div({className:"zeg-facet-map",style:{display:this.props.showContent?"block":"none"}},e),t)},componentDidMount:function(){var e=this;this.options=this._getOptions(this.props.inModal),this.props.showContent&&(this._renderMap(this.props.facetCategory),a.Events.on("ui.resize",function(){e._renderMap(e.props.facetCategory)}))},componentDidUpdate:function(){this.props.showContent&&this._renderMap(this.props.facetCategory)},_getOptions:function(e){var t=1,n=2,i=7.5;return e&&(t=5,n=4,i=15),{pointRadius:t,lasooWidth:n,lasooResolution:i}},_getView:function(){var e=this.props.facetCategory;return d.default.DOM.div({ref:e+"-wrapper",className:"zeg-datatype-map-wrapper"},d.default.DOM.object({data:o.Config.properties().baseImagePath+"/icon/world-map.svg",className:"zeg-datatype-map-layer",type:"image/svg+xml",height:"100%",width:"100%"}),d.default.DOM.canvas({ref:e+"-base-layer",className:"zeg-datatype-map-layer"}),d.default.DOM.canvas({ref:e+"-result-layer",className:"zeg-datatype-map-layer"}),d.default.DOM.canvas({ref:e+"-draw-layer",className:"zeg-datatype-map-layer"}))},_getBreadcrumb:function(){return d.default.DOM.span({className:"zeg-breadcrumb"},"> "+this.state.value)},_renderMap:function(e){if(void 0!==this.refs[e+"-wrapper"]){var t=this.refs[e+"-wrapper"].getDOMNode(),i=this.refs[e+"-base-layer"].getDOMNode(),r=this.refs[e+"-draw-layer"].getDOMNode(),a=this.refs[e+"-result-layer"].getDOMNode(),l=i.getContext("2d"),u=this.options.pointRadius,c=this.getAxisData(this.props.facetCategory),d=m.default.getScatterPlotValues(this.props.facetCategory),h=t.clientWidth,p=t.clientHeight;h/2>p?h=2*p:p=h/2,i.width=r.width=a.width=h,i.height=r.height=a.height=p,i.style.left=r.style.left=a.style.left=t.clientWidth/2-h/2+"px",i.style.top=r.style.top=a.style.top=t.clientHeight/2-p/2+"px",n=[],this.resultPoints=[],this.resultCanvas=a;for(var f=0;f<c.length;f++){var g=c[f].id,v=c[f].value;if(null!==v){var y={x:Math.round((v[1]+180)*(i.width/360)),y:Math.round((-1*v[0]+90)*(i.height/180)),id:g};this._drawPoint(l,y,o.Config.properties().colors.primary,u),null!==d&&d.indexOf(g)>-1&&this.resultPoints.push(y),n.push(y)}}this.resultPoints&&this.drawResultPoints(this.resultPoints),r.addEventListener(s.Helpers.startEvent,this.handleMouseDown,!1)}},getAxisData:function(e){for(var t=m.default.getFacetTypesCount([e]),n=[],i=0;i<t[0].length;i++)n.push({id:t[2].lut[t[2][i]],value:t[0].lut[t[0][i]]});return n},_drawPoint:function(e,t,n,i){e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI,!1),e.lineWidth=1,e.strokeStyle=n,e.stroke()},handleMouseDown:function(e){var n=e.target,i=l(e),r=i.x,o=i.y,a=n.getContext("2d"),u=s.Helpers.getTouch(e);e.stopPropagation(),e.preventDefault(),this.started||(t=[],this.resultPoints=[],a.beginPath(),a.moveTo(r,o),t.push({x:r,y:o}),n.addEventListener(u.moveEvent,this.handleMouseMove,!1),n.addEventListener(u.endEvent,this.handleMouseUp,!1),this.started=!0)},handleMouseUp:function(e){var n=e.target,r=t[0],o=r.x,a=r.y,l=n.getContext("2d"),u=s.Helpers.getTouch(e);l.lineTo(o,a),l.stroke(),t.push({x:o,y:a}),i.width=n.width,i.height=n.height,n.removeEventListener(u.moveEvent,this.handleMouseMove,!1),n.removeEventListener(u.endEvent,this.handleMouseUp,!1),this.pointsInPoly(t),t=[],c(n),this.started=!1},handleMouseMove:function(e){var n=e.target,i=l(e),r=i.x,a=i.y,s=this.options.lasooWidth,u=this.options.lasooResolution,c=n.getContext("2d"),d=o.Config.properties().colors.scatterSelect;g({x:r,y:a},t[t.length-1])>=u&&(c.strokeStyle=d,c.lineWidth=s,c.lineTo(r,a),c.stroke(),t.push({x:r,y:a}))},drawResultPoints:function(e){if(void 0!==e&&0!==e.length){var t,n,i,r,a=(this.options.pointRadius,o.Config.properties().colors.scatterSelect),s=this.resultCanvas.getContext("2d");for(i=0;i<e.length;i++)t=e[i].x,n=e[i].y,r={x:t,y:n},this._drawPoint(s,r,a,this.options.pointRadius)}},pointsInPoly:function(e){var t,i,r=[];for(i=0;i<n.length;i++)t=n[i],f(e,t)&&(this.resultPoints.push({x:t.x,y:t.y,id:t.id}),r.push(t.id));h(this.props.facetCategory,r)&&!this.props.inModal&&this.props.filterChanged()}});this.reactClass=d.default.createClass({displayName:"plugins/datatypeviews/MapDataTypeView",getInitialState:function(){return{expanded:!1}},render:function(){return v({name:this.props.name,facetCategory:this.props.facetCategory,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters})},componentDidMount:function(){a.Events.addListener("datatypeview.expand",function(){this.props.showContent&&this.setState({expanded:!0})}.bind(this))},componentDidUpdate:function(){if(this.props.showContent&&this.isMounted()&&this.state.expanded){var e=v({name:this.props.name,facetCategory:this.props.facetCategory,data:this.props.data,filterChanged:this.props.filterChanged,showContent:this.props.showContent,isActive:this.props.isActive,clearFilters:this.props.clearFilters,inModal:!0}),t=(new u.default).reactClass({title:o.Config.i18nValue(this.props.name.toLowerCase()),component:e,onClose:this.handleModalClose});d.default.renderComponent(t,document.getElementById("zeg-modal-anchor"))}},handleModalClose:function(){this.props.showContent&&this.setState({expanded:!1})}})};t.MapDataTypeView=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=i(o),s=n(3),l=n(2),u=n(6),c=n(9),d=i(c),h=n(96),p=i(h),f=n(787),m=i(f),g=function e(){return r(this,e),a.default.createClass({mixins:[a.default.addons.LinkedStateMixin],getInitialState:function(){return{itemData:{},facets:[],selectedSprite:null,isAddingTag:!1,tagName:"",forceTagUpdate:!1}},componentDidMount:function(){var e=this;l.Events.addListener("view.picture.selected",function(e){if(void 0!==e.name){var t=d.default.getItemById(e.name,!1),n=d.default.getFacetTypes();p.default.store.setSprite(e),this.setState({itemData:t,facets:n,selectedSprite:e})}}.bind(this)),l.Events.addListener("view.reset",function(){this.setState({itemData:{},facets:[],selectedSprite:null})}.bind(this)),l.Events.addListener("tags.change",function(){e.setState({forceTagUpdate:!e.state.forceTagUpdate})})},componentDidUpdate:function(e,t){if(this.state.selectedTab,this.state.selectedSprite,s.Config.properties().metadataPanel,this.state.isAddingTag&&t.isAddingTag!==this.state.isAddingTag&&this.refs.addTagInput.getDOMNode().focus(),void 0!==this.refs.details){var n=this.refs.details.getDOMNode(),i=this.refs.header.getDOMNode(),r=void 0!==this.refs.tabs?this.refs.tabs.getDOMNode():{clientHeight:0};n.style.top=i.clientHeight+r.clientHeight+5+"px"}null!=this.state.selectedSprite&&l.Events.emitEvent("rightpanel.show",["zeg-metadatapanel"]),this.__targetElement=null},documentMousedown:function(e){this.__targetElement=e.target},__onCloseMetadata:function(){l.Events.emitEvent("infopanel.hide")},__onKeyPress:function(e){13===e.which&&(this.addTag(),e.stopPropagation())},__onAddTag:function(){this.refs.addTagInput.getDOMNode().focus(),this.setState({isAddingTag:!0})},addTag:function(){var e=this.state.tagName;this.__targetElement!==this.refs.addTagButton.getDOMNode()&&(e.length>0&&!0===this.state.isAddingTag&&p.default.store.setTag(e),this.setState({isAddingTag:!1,tagName:""}))},loadTagFromStore:function(e){p.default.store.setSprite(e),p.default.store.loadTag(),this.setState({isAddingTag:!1,tagName:""})},closeTag:function(e,t){t.stopPropagation(),p.default.store.removeTag(e),this.forceUpdate()},createHyperlink:function(e,t){return new m.default({name:e,href:t})},addTagToFilter:function(e){-1===d.default.activeFilterTags.indexOf(e)&&(d.default.replaceFilter({}),d.default.addTagToFilter(e))},filterMouseDown:function(e){this.mousepos={x:e.pageX,y:e.pageY}},filterByValue:function(e,t,n,i){if(this.mousepos&&this.mousepos.x!==i.pageX&&this.mousepos.y!==i.pageY)return void(this.mousepos=null);this.mousepos=null,"Url"!==t&&(d.default.replaceFilter({}),void 0!==d.default.getOriginFacet(e)&&"Number"===d.default.getOriginFacet(e).type&&(n=+n),"Date"===t&&(n=u.Helpers.parseDateStringToUnixTimestamp(n)),d.default.addToFilter(e,n,"equal"))},createValueFilter:function(e,t,n,i,r){return r&&!0===r?a.default.DOM.div({key:"value-filter-"+i+"-"+n},n):a.default.DOM.a({key:"value-filter-"+i+"-"+n,onMouseDown:this.filterMouseDown,onClick:this.filterByValue.bind(this,e,t,n)},n)},render:function(){var e=this,t=[],n=null,i=[],r=null,o=null,l=s.Config.properties(),c=l.tagEndpoint,h=l.allowAddTags,p=l.metadataPanelDisplayNull;if(h&&null!==c&&(r=a.default.DOM.i({className:"fa fa-plus zeg-button push-right",onClick:this.__onAddTag,ref:"addTagButton"})),void 0!==this.state.itemData.values){i=d.default.getTagsForId(this.state.selectedSprite.name);var f=this.state.itemData.values;t=this.state.facets.filter(function(e){return e.displayInMeta}).map(function(t){for(var n=null,i=null,r=0;r<f.length;r++)if(f[r].name===t.name){n=f[r];break}if(null===n||null===n.value&&!p)return null;if("Url"===t.type)i=void 0!==n.value&&void 0!==n.value.map?n.value.map(function(n){return void 0!==n?e.createHyperlink(t.displayName,n):null}.bind(this)):e.createHyperlink(t.displayName,n.value);else{var o=null;if(null===(o="Date"===t.type?void 0!==n.value.map?n.value.map(function(e){return u.Helpers.parseDate(parseInt(e))}):u.Helpers.parseDate(parseInt(n.value)):null!==n.value?n.value:"null")||"[Empty]"===o)return!1;if(void 0!==o.map){var s=o.map(function(n,i){return"Geo"===t.type?e.createValueFilter(t.name,t.type,n,i,!0):e.createValueFilter(t.name,t.type,n,i)});for(i=[],r=0;r<s.length;r++)i.push(s[r]),r!==s.length-1&&i.push(a.default.DOM.span({key:t.name+"-separator-"+r},", "))}else i=e.createValueFilter(t.name,t.type,o,1)}return a.default.DOM.li({key:t.name,className:"zeg-metadata-details-item"},"Url"!==t.type?a.default.DOM.div({className:"zeg-metadata-details-item-title"},"displayName"in t&&null!==t.displayName?t.displayName:t.name):null,a.default.DOM.div({className:"zeg-metadata-details-item-value"},i))})}return null!==c&&(n=a.default.DOM.li({className:"zeg-metadata-details-item"},a.default.DOM.div({className:"zeg-metadata-details-item-title"},s.Config.i18nValue("tags-label"),!0===h?r:null),a.default.DOM.div({style:{display:this.state.isAddingTag?"block":"none"}},a.default.DOM.input({valueLink:this.linkState("tagName"),onBlur:this.addTag,onKeyDown:this.__onKeyPress,ref:"addTagInput"})),a.default.DOM.div({className:"zeg-metadata-details-item-value"},i.map(function(e){return!0===h&&(o=a.default.DOM.span({className:"zeg-search-tag-close",onClick:this.closeTag.bind(null,e)},"x")),a.default.DOM.li({key:"search-tag-"+e,className:"zeg-search-tag"},e,o)}.bind(this))))),a.default.DOM.ul(null,a.default.DOM.li({className:"zeg-metadata-details-item"},a.default.DOM.div({id:"zeg-metadata-description"},this.state.itemData.description)),n,t)}})},v=function e(){return r(this,e),a.default.createClass({componentDidMount:function(){},componentWillUnmount:function(){},render:function(){return a.default.DOM.div({className:this.props.tabClassName,onClick:this.onClick},a.default.DOM.span(null,"Data"))},onClick:function(){this.props.onTabClick("Metadata")}})},y=function e(){r(this,e),this.reactClass=new g,this.reactTabClass=new v};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default.createClass({displayName:"plugins/MetadataPanel/UrlDisplay",getInitialState:function(){return{hover:!1}},getUrlIcon:function(e){return-1!==e.indexOf("mailto:")?"fa-envelope-o":-1!==e.indexOf("twitter.com")?"fa-twitter":-1!==e.indexOf("linkedin.com")?"fa-linkedin":-1!==e.indexOf("skype.com")?"fa-skype":-1!==e.indexOf("facebook.com")?"fa-facebook":-1!==e.indexOf("imdb.com")?"fa-imdb":-1!==e.indexOf("youtube.com")||-1!==e.indexOf("youtu.be")?"fa-youtube":-1!==e.indexOf("vimeo.com")?"fa-vimeo":-1!==e.indexOf("spotify.com")?"fa-spotify":-1!==e.indexOf("slideshare.net")?"fa-slideshare":-1!==e.indexOf("github.com")?"fa-github-alt":-1!==e.indexOf("plus.google.com")?"fa-google-plus":-1!==e.indexOf("amzn.")||-1!==e.indexOf("//amazon")?"fa-amazon":-1!==e.indexOf("dropbox.com")?"fa-dropbox":-1!==e.indexOf("etsy.com")?"fa-etsy":-1!==e.indexOf("flickr.com")||-1!=e.indexOf("flic.kr")?"fa-flickr":-1!==e.indexOf("news.ycombinator.com")?"fa-hacker-news":-1!==e.indexOf("instagram.com")?"fa-instagram":-1!==e.indexOf("reddit.com")?"fa-reddit":"fa-external-link-square"},onMouseEnter:function(){this.setState({hover:!0})},onMouseLeave:function(){this.setState({hover:!1})},render:function(){var e=this.props,t=e.name,n=e.href,i=this.state.hover,o=this.getUrlIcon(n),a="metadata-display-link-wrapper",s="fa "+o+" metadata-display-link-icon";return!0===i&&(a+=" hover",s+=" hover"),r.default.DOM.a({href:n,target:"_blank",key:"link-"+t,className:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},r.default.DOM.i({className:s}),t)}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(3),n(2)),o=(n(6),n(392)),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function e(t){function n(e){return a.default.render(e,c)}function o(e){var t,i=document.getElementById("zeg-extension-webviewer-overlay"),r=document.getElementById("zeg-extension-webviewer-wrapper"),o=document.getElementById("zeg-extension-webviewer-modal");null===r&&(i=document.createElement("DIV"),r=document.createElement("DIV"),i.id="zeg-extension-webviewer-overlay",i.onclick=function(e){i.style.display="none"},r.id="zeg-extension-webviewer-wrapper",t=document.createElement("I"),t.className="fa fa-times-circle-o zeg-extension-webviewer-close",r.appendChild(t),i.appendChild(r),document.body.appendChild(i)),null!==o&&o.parentNode.removeChild(o),o=document.createElement("IFRAME"),o.id="zeg-extension-webviewer-modal",o.src=n(e),r.appendChild(o),i.style.display="block"}function s(){var e=document.getElementById("zeg-extension-webviewer-buttons");return null!==e&&e.parentNode.removeChild(e),e=document.createElement("div"),e.id="zeg-extension-webviewer-buttons",document.getElementById("zeg-metadata-header").appendChild(e),e}function l(e,t,n){var i,r,a;return i=document.createElement("div"),i.className="zeg-extension-webviewer-button",i.onclick=o.bind(this,t),r=document.createElement("i"),r.className="fa primary-color zeg-button "+n,a=document.createElement("span"),a.className="primary-color",a.textContent=e,i.appendChild(r),i.appendChild(a),i}function u(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=e[n].value;return t}i(this,e);var c={};void 0!==t&&null!==t&&(document.head.appendChild(function(){var e=document.createElement("style");return e.type="text/css",e.appendChild(document.createTextNode("#zeg-extension-webviewer-overlay { position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 10000; background-color: rgba(0,0,0,0.75); }\n#zeg-extension-webviewer-wrapper { width: 80%; height: 80%; margin: 0 auto; margin-top: 5%; background-color: #FFFFFF }\n.zeg-extension-webviewer-close { position: absolute; color: #FFFFFF; top: 0; right: 0; font-size: 32px; cursor: pointer; margin-top: calc(5% - 26px); margin-right: calc(10% - 24px);}\n#zeg-extension-webviewer-modal { border: none; width: 100%; height: 100%; }\n#zeg-extension-webviewer-buttons { width: 100%; display: inline-block; margin-top: 5px; }\n.zeg-extension-webviewer-button { background-color: #FFFFFF; display: inline-block; text-align: center; width: 30%; height: 60px; padding: 5px; float: left; cursor: pointer;}\n.zeg-extension-webviewer-button i { font-size: 20pt; width: 100%;}\n.zeg-extension-webviewer-button span { margin-top: 6px; display: inline-block;}")),e}()),Array.isArray(t)||(t=[t]),r.Events.on("metadata.show",function(e){if(void 0!==e.state&&void 0!==e.state.itemData&&void 0!==e.state.itemData.values){c=u(e.state.itemData.values);for(var n=s(),i=0;i<t.length;i++){var r,o,a=t[i],d="fa-tachometer";void 0!==a.label&&(r=a.label),void 0!==a.url&&(o=a.url),void 0!==a.icon&&(d=a.icon);var h=l(r,o,d);n.appendChild(h)}}}))};t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(3),n(2)),o=(n(6),n(392)),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function e(t){function n(e){return a.default.render(e,u)}function o(){var e=document.getElementById("zeg-extension-webviewer-buttons");return null!==e&&e.parentNode.removeChild(e),e=document.createElement("div"),e.id="zeg-extension-webviewer-buttons",document.getElementById("zeg-metadata-header").appendChild(e),e}function s(e,t,i){if(!u[t.match(/{{(.*?)}}/)[1]]&&!u[t.match(/{{{(.*?)}}}/)[1]])return document.createElement("div");var r,o,a;return r=document.createElement("div"),r.className="zeg-extension-webviewer-button",r.onclick=function(){t=n(t),"http"!=t.substring(0,4)&&(t="http://".concat(t)),window.open(t)},o=document.createElement("i"),o.className="fa primary-color zeg-button "+i,a=document.createElement("span"),a.className="primary-color",a.textContent=e,r.appendChild(o),r.appendChild(a),r}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=e[n].value;return t}i(this,e);var u={};void 0!==t&&null!==t&&(document.head.appendChild(function(){var e=document.createElement("style");return e.type="text/css",e.appendChild(document.createTextNode("#zeg-extension-webviewer-overlay { position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 10000; background-color: rgba(0,0,0,0.75); }\n#zeg-extension-webviewer-wrapper { width: 80%; height: 80%; margin: 0 auto; margin-top: 5%; background-color: #FFFFFF }\n.zeg-extension-webviewer-close { position: absolute; color: #FFFFFF; top: 0; right: 0; font-size: 32px; cursor: pointer; margin-top: calc(5% - 26px); margin-right: calc(10% - 24px);}\n#zeg-extension-webviewer-modal { border: none; width: 100%; height: 100%; }\n#zeg-extension-webviewer-buttons { width: 100%; display: inline-block; margin-top: 5px; }\n.zeg-extension-webviewer-button { background-color: #FFFFFF; display: inline-block; text-align: center; width: 30%; height: 60px; padding: 5px; float: left; cursor: pointer;}\n.zeg-extension-webviewer-button i { font-size: 20pt; width: 100%;}\n.zeg-extension-webviewer-button span { margin-top: 6px; display: inline-block;}")),e}()),Array.isArray(t)||(t=[t]),r.Events.on("metadata.show",function(e){if(void 0!==e.state&&void 0!==e.state.itemData&&void 0!==e.state.itemData.values){u=l(e.state.itemData.values);for(var n=o(),i=0;i<t.length;i++){var r,a,c=t[i],d="fa-tachometer";void 0!==c.label&&(r=c.label),void 0!==c.url&&(a=c.url),void 0!==c.icon&&(d=c.icon);var h=s(r,a,d);n.appendChild(h)}}}))};t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(3),a=n(22),s=n(150),l=function(){function e(){i(this,e),this.startRefresh()}return r(e,[{key:"startRefresh",value:function(){var e=o.Config.properties().configUrl;if(o.Config.properties().checkLoginStatus&&e){var t=(0,s.getCookie)("zeg_token");o.Config.update({authToken:"Bearer "+t}),window.setTimeout(function(){a.Ajax.getJSON(e,function(e){this.startRefresh()}.bind(this),function(e){401==e.status||403==e.status?location.reload(!0):this.startRefresh()})}.bind(this),1e4)}}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){var e=document.getElementById("zeg-viewpanel"),o=d.Config.properties();i=null!=o.description&&o.description.length>0||null!=o.disclaimer&&o.disclaimer.length>0,n=document.createElement("DIV"),n.id="ui-loading-container",n.className=i?"is-description":null,n.style.display="block",r=i?new c.default:new l.default,null!==o.loadingImage?r.props.loadingImage=o.baseImagePath+"/"+o.loadingImage:(r.props.loadingImage=o.baseImagePath+"/loading.gif",r.props.title="Zegami"),r.props.hide=t.hide,e.appendChild(n),t.updateProgress(0)}var t=this,n=null,i=!1,r=null,o=4,s=0,u=!1;h.Events.addListener("loader.show",function(){r=new c.default,n.className="is-description",i=!0,r.props.hide=t.hide,t.loadingComplete(),t.show()}),h.Events.addListener("loader.loading",function(e){t.updateStatus(d.Config.i18nValue("loader-loading")),t.show()}),h.Events.addListener("loader.loaded",function(e){s++,t.updateProgress(0),t.updateStatus(d.Config.i18nValue("loader-loaded"))}),h.Events.addListener("loader.ready",function(){t.updateStatus(d.Config.i18nValue("loader-ready"))}),h.Events.addListener("datastore.loaded",function(){s++,t.updateProgress(0),t.updateStatus(d.Config.i18nValue("loader-data-ready"))}),h.Events.addListener("tags.store.loading",function(){t.updateStatus(d.Config.i18nValue("loader-loading")),t.show()}),h.Events.addListener("tags.store.change",function(){s++,t.updateProgress(0),t.updateStatus(d.Config.i18nValue("loader-data-ready"))}),h.Events.addListener("tilemanager.loading",function(){u&&(r=new l.default,n.className=null,i=!1,t.resetCounters(1),t.updateProgress(0)),t.show(),t.updateStatus(d.Config.i18nValue("loader-tilemanger-loading"))}),h.Events.addListener("tilemanager.ready",function(){s++,t.updateStatus(d.Config.i18nValue("loader-loaded")),t.updateProgress(1),t.loadingComplete()}),h.Events.addListener("ajax.progress",function(e){t.updateProgress(e)}),t.updateStatus=function(i){null===n&&e(),r.props.status=i,t.renderLoadingComponent()},t.updateProgress=function(e){if(null!==r){var n=e*(1/o)+s/o;r.props.progress=n,t.renderLoadingComponent()}},t.loadingComplete=function(){i?(r.props.loadingComplete=!0,t.renderLoadingComponent()):t.hide(),u=!0},t.renderLoadingComponent=function(){a.default.renderComponent(r,n)},t.show=function(){null===n&&e(),i&&h.Events.emit("lightbox.show"),n.style.display="block"},t.hide=function(){i&&h.Events.emit("lightbox.hide"),n.style.display="none"},t.resetCounters=function(e){o=e,s=0}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var o=n(4),a=i(o),s=n(792),l=i(s),u=n(793),c=i(u),d=n(3),h=n(2),p=null;t.Loading=p=p||new r,t.Loading=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r),a=n(393),s=i(a);t.default=o.default.createClass({displayName:"ui/panels/LoadingContainer",getDefaultProps:function(){return{loadingComplete:!1}},render:function(){var e=void 0!==this.props.title;return o.default.DOM.div({className:"ui-loading-wrapper"},o.default.DOM.img({className:e?"ui-loading-animation-title":"ui-loading-animation",src:this.props.loadingImage}),o.default.DOM.div({className:"ui-loading-wrapper-child"},e?o.default.DOM.div({className:"ui-loading-title"},this.props.title):null,o.default.DOM.div({className:"ui-loading-progress-wrapper"},(0,s.default)({progress:this.props.progress})),o.default.DOM.div({className:"ui-loading-status"},this.props.status)))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r),a=n(794),s=i(a),l=n(795),u=i(l),c=n(393),d=i(c),h=n(3);t.default=o.default.createClass({displayName:"ui/panels/LoadingInfoContainer",getDefaultProps:function(){return{loadingComplete:!1}},getInitialState:function(){var e=h.Config.properties(),t=null!==e.description?e.description:"",n=e.disclaimer;return null===n&&"descriptionAgreement"in e&&(n=h.Config.properties().descriptionAgreement),{description:t,disclaimer:n,canOk:!(null!==n&&n.length>0)}},render:function(){return o.default.DOM.div({className:"ui-loading-info-wrapper"},o.default.DOM.div({className:"ui-loading-info-progress-wrapper"},(0,d.default)({progress:this.props.progress})),o.default.DOM.div({className:"ui-loading-info-body-wrapper"},o.default.DOM.div({className:"ui-loading-info-title-wrapper"},o.default.DOM.img({className:"ui-loading-info-icon",src:this.props.loadingComplete?h.Config.properties().baseImagePath+"/zegami-icon-44x44.png":h.Config.properties().baseImagePath+"/loading.gif"}),o.default.DOM.span({className:"ui-loading-info-title",dangerouslySetInnerHTML:this.getTitleText()})),o.default.DOM.div({className:"ui-loading-info-description ql-snow"},(0,s.default)({description:this.state.description})),null!==this.state.disclaimer&&this.state.disclaimer.length>0?o.default.DOM.div({className:"ui-loading-info-description-disclaimer"},(0,u.default)({disclaimer:this.state.disclaimer,onAgreement:this._onAgreement})):null,o.default.DOM.div({className:"ui-loading-info-status-wrapper"},o.default.DOM.span({className:"ui-loading-info-status"},this.props.status),this.props.loadingComplete?o.default.DOM.button({className:"Button Button--large is-success",onClick:this.closeInfoContainer,disabled:!this.state.canOk},h.Config.i18nValue("close")):o.default.DOM.button({className:"Button Button--large is-info",disabled:!0},h.Config.i18nValue("loading")))))},getTitleText:function(){return{__html:(new DOMParser).parseFromString(h.Config.properties().title,"text/html").documentElement.textContent}},closeInfoContainer:function(){this.props.hide()},_onAgreement:function(e){this.setState({canOk:e})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=r.default.createClass({displayName:"ui/panels/CollectionDescription",render:function(){return r.default.DOM.div({className:"ql-editor",dangerouslySetInnerHTML:this.getDescriptionText()})},getDescriptionText:function(){return{__html:this.props.description}}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default.createClass({displayName:"ui/panels/CollectionDisclaimer",propTypes:{disclaimer:r.default.PropTypes.string,onAgreement:r.default.PropTypes.func.isRequired},render:function(){return r.default.DOM.label({htmlFor:"ui-loading-info-disclaimer"},r.default.DOM.input({id:"ui-loading-info-disclaimer",type:"checkbox",onChange:this._onChange},null),r.default.DOM.div({dangerouslySetInnerHTML:this.getAgreementText()}))},getAgreementText:function(){return{__html:(new DOMParser).parseFromString(this.props.disclaimer,"text/html").documentElement.textContent}},_onChange:function(e){var t=e.target.checked;this.props.onAgreement(t)}})}]);